<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Linux - 小惡魔 - AppleBOY</title><meta name=author content="Appleboy"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"小惡魔 - AppleBOY","url":"https:\/\/blog.wu-boy.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/blog.wu-boy.com"}</script><meta property="og:title" content="Linux"><meta property="og:image" content="https://lh3.googleusercontent.com/jsocHCR9A9yEfDVUTrU0m42_aHhTEVDGW5p5PsQSx7GSlkt3gLjohfXH3S7P7p982332ruU_e-EtW0LwmiuZjvN65VIcyME-zE35C6EM0IV1nqY6KoNw3dwW2djjid3F-T5YgnJothA=w1920-h1080"><meta property="og:url" content="https://blog.wu-boy.com/categories/linux/"><meta property="og:type" content="website"><meta property="og:site_name" content="小惡魔 - AppleBOY"><meta name=twitter:title content="Linux"><meta name=twitter:image content="https://lh3.googleusercontent.com/Kq9CxHZWopKj__EgF_BpzLv8FhwvDkc0iacrl9V5IJjpr-dZ7Y5O-Vc1i9FhGQ8gHTdKeBisG_1ie1IONQXmK0a3myyl_BNouP76CLHGHRzsPPRgRF3RiKYqOkdS86mZOIu7KYFTUio=w1920-h1080"><meta name=twitter:card content="summary"><meta name=twitter:site content="@appleboy"><meta name=twitter:creator content="@appleboy"><link href=https://i.imgur.com/PpOg8Dz.jpg rel=icon type=image/x-icon><meta name=generator content="Hugo 0.99.0"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css><link rel=stylesheet href=https://blog.wu-boy.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://blog.wu-boy.com/css/syntax.css><link rel=stylesheet href=https://blog.wu-boy.com/css/codeblock.css><link rel=alternate type=application/rss+xml href=https://blog.wu-boy.com/categories/linux/feed.xml title="小惡魔 - AppleBOY"><link rel=alternate type=application/rss+xml href=https://blog.wu-boy.com/categories/linux/feed.xml title="小惡魔 - AppleBOY"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-5766319-6","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://blog.wu-boy.com>小惡魔 - AppleBOY</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title="Youtube 頻道" href=http://bit.ly/youtube-boy><i class="fab fa-youtube"></i> Youtube 頻道</a></li><li class=navlinks-container><a class=navlinks-parent><i class="fas fa-video"></i> 線上課程</a><div class=navlinks-children><a href=/golang-online-course/>Go 語言基礎實戰</a>
<a href=/docker-course/>Docker 容器開發實戰</a>
<a href=/drone-devops/>一天學會 DevOps 自動化流程</a></div></li><li><a title=歷年文章 href=/archives/><i class="fas fa-sitemap fa-lg"></i> 歷年文章</a></li><li><a href=#modalSearch data-toggle=modal data-target=#modalSearch style=outline:none><span class="hidden-sm hidden-md hidden-lg">Search</span> <span id=searchGlyph class="glyphicon glyphicon-search"></span></a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="小惡魔 - AppleBOY" href=https://blog.wu-boy.com><img class=avatar-img src="https://lh3.googleusercontent.com/Kq9CxHZWopKj__EgF_BpzLv8FhwvDkc0iacrl9V5IJjpr-dZ7Y5O-Vc1i9FhGQ8gHTdKeBisG_1ie1IONQXmK0a3myyl_BNouP76CLHGHRzsPPRgRF3RiKYqOkdS86mZOIu7KYFTUio=w1920-h1080" alt="小惡魔 - AppleBOY"></a></div></div></div></nav><div id=modalSearch class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal>&#215;</button><h4 class=modal-title>Search 小惡魔 - AppleBOY</h4></div><div class=modal-body><gcse:search></gcse:search></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-md-10 col-md-offset-1"><div class=categories-heading><h1>Linux</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-md-10 col-md-offset-1"><div class=posts-list><article class=post-preview><a href=https://blog.wu-boy.com/2013/11/intergrate-work-flow-with-gitlab/><h2 class=post-title>Gitlab CE + Gitlab CI 打造版本控制及自動測試流程</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on November 1, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;65&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><div style="margin:0 auto;text-align:center"><a href=https://www.flickr.com/photos/appleboy/10605193576/ title="gitlab_logo by appleboy46, on Flickr"><img src="https://i2.wp.com/farm4.staticflickr.com/3830/10605193576_54b54e4dfc_n.jpg?resize=320%2C206&ssl=1" alt=gitlab_logo data-recalc-dims=1></a></div><p>Git 版本控制不管在嵌入式或 Web 領域都是很受歡迎的工具，尤其是不會遇到像 svn 搞爛 source tree，然後又要 Google 一堆解法。一般公司入門大概就是買 <a href=https://github.com/ target=_blank>Github</a> 服務，一個月才五美金，可以提供五個 Private Project，當然你也可以不付錢，而去使用 <a href=https://bitbucket.org/ target=_blank>Bitbucket</a>，好處就是無限的 Private Project，唯一的限制就是開發者數量，只能在五個以內，設定超過五個，就不給 push 或 pull 了，完成版本控制後，接著就是專案的自動測試，在 github 上面，推的就是 <a href=https://travis-ci.org/ target=_blank>travis-ci</a>，這也是全部 open source 專案的喜好，你會發現大部分的專案都會放上 <a href=https://github.com/appleboy/backbone-template-engine/blob/master/.travis.yml target=_blank>.travis.yml</a>，來告訴 travis 需要的測試步驟，測試步驟完成後，就要將 source code deploy 到 Amazone 或其他雲端服務，到這個服務基本上都要收費了，所以<a href=http://blog.wu-boy.com/2013/10/drone-io-with-runy-compass-setup/ target=_blank>上一篇</a>有介紹 <a href=https://drone.io/ target=_blank>Drone.io</a> 服務，可以自動測試加上 Deploy 到遠端機器，不過缺點就是不支援 Private Project，要的話就是要收費。</p><a href=https://blog.wu-boy.com/2013/11/intergrate-work-flow-with-gitlab/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/github/>Github</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/gitlab/>GitLab</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/10/haproxy-get-user-real-ip-using-codeigniter/><h2 class=post-title>HAProxy 搭配 CodeIgniter 取使用者真實 IP</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on October 9, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;108&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>前端 Load Balance 首選就是 <a href=http://haproxy.1wt.eu/ target=_blank>HAProxy</a>，後端架設 <a href=http://nginx.org/ target=_blank>Nginx</a> 搭配 <a href=http://www.codeigniter.org.tw/ target=_blank>CodeIgniter</a>，紀錄使用者 IP 時，Nginx 總是只有抓到內部 IP 192.168.x.x，而無法抓到真實 Public IP，要抓到 Public IP 必須修改 HAProxy + Nginx 設定檔，HAProxy 只要在 Backend 地方加入 <a href=http://code.google.com/p/haproxy-docs/wiki/forwardfor target=_blank>forward</a> 選項，這樣 HAProxy 會送 X-Forwarded-For header 給後端 Nginx。</p><pre class="brush: bash; title: ; notranslate" title>option forwardfor</pre><a href=https://blog.wu-boy.com/2013/10/haproxy-get-user-real-ip-using-codeigniter/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/codeigniter/>CodeIgniter</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/haproxy/>HAProxy</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/09/postfix-mailbox-preference/><h2 class=post-title>Postfix mailbox 設定</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on September 6, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;84&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry>此篇不會講太多 Postfix 的設定，只是紀錄如何設定 Postfix mailbox。Postfix 提供兩種 E-mail 儲存格式，一種就是將全部的 mail 都寫到同一個檔案，此方式是 Postfix 裝好後預設的模式，另外的就是一封 E-mail 一個檔案，這兩者各有優缺點好壞，前者最大的問題就在於如果該檔案壞掉，那使用者的全部 Email 就消失了，所以個人比較偏好後面方式，最主要最近裝按要實做 E-mail Queue 功能，後者才能讓程式好判斷該目錄是否有異動。
Mailbox 如果都不修改任何設定預設裝好 Postfix，就可以看到 /var/spool/mail/ 目錄下有許多使用者檔案，一個使用者一個檔案，當然你也可以將使檔案設定在家目錄裡面。打開 /etc/postfix/main.cf 設定檔，並加入底下設定 home_mailbox = Mailbox 此設定會將原本放在 /var/spool/mail/ 目錄下的檔案都換成 /home/appleboy/Mailbox，注意在 bashrc 請加入 $ export MAIL=~/Mailbox Maildir 如果改成此設定，就會變成一個檔案代表一封 email，請在 /etc/postfix/main.cf 加入底下設定
home_mailbox = Maildir/ 接著取消 MAIL 變數 $ unset MAIL 最後寫入新的變數內容 $ export MAILDIR=~/Maildir 重新啟動 postfix $ /etc/init.d/postfix restart 寄封信測試看看目錄是否有建立: $ echo "This is the message body" | mail -s "
<a href=https://blog.wu-boy.com/2013/09/postfix-mailbox-preference/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/mail/>mail</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/postfix/>Postfix</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/07/linode-storage-space-doubled/><h2 class=post-title>Linode 升級硬碟空間</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on July 27, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;8&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>Linode 繼上次升級了<a href=http://blog.wu-boy.com/2013/03/linode-nextgen-the-network-and-hardware/ target=_blank>硬體及網路設備</a>，這次又來升級硬碟空間，每個方案將空間調到兩倍 <a href=https://blog.linode.com/2013/07/25/storage-space-doubled/ target=_blank>Storage Space Doubled!</a>，所以整體方案表格如下: <a href=https://www.flickr.com/photos/appleboy/9372047355/ title="Linode by appleboy46, on Flickr"><img src="https://i0.wp.com/farm4.staticflickr.com/3669/9372047355_840d80c1e1_z.jpg?resize=640%2C304&ssl=1" alt=Linode data-recalc-dims=1></a> 今年的動作還真多，果然是受到同業 <a href=https://www.digitalocean.com/ target=_blank>DigitalOcean</a> 的影響，網路虛擬主機還是需要一點競爭比較好。</p></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/digital-ocean/>Digital Ocean</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/linode/>Linode</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/vps/>VPS</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/07/nginx-port-redirect-issue-with-haproxy/><h2 class=post-title>HAproxy 搭配 Nginx port redirect issue</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on July 17, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;43&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><div style="margin:0 auto;text-align:center"><a href=https://www.flickr.com/photos/appleboy/8684224387/ title="nginx-logo by appleboy46, on Flickr"><img src="https://i2.wp.com/farm9.staticflickr.com/8401/8684224387_19de454ebf.jpg?resize=320%2C120&ssl=1" alt=nginx-logo data-recalc-dims=1></a></div><p><a href=http://haproxy.1wt.eu/ target=_blank>HAproxy</a> 是一套高效能分散式系統軟體，後端可搭配 Web 或 SQL 服務，這次在後端搭配 <a href=http://nginx.org/ target=_blank>Nginx</a> 出現 port redirect 問題，問題很簡單，在 Haproxy 設定 80 port 對應到內部三台 Nginx 機器，但是 Nginx port 設定 8080，這樣當我們在瀏覽網址如下:</p><blockquote><p><a href=http://aaa.bbb.ccc.ddd/test>http://aaa.bbb.ccc.ddd/test</a> (請注意，最後沒有 slash 喔) 你會發現 Nginx 將網址轉成</p></blockquote><blockquote><p><a href=http://aaa.bbb.ccc.ddd:8080/test/>http://aaa.bbb.ccc.ddd:8080/test/</a> 為了避免 Nginx 自動將 port 加入到網址列，我們可以透過設定 <a href=http://wiki.nginx.org/HttpCoreModule#port_in_redirect target=_blank>port_in_redirect</a>，Nginx 預設將此設定為 On，所以將此設定為 off，並且重新啟動 Nginx 即可</p></blockquote><pre class="brush: bash; title: ; notranslate" title>port_in_redirect off;</pre></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/haproxy/>HAProxy</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/nginx/>nginx</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/04/nginx-1-4-0-support-spdy-module/><h2 class=post-title>nginx 1.4.0 釋出並支援 SPDY</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on April 28, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;241&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p><strong>Update: 由於 OpenSSL CVE-2014-0160 Heartbleed Security，請將 openssl 升級到 1.0.1g 版本</strong></p><div style="margin:0 auto;text-align:center"><a href=https://www.flickr.com/photos/appleboy/8684224387/ title="nginx-logo by appleboy46, on Flickr"><img src="https://i2.wp.com/farm9.staticflickr.com/8401/8684224387_19de454ebf.jpg?resize=320%2C120&ssl=1" alt=nginx-logo data-recalc-dims=1></a></div><p>很高興看到 <a href=http://nginx.org/ target=_blank>Nginx</a> Release 1.4.0 版本，此新版本開始支援 <a href=http://nginx.org/en/docs/http/ngx_http_spdy_module.html target=_blank>SPDY module</a>，對於 SPDY 還不熟悉了解的，可以參考今年 <a href=http://www.webconf.tw target=_blank>2013 WebConf</a> 講師 ihower 介紹的 <a href=http://www.slideshare.net/ihower/a-brief-introduction-to-spdy-http20 target=_blank>A brief introduction to SPDY - 邁向 HTTP/2.0</a>，要提升整個 Web Performance，可以將 SPDY 導入，對於使用 Apache 使用者，請參考 <a href=http://code.google.com/p/mod-spdy/ target=_blank>mod_spdy</a>，如果是 Nginx 用戶，在 1.3.x 版本，可以直接用官方 <a href=http://nginx.org/patches/spdy/patch.spdy.txt>patch</a>，升級到 1.4.x 就不需要 patch 了，但 OS 是 <a href=http://www.ubuntu.com/ target=_blank>Ubuntu</a> 或 <a href=http://www.centos.org/ target=_blank>CentOS</a> 系列是需要自行編譯，這次會筆記在 CentOS 下將 spdy 編譯進系統。</p><h3 id=安裝方式>安裝方式</h3><p>先看 Ngix 是否有支援 spdy，直接下 nginx -V 觀看</p><blockquote><p>nginx version: nginx/1.1.19 TLS SNI support enabled configure arguments: &ndash;prefix=/etc/nginx &ndash;conf-path=/etc/nginx/nginx.conf &ndash;erth=/var/lib/nginx/body &ndash;http-fastcgi-temp-path=/var/lib/nginx/fastcgi &ndash;http-lb/nginx/proxy &ndash;http-scgi-temp-path=/var/lib/nginx/scgi &ndash;http-uwsgi-temp-path==/var/run/nginx.pid &ndash;with-debug &ndash;with-http_addition_module &ndash;with-http_dav_moith-http_image_filter_module &ndash;with-http_realip_module &ndash;with-http_stub_status__xslt_module &ndash;with-ipv6 &ndash;with-sha1=/usr/include/openssl &ndash;with-md5=/usr/includ/buildd/nginx-1.1.19/debian/modules/nginx-auth-pam &ndash;add-module=/build/buildd/d/nginx-1.1.19/debian/modules/nginx-upstream-fair &ndash;add-module=/build/buildd/ng</p></blockquote><a href=https://blog.wu-boy.com/2013/04/nginx-1-4-0-support-spdy-module/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/nginx/>nginx</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/spdy/>spdy</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/04/fabric-ssh-for-deploy-or-systems-administration/><h2 class=post-title>Fabric 管理多台 Linux 機器的 command tool</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on April 25, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;484&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><div style="margin:0 auto;text-align:center"><a href=https://www.flickr.com/photos/appleboy/8679381967/ title="python-logo-master-v3-TM by appleboy46, on Flickr"><img src="https://i0.wp.com/farm9.staticflickr.com/8123/8679381967_75cee4e0e9_n.jpg?resize=320%2C108&ssl=1" alt=python-logo-master-v3-TM data-recalc-dims=1></a></div>相信 Administrator 管理過兩台以上的 Linux Server 都一定會找 tool 讓多台機器同時執行指令，這也應用在 Deploy 任何 application 到多台機器或者是同時更新系統套件…等，網路上有蠻多套 command line tool 像是<p><a href=https://github.com/capistrano/capistrano target=_blank>capistrano</a>、<a href=http://docs.fabfile.org target=_blank>Fabric</a>、<a href=http://code.google.com/p/parallel-ssh/ target=_blank>pssh</a>、<a href="http://packages.debian.org/search?keywords=dsh" target=_blank>dsh</a>…等都，本篇會以 <a href=http://www.python.org/ target=_blank>Python</a> 所推的 Fabric 來做介紹。另外 Ruby 所寫的 capistrano tool 也是不錯的選擇，這兩套其實大同小異，可以將 Deploy 的邏輯寫成單一 file 再透過 task 定義來決定執行的工作。當然你也可以透過此 tool 來管理 local 端動作，但是這有點多此一舉，因為基本的 Shell 就可以完成了，如果熟悉 Python 則選 fabric，如果喜歡寫 <a href=http://www.ruby-lang.org/en/ target=_blank>Ruby</a> 則可以試試看 capistrano。</p><h3 id=安裝方式installation-如果是>安裝方式(Installation) 如果是</h3><p><a href=http://www.centos.org/ target=_blank>CentOS</a> 系列可以透過 yum 套件管理，<a href=http://www.ubuntu.com/ target=_blank>Ubuntu</a> 或 <a href=http://www.debian.org/ target=_blank>Debian</a> 則是透過 aptitude 方式安裝。 Yum</p><pre class="brush: bash; title: ; notranslate" title># install python pip tool and fabric command
yum -y install python-pip
pip-python install fabric</pre>APT<pre class="brush: bash; title: ; notranslate" title># install python easy_install
aptitude -y install python-pip
# install fabric command
pip install fabric</pre>安裝 capistrano 可以透過 Ruby gem。<pre class="brush: bash; title: ; notranslate" title>$ gem install capistrano</pre><a href=https://blog.wu-boy.com/2013/04/fabric-ssh-for-deploy-or-systems-administration/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/capistrano/>capistrano</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/fabric/>Fabric</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/python/>Python</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/ruby/>Ruby</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/04/linode-nextgen-ram-upgrade/><h2 class=post-title>Linode 最後優惠 升級記憶體</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on April 13, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;73&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><div style="margin:0 auto;text-align:center"><img src="https://i1.wp.com/www.linode.com/images/linode_logo_gray.png?w=840" alt="Linode VPS" data-recalc-dims=1></div><p><a href=http://www.linode.com/ target=_blank>Linode</a> 最後的<a href=http://blog.linode.com/2013/04/09/linode-nextgen-ram-upgrade/ target=_blank>優惠出來</a>了，之前寫了一篇 <a href=http://blog.wu-boy.com/2013/03/linode-nextgen-the-network-and-hardware/ target=_blank>Linode VPS 升級網路及硬體設備</a>，回顧 Linode 今年的優惠大清倉，第一次專注在網路效能及流量頻寬升級，第二次則著重在硬體升級，也就是升級 CPU，那這次要升級什麼呢，難不成 Linode 有聽到上一篇最後我講到的心聲，就是記憶體升級啦，Linode 大手筆將全部 Plan 的記憶體都 double，底下這張圖就是升級過後的價目表。 <a href=https://www.flickr.com/photos/appleboy/8644720634/ title="Linode - Xen VPS Hosting 2013-04-13 11-04-36 by appleboy46, on Flickr"><img src="https://i2.wp.com/farm9.staticflickr.com/8523/8644720634_2aa50ba238.jpg?resize=500%2C198&ssl=1" alt="Linode - Xen VPS Hosting 2013-04-13 11-04-36" data-recalc-dims=1></a></p><a href=https://blog.wu-boy.com/2013/04/linode-nextgen-ram-upgrade/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/linode/>Linode</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/vps/>VPS</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2013/03/galera-cluster-for-mysql-multi-master-replication/><h2 class=post-title>Galera Cluster for MySQL Multi-master Replication</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on March 31, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;626&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><div style="margin:0 auto;text-align:center"><a title="galera_mysql_replication by appleboy46, on Flickr" href=https://www.flickr.com/photos/appleboy/8603447002/><img alt=galera_mysql_replication src="https://i0.wp.com/farm9.staticflickr.com/8383/8603447002_050ecd1b53.jpg?resize=500%2C247&ssl=1" data-recalc-dims=1></a></div>最近公司買了幾台機架伺服器來處理 HTTP 跟 DB Load balancer，要做到 DB 的分散式架構，首先需要同步多台機器資料，也就是寫入或更動任意一台單筆資料，另外平行的機器也會同時進行更新。同步的好處可以用來做備援及分散處理連線，而要做到此功能，可子參考網路上評價不錯的<p><a href=http://www.codership.com/content/using-galera-cluster target=_blank>Galera Cluster for MySQL</a> 方案。本篇會介紹在 <a href=http://www.ubuntu.com/ target=_blank>Ubuntu</a> 或 <a href=http://www.centos.org/ target=_blank>CentOS</a> 6.x final 版本如何安裝 Galera 伺服器套件及設定。要架設 Galera Cluster Server，有兩種套件選擇，一個是 <a href=http://www.percona.com/software/percona-xtradb-cluster target=_blank>Percona XtraDB Cluster</a> 另一個是 <a href=https://downloads.mariadb.org/mariadb-galera/ target=_blank>MariaDB Galera Cluster</a>，這次作者會介紹後者的安裝。</p><h3 id=galera-cluster-介紹-為什麼要選擇-galera-cluster-server它有什麼優點及功能呢mysqlgalera-是一套可以同步多台-mysqlinnodb-機器的叢集系統底下可以列出功能>Galera Cluster 介紹 為什麼要選擇 Galera Cluster Server，它有什麼優點及功能呢？MySQL/Galera 是一套可以同步多台 MySQL/InnoDB 機器的叢集系統，底下可以列出功能。</h3><ul><li>同步複製資料</li><li>可讀取和寫入叢集系統內任一節點</li><li>自動偵測節點錯誤，如果有節點當機，則叢集系統自動移除該節點</li><li>可任意擴充節點</li><li>採用 row level 方式來平行複製資料 從上面功能看來，我們可以平行任意擴充節點，動態增加伺服器到叢集系統，要做到上面功能，就是利用</li></ul><p><a href=http://www.codership.com/products/galera_replication target=_blank>Galera library</a> 來做到同步資料處理，同步的詳細細節，可以參考 Galera library 連結。這邊就不再多描述了。</p><a href=https://blog.wu-boy.com/2013/03/galera-cluster-for-mysql-multi-master-replication/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/galera/>Galera</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/haproxy/>HAProxy</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/innodb/>InnoDB</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mariadb/>Mariadb</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona/>Percona</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2012/12/linode-storage-increased-by-20/><h2 class=post-title>虛擬主機商 Linode 增加 20% 儲存空間</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on December 16, 2012
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;73&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry>Linode 在美國時間 2012/12/14 宣佈全部方案增加 20% 儲存空間，Linode 是一個蠻穩定的虛擬主機商，除了有時候常常維護以外，目前找不到有任何值得探討的缺點，每年周年慶也推出贈送 100 美金的方案，也不定時增加記憶體，像是以前有 720方案，現在已經看不到了，每個月39美元就可以租到 1GB Ram 的方案，這次增加儲存空間，可以透過後台方式將硬碟容量調整。真的是太感謝 Linode 了。如果想玩 VPS 我首推的就是 Linode，或者是可以嘗試免費的 AWS Free Usage Tier EC2。Linode 容量調整如下:
Linode 512 goes from 20GB to 24GB Linode 1GB goes from 40GB to 48GB Linode 2GB goes from 80GB to 96GB Linode 4GB goes from 160GB to 192GB Linode 8GB goes from 320GB to 384GB Linode 12GB goes from 480GB to 576GB Linode 20GB goes from 800GB to 960GB
<a href=https://blog.wu-boy.com/2012/12/linode-storage-increased-by-20/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/amazon/>Amazon</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/linode/>Linode</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/vps/>VPS</a>&nbsp;</div></article></div><ul class="pager main-pager"><li class=previous><a href=https://blog.wu-boy.com/categories/linux/page/2/>&larr; Newer Posts</a></li><li class=next><a href=https://blog.wu-boy.com/categories/linux/page/4/>Older Posts &rarr;</a></li></ul></div></div></div><footer class=post-footer><div class=container><div class=row><div class="col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:appleboy.tw@gmail.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.facebook.com/appleboy46 title=Facebook><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/appleboy title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://gitlab.com/appleboy title=GitLab><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-gitlab fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://bitbucket.org/appleboy title=Bitbucket><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-bitbucket fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/appleboy title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/appleboy title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.youtube.com/channel/UCLCZJ9d_I7UJP2bpXpge8KA title=Youtube><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-youtube fa-stack-1x fa-inverse"></i></span></a></li><li><a href=/categories/linux/feed.xml title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=https://blog.wu-boy.com>Appleboy</a>
&nbsp;&bull;&nbsp;&copy;
2022
&nbsp;&bull;&nbsp;
<a href=https://blog.wu-boy.com>小惡魔 - AppleBOY</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.99.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://blog.wu-boy.com/js/main.js></script>
<script>(function(){var t,n="003841896160749976666:l9i5hqttpqi",e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx="+n,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>$(function(){$("#show-comments").on("click",function(){var e="appleboy48";(function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)})(),$(this).hide()})})</script><script id=dsq-count-scr src=//appleboy48.disqus.com/count.js async></script><div class=back-to-top id=back-to-top><i class="fas fa-angle-double-up"></i></div></body></html>