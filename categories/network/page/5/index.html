<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Network - 小惡魔 - AppleBOY</title><meta name=author content="Appleboy"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"小惡魔 - AppleBOY","url":"https:\/\/blog.wu-boy.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/blog.wu-boy.com"}</script><meta property="og:title" content="Network"><meta property="og:image" content="https://lh3.googleusercontent.com/jsocHCR9A9yEfDVUTrU0m42_aHhTEVDGW5p5PsQSx7GSlkt3gLjohfXH3S7P7p982332ruU_e-EtW0LwmiuZjvN65VIcyME-zE35C6EM0IV1nqY6KoNw3dwW2djjid3F-T5YgnJothA=w1920-h1080"><meta property="og:url" content="https://blog.wu-boy.com/categories/network/"><meta property="og:type" content="website"><meta property="og:site_name" content="小惡魔 - AppleBOY"><meta name=twitter:title content="Network"><meta name=twitter:image content="https://lh3.googleusercontent.com/Kq9CxHZWopKj__EgF_BpzLv8FhwvDkc0iacrl9V5IJjpr-dZ7Y5O-Vc1i9FhGQ8gHTdKeBisG_1ie1IONQXmK0a3myyl_BNouP76CLHGHRzsPPRgRF3RiKYqOkdS86mZOIu7KYFTUio=w1920-h1080"><meta name=twitter:card content="summary"><meta name=twitter:site content="@appleboy"><meta name=twitter:creator content="@appleboy"><link href=https://i.imgur.com/PpOg8Dz.jpg rel=icon type=image/x-icon><meta name=generator content="Hugo 0.101.0"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css><link rel=stylesheet href=https://blog.wu-boy.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://blog.wu-boy.com/css/syntax.css><link rel=stylesheet href=https://blog.wu-boy.com/css/codeblock.css><link rel=alternate type=application/rss+xml href=https://blog.wu-boy.com/categories/network/feed.xml title="小惡魔 - AppleBOY"><link rel=alternate type=application/rss+xml href=https://blog.wu-boy.com/categories/network/feed.xml title="小惡魔 - AppleBOY"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-5766319-6","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://blog.wu-boy.com>小惡魔 - AppleBOY</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title="Youtube 頻道" href=http://bit.ly/youtube-boy><i class="fab fa-youtube"></i> Youtube 頻道</a></li><li class=navlinks-container><a class=navlinks-parent><i class="fas fa-video"></i> 線上課程</a><div class=navlinks-children><a href=/golang-online-course/>Go 語言基礎實戰</a>
<a href=/docker-course/>Docker 容器開發實戰</a>
<a href=/drone-devops/>一天學會 DevOps 自動化流程</a></div></li><li><a title=歷年文章 href=/archives/><i class="fas fa-sitemap fa-lg"></i> 歷年文章</a></li><li><a href=#modalSearch data-toggle=modal data-target=#modalSearch style=outline:none><span class="hidden-sm hidden-md hidden-lg">Search</span> <span id=searchGlyph class="glyphicon glyphicon-search"></span></a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="小惡魔 - AppleBOY" href=https://blog.wu-boy.com><img class=avatar-img src="https://lh3.googleusercontent.com/Kq9CxHZWopKj__EgF_BpzLv8FhwvDkc0iacrl9V5IJjpr-dZ7Y5O-Vc1i9FhGQ8gHTdKeBisG_1ie1IONQXmK0a3myyl_BNouP76CLHGHRzsPPRgRF3RiKYqOkdS86mZOIu7KYFTUio=w1920-h1080" alt="小惡魔 - AppleBOY"></a></div></div></div></nav><div id=modalSearch class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal>&#215;</button><h4 class=modal-title>Search 小惡魔 - AppleBOY</h4></div><div class=modal-body><gcse:search></gcse:search></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal>Close</button></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-md-10 col-md-offset-1"><div class=categories-heading><h1>Network</h1><hr class=small></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-md-10 col-md-offset-1"><div class=posts-list><article class=post-preview><a href=https://blog.wu-boy.com/2007/03/fon_appleboy%E7%86%B1%E9%BB%9E%E6%95%85%E4%BA%8B-%EF%BC%9A%E5%8D%97%E6%8A%95%E5%B8%82%E4%B8%AD%E8%88%88%E6%96%B0%E6%9D%91/><h2 class=post-title>[FON_Appleboy]熱點故事 ：南投市中興新村</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on March 27, 2007
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;58&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>a. 安裝時間：2007-01-09 b. 地點 : 南投市中興新村光明一路252號 國史館台灣文獻館</p><p><a>c. FON AP名稱(FON_Appleboy) 跟我的id相同啦 d.FON熱點故事： 說到熱典故事，我來介紹一下這裡好了，我目前是在國史館台灣文獻館擔任替代役 但是我今年5月底就退伍了，當然我就要把fon帶回我的故鄉 高雄啦，所以這裡是暫時性的喔 我在這個單位擔任程式設計師，做數位話的工作，這裡相當漂亮，因為有3棟很特別的建築物 <a href=http://www.th.gov.tw/exhibition/exhibition.htm>文獻大樓<a>：文獻大樓各樓層介紹 <a href=http://www.th.gov.tw/exhibition/exhibition_2.htm>文物大樓<a>：文物大樓各樓層介紹 <a href=http://www.th.gov.tw/exhibition/exhibition_3.htm>史蹟大樓<a>：史蹟大樓各樓層介紹</p><a href=https://blog.wu-boy.com/2007/03/fon_appleboy%E7%86%B1%E9%BB%9E%E6%95%85%E4%BA%8B-%EF%BC%9A%E5%8D%97%E6%8A%95%E5%B8%82%E4%B8%AD%E8%88%88%E6%96%B0%E6%9D%91/ class=post-read-more>[Read More]</a></div></article><article class=post-preview><a href=https://blog.wu-boy.com/2007/03/freebsd-postfix-smtp-auth-%E6%93%8B-mail-spam-%E6%A9%9F%E5%88%B6/><h2 class=post-title>[FreeBSD] postfix + auth smtp + anti-UCE 詳細設定</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on March 16, 2007
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;4&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;750&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>自從考上中正電機「94年考上」之後接上 中正電機 郵件伺服器網管工作，目前 中正電機 已經把網路組歸到 中正通 訊底下了，所以我已經不再是 中正電機 了，目前是以 中正通訊 的身份，不過目前我休學狀態，還在服兵役當中，在南投 國史館台灣文獻館 底下工作。我是在入學 中正電機 研究所的第一個學期末就已經休學了，目前已經快退伍了。</p><a href=https://blog.wu-boy.com/2007/03/freebsd-postfix-smtp-auth-%E6%93%8B-mail-spam-%E6%A9%9F%E5%88%B6/ class=post-read-more>[Read More]</a></div></article><article class=post-preview><a href=https://blog.wu-boy.com/2007/03/www-%E7%B6%B2%E7%AB%99%E5%88%86%E6%B5%81%E5%95%8F%E9%A1%8C%EF%BC%8C%E5%9C%A8ptt%E4%B8%8A%E9%9D%A2%E7%9C%8B%E5%88%B0%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/><h2 class=post-title>[www] 網站分流問題</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on March 11, 2007
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;147&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>昨天在上台大 ptt 的bbs，逛到php版，發現裏面有人提問到，如何做到分流的問題，其實這個問題很多方式可以解決，以下我擷取一篇 ptt 上面的回文</p><blockquote><p>作者: MrMarcus (請勿忘記密碼) 看板: PHP 標題: Re: [問題] 網站分流問題 時間: Sun Mar 11 00:26:04 2007 ※ 引述《timyau (我討厭Sony)》之銘言： : 我架了一個網站， : 使用了一台轉址主機、 : 兩台 Web Server 進行分流 : 另外還有一台主機當資料庫使用 : 每次使用者輸入轉址主機的位置 : 主機就會自動將使用者於內部導向兩台Web Server的其中一台 : 所以每次網站只要更新，就得同時更新兩台Web Server的網頁 : 這樣一來就有問題了 : 一但只更新其中一台Web Server， : 使用者連到網站來就會有可能看到不一樣的內容 : 因為有時候可能連到有更新的那一台，有時候會連到沒有更新的那一台 : 有嚐試過把檔案都放在第三台資料庫的 SERVER : 而PHP取得資料庫Server的內部IP(例如192.168.1.3) : 來讀取使用到的相同資源檔案 : 但是從外面要讀取圖片的時候卻發生網址上面是 http://192.168…./ : 的情況 : 這樣當然是有問題的啊 Orz : 想請問這樣的架構是否有問題？ : 還是有什麼解決方法嗎？謝謝 這問題我以前有遇到過，狀況很類似。不但每次更新要FTP兩次 到兩台伺服器去，而且在程式裡面也有這個問題，變成凡是使用者 上傳檔案的地方，程式接收到檔案後除了把檔案存在自己這台的 硬碟裡面外，還得把該檔案複製到另一台伺服器硬碟的相對應位置去， 否則被帶到另一台機器去的使用者就會找不到那個檔案。 （上面指的使用者不是維護網站的人，是來瀏覽網站的使用者） 我把這個問題提出來給客戶，因為我覺得讓兩台伺服器的檔案內容 保持同步這種工作不應該在網站程式這端來執行，應該在更底層 的地方由伺服器本身自己處理掉，網站程式這層級不需要去知道 現在到底有幾台伺服器在分散負荷。而且還要考慮到日後擴充的問題， 現在是兩台，以後變成三台，程式要改成把收到的上傳檔案複製到 另外兩台去，變成四台，五台呢？ 我那時提出的建議是，增加一套獨立的儲存設備，兩台伺服器上面 設定好把某個目錄，例如/webupload，共同mount到該儲存設備去， 程式裡面就把使用者透過程式上傳的檔案儲存到/webupload去。 然後在http server裡面指定某個目錄名稱對應到/webupload。例如 在httpd.conf裡面： Alias /upload /webupload 前面的/upload是web server上使用的目錄名稱，後面的/webupload 是檔案系統上的目錄名。換句話說，使用者在瀏覽www1.mycompany.com 的時候會看到<img src=/upload/album/user1/myimage.jpg alt> myimage.jpg實際上是 /webupload/album/user1/myimage.jpg 這個檔案，而/webupload這個目錄並不在www1本機的硬碟裡面， 是在前面提到的共用儲存設備裡面。對於另一台www2來說也是 一模一樣的狀況。 也就是說www1和www2上面都做了兩件事 1. 把/webupload這個目錄掛載到共用儲存設備上的同一個目錄去。 2. 在httpd.conf裡面加上Alias指向設定。 以上這些步驟（其實只有兩個動作）可以解決使用者透過程式上傳 的檔案的同步問題。至於網站維護人員透過ftp更新的檔案要上傳 兩邊的問題，其實也可以透過類似的方式解決，在www1, www2上面 建立一個目錄掛載到共用儲存設備上的某個目錄去，然後在兩台 的httpd.conf裡面把document_root指向到該目錄去即可。 但是那時候客戶並沒有採行我的建議:( 他們的理由是 1. www1,www2的web server都共用一個儲存設備，萬一該共用 儲存設備掛了怎辦？這樣一來雖然有兩台web server，但是 整個網站都會掛點。 2. 我們沒有預算添購這個儲存設備。 第一個問題我覺得其實不是那麼嚴重，因為該儲存設備不會只有 一顆硬碟，必定是至少兩顆做Raid 1或者三顆做Raid 5甚至以上。 透過Raid可以不用太擔心這個問題。 第二個問題，無解。所以最後還是一樣，FTP兩邊丟，程式裡面兩邊存。 ╮(╯_╰)╭ 回到原po的狀況，其實你只要把你那台資料庫server當成前面 提到的共用儲存設備就可以了。</p></blockquote><a href=https://blog.wu-boy.com/2007/03/www-%E7%B6%B2%E7%AB%99%E5%88%86%E6%B5%81%E5%95%8F%E9%A1%8C%EF%BC%8C%E5%9C%A8ptt%E4%B8%8A%E9%9D%A2%E7%9C%8B%E5%88%B0%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/load-balancing/>Load Balancing</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2007/01/apache-mod-cband-%E9%A0%BB%E5%AF%AC%E9%99%90%E5%88%B6/><h2 class=post-title>[apache] mod cband 頻寬限制</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on January 22, 2007
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;213&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry>這個MODULE相當好用,這個可以用來解決架設APACHE頻寬問題 安裝方式:
For Linux: 先去下載軟體: mod_cband 目前釋出到 0.9.7.5版 下載到 /tmp/ 資料夾裡面 解壓縮: tar -zxvf mod-cband-0.9.7.5.tgz 如果你有安裝 apsx2的話 請用下面安裝 $ cd mod-cband-0.9.7.5 $ ./configure $ make $ make install 如果沒有安裝 apsx2的話 請用下面安裝 重新編譯 configure –add-module=../mod-cband/mod_cband.c –enable-shared=cband –enable-module=so 設定方法: * 修改httpd.conf 加上2行CBandScoreFlushPeriod 1 CBandRandomPulse On mkdir /var/www/scoreboard chown apache:apache /var/www/scoreboard * 設定 VirtualHost &lt;VirtualHost 1.2.3.4> ServerName www.example.com ServerAdmin webmaster@example.com DocumentRoot /var/www CBandSpeed 1024 10 30 CBandRemoteSpeed 20kb/s 3 3 說明:# 100MB virtualhost bandwidth limit CBandLimit 100M # Maximal 1024kbps speed for this virtualhost # Maximal 10 requests per second for this virtualhost # Maximal 30 open connections for this virtualhost限制該網域總頻寬跟連線數目 CBandSpeed 1024 10 30# Maximal 10kB/s speed, 3 requests/s and 2 open connections for any remote client CBandRemoteSpeed 10kb/s 3 2 4個禮拜清除設定一次# a period of time after which the scoreboard will be cleared (4 weeks) CBandPeriod 4W # define ‘class_1′ CBandClassDst 217.
<a href=https://blog.wu-boy.com/2007/01/apache-mod-cband-%E9%A0%BB%E5%AF%AC%E9%99%90%E5%88%B6/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/apache/>apache</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/freebsd/>FreeBSD</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/linux/>Linux</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2007/01/apache-%E9%98%B2%E7%9B%9C%E9%80%A3%EF%BC%8C%E6%8A%93%E5%9C%96-2/><h2 class=post-title>[Apache] 防盜連，抓圖</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on January 19, 2007
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;504&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>目前管理 <a href=http://www.th.gov.tw>國史館-台灣文獻館</a>，幾台檔案伺服器 裝了 快 1000萬的數位話檔案，如果將來對外開放，將會造成大量被下載 所以我列了下面幾個保護裝置，目前用在館內，我弄了幾個軟體去下載，果然已經被阻擋了 網頁伺服器要支援REWRITE功能</p><a href=https://blog.wu-boy.com/2007/01/apache-%E9%98%B2%E7%9B%9C%E9%80%A3%EF%BC%8C%E6%8A%93%E5%9C%96-2/ class=post-read-more>[Read More]</a></div></article><article class=post-preview><a href=https://blog.wu-boy.com/2006/12/apache-mod_rewrite-%E5%AF%A6%E5%81%9A/><h2 class=post-title>[Apache] mod_rewrite 實做 防盜圖</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on December 4, 2006
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;141&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>PTT 的 php版 有人問到</p><blockquote><p>如何在URL隱藏’.php’ 有時候會看到一些網站的URL沒有後面的.php .jsp .xxx 自己加上去反而無法開啟 像 <a href="http://www.google.com.tw/search?hl=zh-TW&q=abc">http://www.google.com.tw/search?hl=zh-TW&q=abc</a> 讓人無法得知該網站是使用哪種語言開發 請問要如何隱藏 我想這對網站的安全性應該有一些幫助 謝謝回覆 以下是我的回覆： 這是利用 mod_rewrite 作法達到的，其實不只隱藏 後面的php而已，還可以你隨便取呢 在根目錄底下新增 .htaccess[這個必須你的server有支援才行，有的不會讓你新增此檔 ] 然後在該檔裏面 寫下</p></blockquote><a href=https://blog.wu-boy.com/2006/12/apache-mod_rewrite-%E5%AF%A6%E5%81%9A/ class=post-read-more>[Read More]</a></div></article><article class=post-preview><a href=https://blog.wu-boy.com/2006/12/linux-%E5%AE%89%E8%A3%9D%E4%BD%BF%E7%94%A8-webalizer/><h2 class=post-title>[Linux] 安裝使用 Webalizer</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on December 3, 2006
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;207&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry><p>系統：CentOS 4.4 搜尋 Webalizer</p><blockquote><p>[root@NAS][~][17:52:51]# yum search webalizer Searching Packages: Setting up repositories Reading repository metadata in from local files webalizer.x86_64 2.01_10-25 base Matched from: webalizer The Webalizer is a Web server log analysis program. It is designed to scan Web server log files in various formats and produce usage statistics in HTML format for viewing through a browser. It produces professional looking graphs which make analyzing when and where your Web traffic is coming from easy. <a href=http://www.mrunix.net/webalizer/>http://www.mrunix.net/webalizer/</a> 設定檔放在 /etc/webalizer.conf 我的設定如下</p></blockquote><blockquote><p>LogFile /var/log/httpd/access_log OutputDir /var/www/html/webalizer HistoryName /var/lib/webalizer/webalizer.hist Incremental yes IncrementalName /var/lib/webalizer/webalizer.current HostName NAS.th.gov.tw PageType htm* PageType cgi PageType php PageType shtml DNSCache /var/lib/webalizer/dns_cache.db DNSChildren 10 Quiet yes FoldSeqErr yes HideURL *.gif HideURL *.GIF HideURL *.jpg HideURL *.JPG HideURL *.png HideURL *.PNG HideURL *.ra SearchEngine yahoo.com p= SearchEngine altavista.com q= SearchEngine google.com q= SearchEngine eureka.com q= SearchEngine lycos.com query= SearchEngine hotbot.com MT= SearchEngine msn.com MT= SearchEngine infoseek.com qt= SearchEngine webcrawler searchText= SearchEngine excite search= SearchEngine netscape.com search= SearchEngine mamma.com query= SearchEngine alltheweb.com query= SearchEngine northernlight.com qr=</p></blockquote><a href=https://blog.wu-boy.com/2006/12/linux-%E5%AE%89%E8%A3%9D%E4%BD%BF%E7%94%A8-webalizer/ class=post-read-more>[Read More]</a></div></article><article class=post-preview><a href=https://blog.wu-boy.com/2006/11/linux-mrtg-%E5%AF%A6%E5%81%9A-war3-%E7%B7%9A%E4%B8%8A%E4%BA%BA%E6%95%B8%E7%B5%B1%E8%A8%88/><h2 class=post-title>[Linux] Mrtg 實做 war3 線上人數統計</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on November 28, 2006
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;128&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry>應大家觀眾要求，來寫一下教學 當然我不想怎麼安裝mrtg了，搜尋一下本站就會找到教學 相信mrtg最主要是他的設定檔 cfg檔，先來看看 這個cfg檔怎麼寫
# Created by
# Appleboy 2006/09/25
WorkDir: /usr/local/www/data-dist
Language: big5
Target[bnet_person]: `/usr/local/etc/mrtg/mrtg.person.sh`
MaxBytes[bnet_person]: 10000
Options[bnet_person]: gauge, nopercent, growright
YLegend[bnet_person]: Online Users
ShortLegend[bnet_person]: 人
LegendI[bnet_person]: &nbsp; 線上人數 :
LegendO[bnet_person]: &nbsp; 遊戲數目 :
Title[bnet_person]: 小熊戰網 上線人數統計表
先來解釋 WorkDir: /usr/local/www/data-dist 這個是來存放mrtg統計圖的資料夾，請對應到相關可以放html的資料夾 Target[bnet_person]: `/usr/local/etc/mrtg/mrtg.person.sh` 以下是 mrtg.person.sh 這個檔案 #!/bin/sh
# 這個程式主要在計算有多少人以 bnetd 的方式連線進我們的主機！
# 1. 計算線上的數目
cat /~pvpgn/server.dat | grep "Users" | cut -d "=" -f2
# 2. 計算遊戲數目
cat /~pvpgn/server.
<a href=https://blog.wu-boy.com/2006/11/linux-mrtg-%E5%AF%A6%E5%81%9A-war3-%E7%B7%9A%E4%B8%8A%E4%BA%BA%E6%95%B8%E7%B5%B1%E8%A8%88/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/freebsd/>FreeBSD</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/linux/>Linux</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mrtg/>mrtg</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2006/11/ubuntu-%E5%AE%89%E8%A3%9D-java-tool-for-flickr-upload-tool/><h2 class=post-title>[Ubuntu] 安裝 java-tool for Flickr upload tool</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on November 18, 2006
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;102&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry>國外知名的相簿網站 Zooomr　Flickr 有支援同一套上傳軟體，２個相簿的網頁空間分別如下 Flickr 升級後如下 還蠻便宜的，zooomr　則是　１００ＭＢ用完就沒有了，Flickr 則是每個月可以上傳２０ＭＢ 接下來～來說明　ｕｂｕｎｔｕ安裝方式 下載Flickr 上傳軟體　http://juploadr.sourceforge.net/ 下載之後，解壓縮到桌面 ，到該資料夾之後執行 ./jUploadr , 不過如果你沒有安裝ｊａｖａ的話，會執行失敗 首先安裝ｊａｖａ apt-get install sun-java5*　java-package 安裝時會出現下面錯誤訊息
This package is an installer package, it does not actually contain the J2SDK documentation. You will need to go download one of the archives: jdk-1_5_0-doc.zip jdk-1_5_0-doc-ja.zip (choose the non-update version if this is the first installation). Please visit http://java.sun.com/j2se/1.5.0/download.html now and download. The file should be owned by root.
<a href=https://blog.wu-boy.com/2006/11/ubuntu-%E5%AE%89%E8%A3%9D-java-tool-for-flickr-upload-tool/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/java/>Java</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/linux/>Linux</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/ubuntu/>Ubuntu</a>&nbsp;</div></article><article class=post-preview><a href=https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D%E5%9F%BA%E6%9C%ACmrtg%E4%B8%BB%E6%A9%9F%E6%B5%81%E9%87%8F%E7%B5%B1%E8%A8%88%E5%9C%96/><h2 class=post-title>[FreeBSD] 安裝基本mrtg主機流量統計圖</h2></a><p class=post-meta><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on November 8, 2006
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;118&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy</span></p><div class=post-entry>主機資訊 FreeBSD 6.1-RELEASE 安裝步驟 cd /usr/ports/net-mgmt/net-snmp; make install clean
cd /usr/ports/net-mgmt/mrtg; make install clean 這2個安裝好，其實基本上就已經可以使用了 在 /etc/rc.conf 加上 snmpd_enable="YES"
snmpd_flags="-a -p /var/run/snmpd.pid"
snmptrapd_enable="YES"
snmptrapd_flags="-a -p /var/run/snmptrapd.pid" 修改 snmpd.conf 檔 目錄在 /usr/local/share/snmp/snmpd.conf com2sec local localhost public com2sec lan 192.168.100.0/24 public group RWGroup v1 local group ROGroup v1 lan view all included .1 80 access RWGroup “” any noauth prefix all all all access ROGroup “” any noauth prefix all none none 紅色部份，盡量不要用 public ，因為這樣別人可以猜到你的mrtg設定 修改好存檔
<a href=https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D%E5%9F%BA%E6%9C%ACmrtg%E4%B8%BB%E6%A9%9F%E6%B5%81%E9%87%8F%E7%B5%B1%E8%A8%88%E5%9C%96/ class=post-read-more>[Read More]</a></div><div class=blog-tags><a href=https://blog.wu-boy.com/tags/freebsd/>FreeBSD</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mrtg/>mrtg</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/snmp/>snmp</a>&nbsp;</div></article></div><ul class="pager main-pager"><li class=previous><a href=https://blog.wu-boy.com/categories/network/page/4/>&larr; Newer Posts</a></li><li class=next><a href=https://blog.wu-boy.com/categories/network/page/6/>Older Posts &rarr;</a></li></ul></div></div></div><footer class=post-footer><div class=container><div class=row><div class="col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:appleboy.tw@gmail.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.facebook.com/appleboy46 title=Facebook><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://github.com/appleboy title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://gitlab.com/appleboy title=GitLab><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-gitlab fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://bitbucket.org/appleboy title=Bitbucket><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-bitbucket fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/appleboy title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/appleboy title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://www.youtube.com/channel/UCLCZJ9d_I7UJP2bpXpge8KA title=Youtube><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-youtube fa-stack-1x fa-inverse"></i></span></a></li><li><a href=/categories/network/feed.xml title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=https://blog.wu-boy.com>Appleboy</a>
&nbsp;&bull;&nbsp;&copy;
2022
&nbsp;&bull;&nbsp;
<a href=https://blog.wu-boy.com>小惡魔 - AppleBOY</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.101.0</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://blog.wu-boy.com/js/main.js></script>
<script>(function(){var t,n="003841896160749976666:l9i5hqttpqi",e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://cse.google.com/cse.js?cx="+n,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>$(function(){$("#show-comments").on("click",function(){var e="appleboy48";(function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)})(),$(this).hide()})})</script><script id=dsq-count-scr src=//appleboy48.disqus.com/count.js async></script><div class=back-to-top id=back-to-top><i class="fas fa-angle-double-up"></i></div></body></html>