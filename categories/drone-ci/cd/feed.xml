<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Drone CI/CD on 小惡魔 - AppleBOY</title><link>https://blog.wu-boy.com/categories/drone-ci/cd/</link><description>Recent content in Drone CI/CD on 小惡魔 - AppleBOY</description><generator>Hugo</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Sat, 22 Apr 2023 14:50:40 +0800</lastBuildDate><atom:link href="https://blog.wu-boy.com/categories/drone-ci/cd/feed.xml" rel="self" type="application/rss+xml"/><item><title>Compiling multi-architecture images with Docker BuildKit using Drone CI/CD</title><link>https://blog.wu-boy.com/2023/04/drone-ci-cd-to-build-multiarch-docker-images-with-buildx-en/</link><pubDate>Sat, 22 Apr 2023 14:50:40 +0800</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2023/04/drone-ci-cd-to-build-multiarch-docker-images-with-buildx-en/</guid><description>&lt;p>&lt;img src="https://i.imgur.com/ySw4F8j.png" alt="cover">&lt;/p>
&lt;p>In 2020, Docker announced &lt;a href="https://www.docker.com/blog/multi-arch-build-and-images-the-simple-way/">support for multi-architecture images&lt;/a>, and later, &lt;a href="https://docs.docker.com/develop/develop-images/build_enhancements/">Docker BuildKit&lt;/a> officially supported &lt;a href="https://docs.docker.com/build/building/multi-platform/">multi-architecture images&lt;/a>. This article introduces how to use &lt;a href="https://www.drone.io/">Drone CI/CD&lt;/a> with &lt;a href="https://docs.docker.com/develop/develop-images/build_enhancements/">Docker BuildKit&lt;/a> to compile multi-architecture images, and this feature is free and does not require a paid Docker Hub account. However, the &lt;a href="https://plugins.drone.io/plugins/docker">Drone Docker Plugin&lt;/a> provided by Drone CI/CD does not currently support multi-architecture images, so you need to write your own Drone Pipeline to achieve our goal. The official website has also proposed this proposal: &amp;lsquo;&lt;a href="https://github.com/drone/proposal/issues/5">Support cross-arch Docker builds within Docker using QEMU&lt;/a>&amp;rsquo; to achieve this goal, using QEMU. The key point is to use Docker BuildKit to complete it under the environment where the Host supports &lt;a href="https://www.qemu.org/">Qemu&lt;/a>.&lt;/p></description></item><item><title>用 Drone CI/CD 搭配 Docker BuildKit 編譯多架構映像檔</title><link>https://blog.wu-boy.com/2023/04/drone-ci-cd-to-build-multiarch-docker-images-with-buildx/</link><pubDate>Sat, 22 Apr 2023 07:12:47 +0800</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2023/04/drone-ci-cd-to-build-multiarch-docker-images-with-buildx/</guid><description>&lt;p>&lt;img src="https://i.imgur.com/ySw4F8j.png" alt="cover">&lt;/p>
&lt;p>在 2020 年就有 &lt;a href="https://www.docker.com/blog/multi-arch-build-and-images-the-simple-way/">Docker 宣布支援多架構映像檔&lt;/a>，後來才有正式的 &lt;a href="https://docs.docker.com/develop/develop-images/build_enhancements/">Docker BuildKit&lt;/a> 支援&lt;a href="https://docs.docker.com/build/building/multi-platform/">多架構映像檔&lt;/a>，這篇文章來介紹如何使用 &lt;a href="https://www.drone.io/">Drone CI/CD&lt;/a> 搭配 &lt;a href="https://docs.docker.com/develop/develop-images/build_enhancements/">Docker BuildKit&lt;/a> 編譯多架構映像檔，而且這個功能是免費的，不需要付費的 Docker Hub 帳號。但是在 Drone CI/CD 官方提供的 &lt;a href="https://plugins.drone.io/plugins/docker">Drone Docker Plugin&lt;/a> 目前是不支援多架構映像檔，所以需要自己撰寫 Drone Pipeline，來達到我們的目的，官方也有人提出了這樣的 Proposal: 『&lt;a href="https://github.com/drone/proposal/issues/5">Support cross-arch Docker builds within Docker using QEMU&lt;/a>』，使用 QEMU 來達成目的，底下來介紹如何使用，關鍵點就是在 Host 支援 &lt;a href="https://www.qemu.org/">Qemu&lt;/a> 的環境下，使用 Docker BuildKit 完成。&lt;/p></description></item></channel></rss>