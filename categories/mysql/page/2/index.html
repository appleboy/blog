<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<title>MySQL - 小惡魔 - AppleBOY</title>
<meta name=author content="Appleboy"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"小惡魔 - AppleBOY","url":"https:\/\/blog.wu-boy.com"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/blog.wu-boy.com"}</script>
<meta property="og:title" content="MySQL">
<meta property="og:image" content="https://lh3.googleusercontent.com/jsocHCR9A9yEfDVUTrU0m42_aHhTEVDGW5p5PsQSx7GSlkt3gLjohfXH3S7P7p982332ruU_e-EtW0LwmiuZjvN65VIcyME-zE35C6EM0IV1nqY6KoNw3dwW2djjid3F-T5YgnJothA=w1920-h1080">
<meta property="og:url" content="https://blog.wu-boy.com/categories/mysql/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="小惡魔 - AppleBOY">
<meta name=twitter:title content="MySQL">
<meta name=twitter:image content="https://lh3.googleusercontent.com/Kq9CxHZWopKj__EgF_BpzLv8FhwvDkc0iacrl9V5IJjpr-dZ7Y5O-Vc1i9FhGQ8gHTdKeBisG_1ie1IONQXmK0a3myyl_BNouP76CLHGHRzsPPRgRF3RiKYqOkdS86mZOIu7KYFTUio=w1920-h1080">
<meta name=twitter:card content="summary">
<meta name=twitter:site content="@appleboy">
<meta name=twitter:creator content="@appleboy">
<link href=https://i.imgur.com/PpOg8Dz.jpg rel=icon type=image/x-icon>
<meta name=generator content="Hugo 0.91.2"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous>
<link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css>
<link rel=stylesheet href=https://blog.wu-boy.com/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">
<link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://blog.wu-boy.com/css/syntax.css><link rel=stylesheet href=https://blog.wu-boy.com/css/codeblock.css><link rel=alternate type=application/rss+xml href=https://blog.wu-boy.com/categories/mysql/feed.xml title="小惡魔 - AppleBOY">
<link rel=alternate type=application/rss+xml href=https://blog.wu-boy.com/categories/mysql/feed.xml title="小惡魔 - AppleBOY">
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-5766319-6','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top navbar-custom">
<div class=container-fluid>
<div class=navbar-header>
<button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=https://blog.wu-boy.com>小惡魔 - AppleBOY</a>
</div>
<div class="collapse navbar-collapse" id=main-navbar>
<ul class="nav navbar-nav navbar-right">
<li>
<a title="Youtube 頻道" href=http://bit.ly/youtube-boy><i class="fab fa-youtube"></i> Youtube 頻道</a>
</li>
<li class=navlinks-container>
<a class=navlinks-parent><i class="fas fa-video"></i> 線上課程</a>
<div class=navlinks-children>
<a href=/golang-online-course/> Go 語言基礎實戰</a>
<a href=/docker-course/> Docker 容器開發實戰</a>
<a href=/drone-devops/> 一天學會 DevOps 自動化流程</a>
</div>
</li>
<li>
<a title=歷年文章 href=/archives/><i class="fas fa-sitemap fa-lg"></i> 歷年文章</a>
</li>
<li>
<a href=#modalSearch data-toggle=modal data-target=#modalSearch style=outline:none>
<span class="hidden-sm hidden-md hidden-lg">Search</span> <span id=searchGlyph class="glyphicon glyphicon-search"></span>
</a>
</li>
</ul>
</div>
<div class=avatar-container>
<div class=avatar-img-border>
<a title="小惡魔 - AppleBOY" href=https://blog.wu-boy.com>
<img class=avatar-img src="https://lh3.googleusercontent.com/Kq9CxHZWopKj__EgF_BpzLv8FhwvDkc0iacrl9V5IJjpr-dZ7Y5O-Vc1i9FhGQ8gHTdKeBisG_1ie1IONQXmK0a3myyl_BNouP76CLHGHRzsPPRgRF3RiKYqOkdS86mZOIu7KYFTUio=w1920-h1080" alt="小惡魔 - AppleBOY">
</a>
</div>
</div>
</div>
</nav>
<div id=modalSearch class="modal fade" role=dialog>
<div class=modal-dialog>
<div class=modal-content>
<div class=modal-header>
<button type=button class=close data-dismiss=modal>&#215;</button>
<h4 class=modal-title>Search 小惡魔 - AppleBOY</h4>
</div>
<div class=modal-body>
<gcse:search></gcse:search>
</div>
<div class=modal-footer>
<button type=button class="btn btn-default" data-dismiss=modal>Close</button>
</div>
</div>
</div>
</div>
<header class=header-section>
<div class="intro-header no-img">
<div class=container>
<div class=row>
<div class="col-md-10 col-md-offset-1">
<div class=categories-heading>
<h1>MySQL</h1>
<hr class=small>
</div>
</div>
</div>
</div>
</div>
</header>
<div class=container role=main>
<div class=row>
<div class="col-md-10 col-md-offset-1">
<div class=posts-list>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2014/01/percona-xtradb-cluster-reference-architecture-with-haproxy/>
<h2 class=post-title>Percona XtraDB Cluster 搭配 HAProxy</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on January 19, 2014
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;4&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;745&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<a href=https://www.flickr.com/photos/appleboy/12023069753/ title="percona by appleboy46, on Flickr"><img src="https://i1.wp.com/farm4.staticflickr.com/3820/12023069753_de60d0c86d_m.jpg?resize=240%2C234&ssl=1" alt=percona data-recalc-dims=1></a>
</div>
<p>本篇文章紀錄安裝 <a href=http://www.percona.com/software/percona-xtradb-cluster>Percona XtraDB Cluster</a> (簡稱 PXC) 及搭配 <a href=http://haproxy.1wt.eu/>HAProxy</a> 做分散流量系統，其實在業界已經很常看到 HAProxy + MySQL Cluster Database 解決方案，HAProxy 幫您解決負載平衡，並且偵測系統是否存活，管理者也就不用擔心 MySQL 服務是否會掛掉。本篇會著重於 HAProxy 設定部份，並且紀錄每一步安裝步驟。之前本作者寫過一篇 <a href=http://blog.wu-boy.com/2013/03/galera-cluster-for-mysql-multi-master-replication/>Galera Cluster for MySQL Multi-master Replication</a>，也可以參考。今天測試系統都會以 <a href=http://www.centos.org/>CentOS</a> 為主，各位讀者可以直接開 <a href=http://aws.amazon.com/ec2/>Amazone EC2</a> 來測試，測試完成再關閉即可。</p>
<a href=https://blog.wu-boy.com/2014/01/percona-xtradb-cluster-reference-architecture-with-haproxy/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona-software/>Percona Software</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona-xtradb-cluster/>Percona XtraDB Cluster</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/xtradb-cluster/>XtraDB Cluster</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2014/01/percona-xtradb-server-read-only-issue/>
<h2 class=post-title>Percona XtraDB Server 出現 read only issue</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on January 16, 2014
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;86&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<a href=https://www.flickr.com/photos/appleboy/8171305355/ title="mysql_logo by appleboy46, on Flickr"><img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?w=300&ssl=1" alt=mysql_logo data-recalc-dims=1></a>
</div>
<p>最近在整理 <a href=http://www.percona.com/software/percona-server>Percona XtraDB Server</a> 將 Read Write 全部拆開，寫入部份只開一台 Node，讀取機器 Replica 則是越多越好，當然如果預計 write 都不會有任何 conflict 的話，那就不用拆開，read write 都可以在同一台即可，拆開的目的要解決 <code>Innodb transaction locking</code> 問題。今天遇到的是將機器讀寫都放在同一台，然後同時多台 Master 架構，結果跑在 <a href=http://www.codeigniter.org.tw/>CodeIgniter</a> 上面出現底下錯誤訊息</p>
<blockquote>
<p>The MySQL server is running with the &ndash;read-only option so it cannot execute this statement</p>
</blockquote>
<a href=https://blog.wu-boy.com/2014/01/percona-xtradb-server-read-only-issue/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona/>Percona</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona-xtradb-cluster/>Percona XtraDB Cluster</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/xtradb/>XtraDB</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2014/01/sysbench-test-percona-xtradb-server-performance/>
<h2 class=post-title>Sysbench 測試 Percona XtraDB Server 效能</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on January 15, 2014
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;215&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<a href=https://www.flickr.com/photos/appleboy/8171305355/ title="mysql_logo by appleboy46, on Flickr"><img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?w=300&ssl=1" alt=mysql_logo data-recalc-dims=1></a>
</div>
<p>今天拿 <a href=https://launchpad.net/sysbench>MySQL benchmark tool - Sysbench</a> 來測試看看 <a href=http://www.percona.com/software/percona-server>Percona XtraDB Server</a> + <a href=http://haproxy.1wt.eu/>Haproxy</a> 效能如何，實驗主機是執行在 <a href=http://www.centos.org/>CentOS</a> 6.4 版本，記憶體 128 G，在 CentOS 本身用 Yum 安裝 Sysbench 時，內建的版本為 0.4.12，單機測試 MySQL 效能不會出現任何錯誤，但是只要是透過 Haproxy，並且有兩台以上的 Server，就會噴出底下錯誤訊息:</p>
<blockquote>
<p>ALERT: failed to execute mysql_stmt_execute(): Err1317 Query execution was interrupted</p>
</blockquote>
<a href=https://blog.wu-boy.com/2014/01/sysbench-test-percona-xtradb-server-performance/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/galera/>Galera</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona/>Percona</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona-xtradb-cluster/>Percona XtraDB Cluster</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/sysbench/>Sysbench</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/xtradb/>XtraDB</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2013/12/increase-phpmyadmin-login-time/>
<h2 class=post-title>增加 phpMyAdmin 登入時間</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on December 31, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;84&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
phpMyAdmin 是一套管理 MySQL 資料庫的 UI 介面工具，預設登入時間為 1440 秒，這時間是定義在 libraries/config.default.php 內，phpMyAdmin 也是透過 gc-maxlifetime 來決定 Session 存在與否，所以如果要增加登入時間，比如說設定一年 (3600 * 24 * 365) 好了，請按照底下設定
PHP 設定檔 如果是裝 php-fpm 請修改 /etc/php5/fpm/php.ini 路徑
1 2 3 ;After this number of seconds, stored data will be seen as \'garbage\' and ; cleaned up by the garbage collection process. ; http://php.net/session.gc-maxlifetime session.gc_maxlifetime = 315360000 重新啟動 php-fpm
1 $ /etc/init.d/php5-fpm restart phpMyAdmin 設定檔 修改 config.
<a href=https://blog.wu-boy.com/2013/12/increase-phpmyadmin-login-time/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/php/>php</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/phpmyadmin/>phpMyAdmin</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/session/>Session</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2013/06/force-phpmyadmin-ssl-with-nginx/>
<h2 class=post-title>Nginx + phpMyAdmin 搭配 SSL 設定</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on June 8, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;161&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<a href=https://www.flickr.com/photos/appleboy/8171305355/ title="mysql_logo by appleboy46, on Flickr"><img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?w=300&ssl=1" alt=mysql_logo data-recalc-dims=1></a>
</div>
<p><a href=http://www.phpmyadmin.net/home_page/index.php target=_blank>phpMyAdmin</a> 是一套用來管理 <a href=http://www.mysql.com/ target=_blank>MySQL</a> 的 Web 介面，如果要讓 phpMyAdmin 強制走 https 的話，可以透過兩種方式，一種是直接設定 phpMyAdmin，另外一種方式是透過 <a href=http://httpd.apache.org/docs/current/mod/mod_rewrite.html target=_blank>Apache rewrite</a> 或 <a href=http://nginx.org/ target=_blank>Nginx</a> 設定，底下來分別說明。</p>
<a href=https://blog.wu-boy.com/2013/06/force-phpmyadmin-ssl-with-nginx/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/apache/>apache</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/nginx/>nginx</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/phpmyadmin/>phpMyAdmin</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2013/04/best-mysqldump-innodb-data/>
<h2 class=post-title>MySQL 用 MySQLDump 備份 InnoDB 注意事項</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on April 5, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;144&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
大家在備份 MySQL 資料庫時一定是使 mysqldump 指令，不管是 MyISAM 或 InnoDB 都一樣， 在處理 InnoDB 格式備份時使用 mysqldump -single-transaction，但是你會發現在大多的備份狀況都是 OK 的，只是有時候會發現有的資料表只有備份到 structure 而無備份到 Data？ 在 MySQL Performance Blog 看到這篇講解 Best kept MySQLDump Secret，此問題出在 how MySQL’s Transactions work with DDL，ALTER TABLE 會建立一個 temporary table，並且將該資料表資料複製過去，接著刪除原有資料表，最後將 temporary table 命名為原來資料表。 底下是原作者提到的原因
How does data visibility works in this case ? DDLs are not transactional and as such the running transaction will not see the contents of old table once it is dropped, transaction also will see the new table which was created after transaction was started, including table created by ALTER TABLE statement.
<a href=https://blog.wu-boy.com/2013/04/best-mysqldump-innodb-data/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/innodb/>InnoDB</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/myisam/>MyISAM</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona/>Percona</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/xtrabackup/>XtraBackup</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2013/03/galera-cluster-for-mysql-multi-master-replication/>
<h2 class=post-title>Galera Cluster for MySQL Multi-master Replication</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on March 31, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;626&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<a title="galera_mysql_replication by appleboy46, on Flickr" href=https://www.flickr.com/photos/appleboy/8603447002/><img alt=galera_mysql_replication src="https://i0.wp.com/farm9.staticflickr.com/8383/8603447002_050ecd1b53.jpg?resize=500%2C247&ssl=1" data-recalc-dims=1></a>
</div> 最近公司買了幾台機架伺服器來處理 HTTP 跟 DB Load balancer，要做到 DB 的分散式架構，首先需要同步多台機器資料，也就是寫入或更動任意一台單筆資料，另外平行的機器也會同時進行更新。同步的好處可以用來做備援及分散處理連線，而要做到此功能，可子參考網路上評價不錯的
<p><a href=http://www.codership.com/content/using-galera-cluster target=_blank>Galera Cluster for MySQL</a> 方案。本篇會介紹在 <a href=http://www.ubuntu.com/ target=_blank>Ubuntu</a> 或 <a href=http://www.centos.org/ target=_blank>CentOS</a> 6.x final 版本如何安裝 Galera 伺服器套件及設定。要架設 Galera Cluster Server，有兩種套件選擇，一個是 <a href=http://www.percona.com/software/percona-xtradb-cluster target=_blank>Percona XtraDB Cluster</a> 另一個是 <a href=https://downloads.mariadb.org/mariadb-galera/ target=_blank>MariaDB Galera Cluster</a>，這次作者會介紹後者的安裝。</p>
<h3 id=galera-cluster-介紹-為什麼要選擇-galera-cluster-server它有什麼優點及功能呢mysqlgalera-是一套可以同步多台-mysqlinnodb-機器的叢集系統底下可以列出功能>Galera Cluster 介紹 為什麼要選擇 Galera Cluster Server，它有什麼優點及功能呢？MySQL/Galera 是一套可以同步多台 MySQL/InnoDB 機器的叢集系統，底下可以列出功能。</h3>
<ul>
<li>同步複製資料</li>
<li>可讀取和寫入叢集系統內任一節點</li>
<li>自動偵測節點錯誤，如果有節點當機，則叢集系統自動移除該節點</li>
<li>可任意擴充節點</li>
<li>採用 row level 方式來平行複製資料 從上面功能看來，我們可以平行任意擴充節點，動態增加伺服器到叢集系統，要做到上面功能，就是利用</li>
</ul>
<p><a href=http://www.codership.com/products/galera_replication target=_blank>Galera library</a> 來做到同步資料處理，同步的詳細細節，可以參考 Galera library 連結。這邊就不再多描述了。</p>
<a href=https://blog.wu-boy.com/2013/03/galera-cluster-for-mysql-multi-master-replication/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/galera/>Galera</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/haproxy/>HAProxy</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/innodb/>InnoDB</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mariadb/>Mariadb</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona/>Percona</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2013/01/percona-xtrabackup-innodb/>
<h2 class=post-title>Percona XtraBackup InnoDB 備份工具</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on January 1, 2013
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;183&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<p><a href=http://www.percona.com/software/percona-xtrabackup/ target=_blank>Percona XtraBackup</a> 是一套 compiled C 程式，用於備份 MySQL InnoDB 資料庫，過去備份 MyISAM 或 InnoDB 都是透過 mysqldump 指令，或者是直接 copy <strong><span style=color:green>/var/lib/mysql</span></strong> 目錄當作備份(這方法盡量少做，請確定 MySQL 版本一致)，XtraBackup 用於備份 InnoDB 資料部份，請注意這邊，真的只有"備份資料"，而不是全部(結構跟資料)，底下仔細介紹如何安裝:</p>
<h3 id=安裝方式-大家可以選擇透過>安裝方式 大家可以選擇透過</h3>
<p><a href=http://www.percona.com/doc/percona-xtrabackup/installation/yum_repo.html target=_blank>yum</a> 或 <a href=http://www.percona.com/doc/percona-xtrabackup/installation/apt_repo.html target=_blank>apt</a> Repository 方式安裝，下面介紹 apt 方式即可。</p>
<a href=https://blog.wu-boy.com/2013/01/percona-xtrabackup-innodb/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/innodb/>InnoDB</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/percona/>Percona</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/xtrabackup/>XtraBackup</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2012/12/mysql-myisam-tables-convert-to-innodb/>
<h2 class=post-title>MySQL MyISAM Engine 轉換成 InnoDB</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on December 15, 2012
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;191&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<img src="https://i2.wp.com/farm9.staticflickr.com/8488/8171305355_db09e220a4_o.png?w=840&ssl=1" alt data-recalc-dims=1>
</div> 如果對於 InnoDB 不了解的讀者們，可以參考作者之前寫的
<p><a href=http://blog.wu-boy.com/2012/11/innodb-as-the-default-mysql-storage-engine/ target=_blank>MySQL 預設儲存引擎: InnoDB 介紹</a>，最近開始把原本 <a href=http://dev.mysql.com target=_blank>MySQL</a> 5.1 預設 <a href=http://dev.mysql.com/doc/refman/5.5/en/myisam-storage-engine.html target=_blank>MyISAM</a> Table 全部轉換成 <a href=http://dev.mysql.com/doc/refman/5.5/en/innodb-storage-engine.html target=_blank>InnoDB</a>，MySQL 5.5 版本開始預設的儲存引擎就是 InnoDB，InnoDB 現在也非常完整，也支援 Full Text (5.6.4 開始支援)。作者在轉換過程其實蠻順利的，步驟也不是很複雜，只要按底下步驟，就可以順利轉換。</p>
<a href=https://blog.wu-boy.com/2012/12/mysql-myisam-tables-convert-to-innodb/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/innodb/>InnoDB</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
</div>
</article>
<article class=post-preview>
<a href=https://blog.wu-boy.com/2012/11/innodb-as-the-default-mysql-storage-engine/>
<h2 class=post-title>MySQL 預設儲存引擎: InnoDB 介紹</h2>
</a>
<p class=post-meta>
<span class=post-meta>
<i class="fas fa-calendar"></i>&nbsp;Posted on November 10, 2012
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;1&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;164&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;appleboy
</span>
</p>
<div class=post-entry>
<div style="margin:0 auto;text-align:center">
<a href=https://www.flickr.com/photos/appleboy/8171305355/ title="mysql_logo by appleboy46, on Flickr"><img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?resize=489%2C253&ssl=1" alt=mysql_logo data-recalc-dims=1></a>
</div>
<p><a href=http://www.mysql.com target=_blank>MySQL</a> 是一套眾所皆知的 Database System，今天來簡介 <a href=http://dev.mysql.com/doc/refman/5.5/en/myisam-storage-engine.html target=_blank>InnoDB</a> 儲存引擎，在 MySQL 5.5.5 之前預設的儲存引擎是 <a href=https://dev.mysql.com/doc/refman/5.5/en/myisam-storage-engine.html target=_blank>MyISAM</a>，但是為什麼在 5.5 之後官方要將預設儲存引擎換成 InnoDB 呢？大家都知道 InnoDB 用來交易管理非常方便，因為 InnoDB 透過 row lock，相對於 <a href=http://dev.mysql.com/doc/refman/5.5/en/myisam-storage-engine.html target=_blank>MyISAM</a> 透過 table lock 來的有效率，也避免大量寫入的時候，造成無法讀取資料，這就是 row lock 的優勢，當然用 InnoDB 最主要的原因還有 Full-text search indexes 功能，但是別擔心 MySQL 5.6.4 之後(含此版本) InnoDB 開始支援 Full-text search 功能，另外在使用 MyISAM 時候，如果資料突然出問題，還必須使用 <a href=http://dev.mysql.com/doc/refman/5.0/en/binary-log.html target=_blank>MySQL Binary Log</a> 來恢復資料，如果用 InnoDB 這就沒關係了。大家還在用 MyISAM 嘛？開始升級伺服器，一起體驗 InnoDB 的功能，如果已經上線很久的網站，作者不建議轉換，因為可能會遇到很多雷。</p>
<a href=https://blog.wu-boy.com/2012/11/innodb-as-the-default-mysql-storage-engine/ class=post-read-more>[Read More]</a>
</div>
<div class=blog-tags>
<a href=https://blog.wu-boy.com/tags/innodb/>InnoDB</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/myisam/>MyISAM</a>&nbsp;
<a href=https://blog.wu-boy.com/tags/mysql/>MySQL</a>&nbsp;
</div>
</article>
</div>
<ul class="pager main-pager">
<li class=previous>
<a href=https://blog.wu-boy.com/categories/mysql/page/1/>&larr; Newer Posts</a>
</li>
<li class=next>
<a href=https://blog.wu-boy.com/categories/mysql/page/3/>Older Posts &rarr;</a>
</li>
</ul>
</div>
</div>
</div>
<footer class=post-footer>
<div class=container>
<div class=row>
<div class="col-md-10 col-md-offset-1">
<ul class="list-inline text-center footer-links">
<li>
<a href=mailto:appleboy.tw@gmail.com title="Email me">
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://www.facebook.com/appleboy46 title=Facebook>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://github.com/appleboy title=GitHub>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://gitlab.com/appleboy title=GitLab>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-gitlab fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://bitbucket.org/appleboy title=Bitbucket>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-bitbucket fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://twitter.com/appleboy title=Twitter>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://linkedin.com/in/appleboy title=LinkedIn>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=https://www.youtube.com/channel/UCLCZJ9d_I7UJP2bpXpge8KA title=Youtube>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
<li>
<a href=/categories/mysql/feed.xml title=RSS>
<span class="fa-stack fa-lg">
<i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i>
</span>
</a>
</li>
</ul>
<p class="credits copyright text-muted">
<a href=https://blog.wu-boy.com>Appleboy</a>
&nbsp;&bull;&nbsp;&copy;
2021
&nbsp;&bull;&nbsp;
<a href=https://blog.wu-boy.com>小惡魔 - AppleBOY</a>
</p>
<p class="credits theme-by text-muted">
<a href=https://gohugo.io>Hugo v0.91.2</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a>
</p>
</div>
</div>
</div>
</footer>
<script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://blog.wu-boy.com/js/main.js></script>
<script>(function(){var c='003841896160749976666:l9i5hqttpqi',a=document.createElement('script'),b;a.type='text/javascript',a.async=!0,a.src='https://cse.google.com/cse.js?cx='+c,b=document.getElementsByTagName('script')[0],b.parentNode.insertBefore(a,b)})()</script>
<script type=text/javascript>$(function(){$('#show-comments').on('click',function(){var a='appleboy48';(function(){var b=document.createElement('script');b.type='text/javascript',b.async=!0,b.src='//'+a+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(b)})(),$(this).hide()})})</script>
<script id=dsq-count-scr src=//appleboy48.disqus.com/count.js async></script>
<div class=back-to-top id=back-to-top>
<i class="fas fa-angle-double-up"></i>
</div>
</body>
</html>