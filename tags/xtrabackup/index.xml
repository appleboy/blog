<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>XtraBackup on 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY</title><link>https://demo.gh.wu-boy.com/tags/xtrabackup/</link><description>Recent content in XtraBackup on 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Thu, 23 Jan 2014 03:20:08 +0000</lastBuildDate><atom:link href="https://demo.gh.wu-boy.com/tags/xtrabackup/index.xml" rel="self" type="application/rss+xml"/><item><title>MySQL 5.6 UUID 複製資料到 Slave Server</title><link>https://demo.gh.wu-boy.com/2014/01/mysql-5-6-uuid-cloning-slave-server/</link><pubDate>Thu, 23 Jan 2014 03:20:08 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://demo.gh.wu-boy.com/2014/01/mysql-5-6-uuid-cloning-slave-server/</guid><description>&lt;div style="margin:0 auto; text-align:center">
&lt;a href="https://www.flickr.com/photos/appleboy/8171305355/" title="mysql_logo by appleboy46, on Flickr">&lt;img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?w=300&amp;#038;ssl=1" alt="mysql_logo" data-recalc-dims="1" />&lt;/a>
&lt;/div>
&lt;p>在 &lt;a href="http://www.mysqlperformanceblog.com/">MySQL Performance Blog&lt;/a> 看到這篇 &lt;a href="http://www.mysqlperformanceblog.com/2014/01/21/beware-mysql-5-6-server-uuid-cloning-slaves/">Beware of MySQL 5.6 server UUID when cloning slaves&lt;/a>，裡面提到如果是要複製資料到 Slave 機器，大部分的使用者肯定是將 &lt;code>/var/lib/mysql&lt;/code> 目錄整個 copy 到 Slave 機器上。如果是 &lt;a href="http://dev.mysql.com/tech-resources/articles/whats-new-in-mysql-5.6.html">MySQL 5.6&lt;/a> Server 目錄內會有 &lt;code>auto.cnf&lt;/code> 設定檔，這是 MySQL 5.6 新的功能叫做 &lt;a href="http://dev.mysql.com/doc/refman/5.6/en/replication-options.html#sysvar_server_uuid">server_uuid&lt;/a>，在啟動 MySQL 後，就會自動建立 &lt;code>auto.cnf&lt;/code> 檔案，此檔案就像是 &lt;code>my.cnf&lt;/code> 或 &lt;code>my.ini&lt;/code> 設定檔一樣，只是內容只有支援 &lt;code>[auto]&lt;/code> 並且只有支援 &lt;code>server_uuid&lt;/code> 這 key 值，例如&lt;/p></description></item><item><title>MySQL 用 MySQLDump 備份 InnoDB 注意事項</title><link>https://demo.gh.wu-boy.com/2013/04/best-mysqldump-innodb-data/</link><pubDate>Fri, 05 Apr 2013 02:20:22 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://demo.gh.wu-boy.com/2013/04/best-mysqldump-innodb-data/</guid><description>大家在備份 MySQL 資料庫時一定是使 mysqldump 指令，不管是 MyISAM 或 InnoDB 都一樣， 在處理 InnoDB 格式備份時使用 mysqldump -single-transaction，但是你會發現在大多的備份狀況都是 OK 的，只是有時候會發現有的資料表只有備份到 structure 而無備份到 Data？ 在 MySQL Performance Blog 看到這篇講解 Best kept MySQLDump Secret，此問題出在 how MySQL’s Transactions work with DDL，ALTER TABLE 會建立一個 temporary table，並且將該資料表資料複製過去，接著刪除原有資料表，最後將 temporary table 命名為原來資料表。 底下是原作者提到的原因
How does data visibility works in this case ? DDLs are not transactional and as such the running transaction will not see the contents of old table once it is dropped, transaction also will see the new table which was created after transaction was started, including table created by ALTER TABLE statement.</description></item><item><title>Percona XtraBackup InnoDB 備份工具</title><link>https://demo.gh.wu-boy.com/2013/01/percona-xtrabackup-innodb/</link><pubDate>Tue, 01 Jan 2013 04:13:33 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://demo.gh.wu-boy.com/2013/01/percona-xtrabackup-innodb/</guid><description>&lt;p>&lt;a href="http://www.percona.com/software/percona-xtrabackup/" target="_blank">Percona XtraBackup&lt;/a> 是一套 compiled C 程式，用於備份 MySQL InnoDB 資料庫，過去備份 MyISAM 或 InnoDB 都是透過 mysqldump 指令，或者是直接 copy &lt;strong>&lt;span style="color: #008000;">/var/lib/mysql&lt;/span>&lt;/strong> 目錄當作備份(這方法盡量少做，請確定 MySQL 版本一致)，XtraBackup 用於備份 InnoDB 資料部份，請注意這邊，真的只有&amp;quot;備份資料&amp;quot;，而不是全部(結構跟資料)，底下仔細介紹如何安裝:&lt;/p>
&lt;h3 id="安裝方式-大家可以選擇透過">安裝方式 大家可以選擇透過&lt;/h3>
&lt;p>&lt;a href="http://www.percona.com/doc/percona-xtrabackup/installation/yum_repo.html" target="_blank">yum&lt;/a> 或 &lt;a href="http://www.percona.com/doc/percona-xtrabackup/installation/apt_repo.html" target="_blank">apt&lt;/a> Repository 方式安裝，下面介紹 apt 方式即可。&lt;/p></description></item></channel></rss>