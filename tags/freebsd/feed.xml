<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>FreeBSD on 小惡魔 - AppleBOY</title><link>https://blog.wu-boy.com/tags/freebsd/</link><description>Recent content in FreeBSD on 小惡魔 - AppleBOY</description><generator>Hugo</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Fri, 15 Jan 2016 01:26:56 +0000</lastBuildDate><atom:link href="https://blog.wu-boy.com/tags/freebsd/feed.xml" rel="self" type="application/rss+xml"/><item><title>OpenSSH 安全性漏洞 CVE-2016-0777 and CVE-2016-0778</title><link>https://blog.wu-boy.com/2016/01/openssh-security-cve-2016-0777-and-cve-2016-0778/</link><pubDate>Fri, 15 Jan 2016 01:26:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2016/01/openssh-security-cve-2016-0777-and-cve-2016-0778/</guid><description>&lt;p>&lt;a data-flickr-embed="true" href="https://www.flickr.com/photos/appleboy/23758702793/in/dateposted-public/" title="openssh">&lt;img src="https://i0.wp.com/farm2.staticflickr.com/1616/23758702793_abebfb7167_o.gif?resize=578%2C191&amp;#038;ssl=1" alt="openssh" data-recalc-dims="1" />&lt;/a>&lt;/p>
&lt;p>&lt;a href="http://www.openssh.com/">OpenSSH&lt;/a> 今日公佈 Client Bug 漏洞 &lt;a href="http://undeadly.org/cgi?action=article&amp;amp;sid=20160114142733">CVE-2016-0777 and CVE-2016-0778&lt;/a>，發生原因是 SSH Clinet 跟 Server 溝通時，新功能 &lt;code>roaming&lt;/code> 造成傳輸過程被惡意程式破解，影響的 OpenSSH 版本為 5.4 - 7.1. 大家快看看自己是否為這版本區間。此問題會發生在 SSH Client 而不是 Server 端，所以 Linux &lt;a href="https://www.freebsd.org/">FreeBSD&lt;/a> 和 &lt;a href="https://zh.wikipedia.org/zh-tw/Mac_OS">MacOS&lt;/a> 都需要升級 OpenSSH，如果你是在 Windows 用 Putty 則不受影響。&lt;/p></description></item><item><title>安裝 XCache 加速 PHP 執行速度</title><link>https://blog.wu-boy.com/2011/09/how-to-install-xcache-on-freebsd/</link><pubDate>Tue, 20 Sep 2011 09:56:33 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/09/how-to-install-xcache-on-freebsd/</guid><description>&lt;p>&lt;a href="https://www.flickr.com/photos/appleboy/6034284842/" title="php-logo by appleboy46, on Flickr">&lt;img src="https://i2.wp.com/farm7.static.flickr.com/6186/6034284842_351ff33711_m.jpg?resize=240%2C127&amp;#038;ssl=1" alt="php-logo" data-recalc-dims="1" />&lt;/a>&lt;/p>
&lt;h2 id="前言">前言&lt;/h2>
&lt;p>最近 &lt;a href="http://www.freebsd.org" target="_blank">FreeBSD&lt;/a> 系統常常會當機，加上 &lt;a href="https://www.varnish-cache.org/" target="_blank">Varnish cache&lt;/a> + &lt;a href="http://pecl.php.net/package/APC" target="_blank">APC&lt;/a> 一直給我出包，所以這次就換了一套加速 PHP 執行的套件 &lt;a href="http://xcache.lighttpd.net/" target="_blank">XCache&lt;/a>，這是一套由華人所開發的加速器，可以參考篇&lt;a href="http://twpug.net/" target="_blank">台灣PHP聯盟論壇&lt;/a>所發表 &lt;a href="http://twpug.net/modules/newbb/viewtopic.php?topic_id=1571&amp;forum=14&amp;post_id=8054" target="_blank">PHP 加速器 - xcache&lt;/a>，裡面可以看到&lt;a href="http://forum.lighttpd.net/topic/880" target="_blank">這篇&lt;/a>裡面就有中文的對話，非常好玩，這次也順便把 PHP 升級到 5.3.8 版本，還有 Varnish 一次升級到 3.0.1 版本。&lt;/p>
&lt;h2 id="各家-php-加速器">各家 PHP 加速器&lt;/h2>
&lt;p>大家都知道目前網路上知名的 PHP 加速器 &lt;a href="http://pecl.php.net/apc" target="_blank">apc&lt;/a>, &lt;a href="http://eaccelerator.sf.net/" target="_blank">eaccelerator&lt;/a>, &lt;a href="http://www.php-accelerator.co.uk/" target="_blank">phpa&lt;/a>, &lt;a href="http://turck-mmcache.sourceforge.net/index_old.html" target="_blank">truck-mmcache&lt;/a>，這幾套網路上資料很多，大家都可以試著玩看看，尤其是前面兩套 APC 及 eaccelerator，phpa 目前已經不再維護了，truck-mmcache 版本好像也沒啥在更新，距離上次更新是 2009-07-17，Xcache 作者研究 truck-mmcache 跟 APC 已經很長的時間，他發現 APC 的程式碼比起 truck-mmcache 還要簡單更容易瞭解，所以大家也可以研究 APC 相關程式碼。&lt;/p></description></item><item><title>好用 PHP debug extension Xdebug on FreeBSD 安裝</title><link>https://blog.wu-boy.com/2011/06/%E5%A5%BD%E7%94%A8-php-debug-extension-xdebug-on-freebsd-%E5%AE%89%E8%A3%9D/</link><pubDate>Tue, 07 Jun 2011 05:42:18 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/06/%E5%A5%BD%E7%94%A8-php-debug-extension-xdebug-on-freebsd-%E5%AE%89%E8%A3%9D/</guid><description>之前介紹 FirePHP 這套好用的 PHP Debug 工具，也寫了一篇針對 CodeIgniter 的安裝方式，請參考: [PHP] 好用 Debug PHP 工具 FirePHP for FireFox on CodeIgniter，今天要介紹一套好用的 PHP debug Extension: Xdebug 的安裝方式，作者環境是在 FreeBSD 上，Windows 安裝方式就到官方網站下載對應的 PHP Windows binaries，目前在 FreeBSD ports 上面的版本是 2.1.0，但是 Xdebug 作者已經更新到 2.1.1，自己就順手發了一個 patch 157677 給 FreeBSD 官方 ports 去 update。
FreeBSD 安裝步驟 # cd /usr/ports/devel/php-xdebug# make install clean 設定 /usr/local/etc/php/extensions.ini 檔案後面加入
extension=xdebug.so 設定 /usr/local/etc/php/php.ini 檔案後面加入
xdebug.profiler_enable = 1xdebug.profiler_output_dir = /tmp/profiler 重新啟動 apache /usr/local/etc/rc.d/apache22 restart 之後執行指令 php -v 會發現出現底下 warning message: PHP Warning: Xdebug MUST be loaded as a Zend extension 這時候請修改 /usr/local/etc/php/extensions.</description></item><item><title>[FreeBSD] 利用 fsck 指令修復不正常斷電關機</title><link>https://blog.wu-boy.com/2011/01/freebsd-%E5%88%A9%E7%94%A8-fsck-%E6%8C%87%E4%BB%A4%E4%BF%AE%E5%BE%A9%E4%B8%8D%E6%AD%A3%E5%B8%B8%E6%96%B7%E9%9B%BB%E9%97%9C%E6%A9%9F/</link><pubDate>Wed, 26 Jan 2011 13:49:45 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/01/freebsd-%E5%88%A9%E7%94%A8-fsck-%E6%8C%87%E4%BB%A4%E4%BF%AE%E5%BE%A9%E4%B8%8D%E6%AD%A3%E5%B8%B8%E6%96%B7%E9%9B%BB%E9%97%9C%E6%A9%9F/</guid><description>由於人不在機器前面，所以都請學弟妹幫忙直接拔電在插電，現在問題出來了，完全不能開機了，現在就只能進去單人模式修復，其實修復也非常容易，進入開機選單，選擇 Single user mode 模式，進入之後會直接看到底下訊息提示:
enter full pathname of shell or return for :/bin/sh: 沒意外就直接按下 Enter 鍵就可以了，由於 fsck 指令在修復過程不可以先 mount 磁區，所以先利用 mount -a 來掛上所有磁區 # 掛上所有磁區mount -a# 顯示硬碟磁區df -h Console 會看到 Filesystem Size Used Avail Capacity Mounted on/dev/da0s1a 496M 341M 115M 75% /devfs 1.0K 1.0K 0B 100% /dev/dev/da0s1e 496M 16M 440M 4% /tmp/dev/da0s1f 24G 15G 6.4G 71% /usr/dev/da1s1d 33G 22G 8.4G 73% /usr/home/dev/da0s1d 4.</description></item><item><title>ProFTPD UseEncoding 繁體中文亂碼解決 Localization</title><link>https://blog.wu-boy.com/2010/07/proftpd-useencoding-%E7%B9%81%E9%AB%94%E4%B8%AD%E6%96%87%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA-localization/</link><pubDate>Wed, 07 Jul 2010 08:07:13 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/07/proftpd-useencoding-%E7%B9%81%E9%AB%94%E4%B8%AD%E6%96%87%E4%BA%82%E7%A2%BC%E8%A7%A3%E6%B1%BA-localization/</guid><description>ProFTPD 一直都是我最喜歡使用的 FTP 伺服器，設定方式簡單淺顯易懂，最近在用 PSPad 寫程式，發現使用內建 FTP 功能時候，連不上 FreeBSD 架設的 ProFTPD，連線過程出現許多亂碼，所以造成 PSPad 斷線出現錯誤，解決方式就是利用 mod_lang 模組，設定 UseEncoding 讓系統可以顯示 Big5 中文編碼，FreeBSD Ports 請勾選
[X] NLSUOTA Use nls (builds mod_lang) 自行編譯請按照底下步驟 ./configure --enable-nlsmakemake install UseEncoding 設定 Syntax: UseEncoding on|off|local-charset client-charsetDefault: NoneContext: "server config", , Module: mod_langCompatibility: 1.3.2rc1 在 1.3.2rc1 版本之後才有支援，請複製底下設定，貼到 proftpd.conf # 简体中文環境UseEncoding UTF-8 GBK# 繁体中文環境UseEncoding UTF-8 Big5 Reference: ProFTPD module mod_lang centos上解決proftp中文亂碼問題</description></item><item><title>[FreeBSD] update apache -> 2.2.15, PHP -> 5.3.2, and MySQL downgrade to 5.1.9</title><link>https://blog.wu-boy.com/2010/06/freebsd-update-apache-2-2-15-php-5-3-2-and-mysql-downgrade-to-5-1-9/</link><pubDate>Wed, 23 Jun 2010 05:46:34 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/06/freebsd-update-apache-2-2-15-php-5-3-2-and-mysql-downgrade-to-5-1-9/</guid><description>昨天升級了 FreeBSD 的 Apache, PHP, and MySQL，遇到很多地雷阿，最多的就是 PHP 的部份，因為本來自己使用 5.2.11 版本，但是在 commit port 的時候發生去裝 5.3.2 版本，所以就直接砍掉全部重練，先是遇到 MySQL 問題，原先在 database/mysql60-server 已經被 FreeBSD 移除，任何關於 mysql60 的相關 port 都被 remove 掉了，只好 downgrade 到 mysql 5.1.48 版本，移除同時順手把 apache PHP 相關都拿掉了。
移除 apache mysql php 相關 ports -rf 依序找尋相關 Mysql ports 移除 pkg_deinstall -rf mysql60-server 接下來安裝 MySQL 5.1.48 Server and Client，可以找到在 databases/mysql51-server and databases/mysql51-client，直接安裝即可
cd /usr/ports/databases/mysql51-server &amp;&amp; make install 安裝 Apache 2.2.15 cd /usr/ports/www/apache22 &amp;&amp; make WITH_MPM=worker install 安裝 PHP 5.</description></item><item><title>Apache 取得透過 Reverse Proxy (Varnish) 的 Client 真正 IP (mod_rpaf)</title><link>https://blog.wu-boy.com/2010/03/apache-%E5%8F%96%E5%BE%97%E9%80%8F%E9%81%8E-reverse-proxy-varnish-%E7%9A%84-client-%E7%9C%9F%E6%AD%A3-ip-mod_rpaf/</link><pubDate>Thu, 25 Mar 2010 17:21:51 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/03/apache-%E5%8F%96%E5%BE%97%E9%80%8F%E9%81%8E-reverse-proxy-varnish-%E7%9A%84-client-%E7%9C%9F%E6%AD%A3-ip-mod_rpaf/</guid><description>之前介紹 [FreeBSD]high performance caching reverse proxy: Varnish (安裝架設篇) 來當 Web 前端 Reverse Proxy，也有 load balance 的功能，不過碰到這樣的環境，後端 Apache Server 只會抓到 Reverse Proxy IP 來當作 log 紀錄，而無法正確取得 Client 端 IP，Varnish 官網 FAQ 有提到 log 檔案得的解決方法，不過在程式方面，要大量的修改，假設今天 Apache 跑10個 Virtual Host ，不就要去改10個網站程式，背後或許是一些大型 open source 的 Project，改起來相當不容易，也很費工夫。Darkhero 提供了 reverse proxy add forward module for Apache (mod_rpaf) 模組，只要裝上這模組，Apache 就不必動到其它設定就可以正確紀錄 log 檔案，且程式都不必修改，就可以得到正確 IP 了。 FreeBSD Ports 安裝方式：
cd /usr/ports/www/mod_rpaf2/make install clean 修改 httpd.conf (FreeBSD: /usr/local/etc/apache22/httpd.conf) LoadModule rpaf_module libexec/apache22/mod_rpaf.</description></item><item><title>[Vim] 想套用 *.php syntax 顏色於 *.ros</title><link>https://blog.wu-boy.com/2010/03/vim-%E6%83%B3%E5%A5%97%E7%94%A8-php-syntax-%E9%A1%8F%E8%89%B2%E6%96%BC-ros/</link><pubDate>Tue, 16 Mar 2010 05:38:43 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/03/vim-%E6%83%B3%E5%A5%97%E7%94%A8-php-syntax-%E9%A1%8F%E8%89%B2%E6%96%BC-ros/</guid><description>Vim 是一套強大的編輯器，它分佈於各大 UNIX systems，安裝好一套 UNIX 系統，預設就是 Vi 編輯器(FreeBSD 預設是 ee)，相當好用，他也支援各種語言的 syntax，讓您在編輯檔案能夠看到各種不同顏色，在 FreeBSD 底下可以去看 /usr/local/share/vim/vim64/syntax/ 該資料夾支援各種語言，例如 PHP、Ruby、css、html、java、C/C++…等，假設今天我們想要 .ros 的副檔名需要用 php.vim syntax 來開啟，就必須做底下設定： 執行底下：
mkdri ~/.vimvi ~/.vim/filetype.vim 寫入 filetype.vim 資訊 if version &lt; 600 syntax clear elseif exists("b:current_syntax") finish endif augroup filetypedetect au! BufRead,BufNewFile *.ros setfiletype php augroup END[/code] ps. on freebsd 7.1-RELEASE-p11 vim version 6.4.9 reference: Vim 套用 Markdown syntax vi 設定</description></item><item><title>[FreeBSD] DenyHosts 設定在 hosts.allow 注意事項</title><link>https://blog.wu-boy.com/2010/03/freebsd-denyhosts-%E8%A8%AD%E5%AE%9A%E5%9C%A8-hosts-allow-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85/</link><pubDate>Thu, 11 Mar 2010 10:13:29 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/03/freebsd-denyhosts-%E8%A8%AD%E5%AE%9A%E5%9C%A8-hosts-allow-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85/</guid><description>DenyHosts 是一套用 Python 跟 shell script 寫出來的 open source base on Linux or FreeBSD (/var/log/secure on Redhat, /var/log/auth.log on Mandrake, FreeBSD, etc&amp;hellip;)，用來阻擋 SSH Server 被攻擊，之前寫一篇 FreeBSD 安裝設定教學，有一點沒有注意到，就是打開 /etc/hosts.allow，注意要把 ALL : ALL : allow 放到最後一行，跟 iptables 設定原理是一樣的，會從第一條規則開始比對，如果比對成功，下面的 rule 就會略過比對了，參考英文說明：
Start by allowing everything (this prevents the rest of the file from working, so remove it when you need protection). The rules here work on a &amp;ldquo;First match wins&amp;rdquo; basis. /etc/hosts.deny 已經被 FreeBSD 棄用，所以必須把 allow 跟 deny 的 rule 都寫到 hosts.</description></item><item><title>[FreeBSD] Fanout and Fanterm Tool to run commands on multiple machines</title><link>https://blog.wu-boy.com/2010/01/freebsd-fanout-and-fanterm-tool-to-run-commands-on-multiple-machines/</link><pubDate>Fri, 08 Jan 2010 07:44:10 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/01/freebsd-fanout-and-fanterm-tool-to-run-commands-on-multiple-machines/</guid><description>在 Linux 或 FreeBSD 系統底下，如何下達 command 來達到多方控管機器，在網路上找到 Fanout and fanterm 這兩套軟體，可以實現我想要的目的，在 FreeBSD 有把 sysutils/fanout 進到 ports 裡面，安裝方式很簡單，就直接 make install clean 就可以了，用法也很簡易：
Usage:/usr/local/bin/fanout "MACHINES" "commands and parameters to run on each machine"/usr/local/bin/fanout -h #Show this help/usr/local/bin/fanout --noping # Do not ping before running command 當然事情沒有這麼簡單，因為是透過 SSH 方式去對其他機器下 command，所以作者都把預設 port 設定成 22，沒有完整考慮到其他環境，管理重要的 Server 怎麼會設定 22 阿，一定會改掉的阿，後來檢查一下 /usr/local/bin/fanout 這隻程式，並非編譯過的 binary 檔案，所以打開來看，就是利用 bash shell script 所寫的程式，網路上 Google 也找到一篇 Does anyone know how to specify a ssh port number with fanout?</description></item><item><title>[UNIX] Vim 命令圖解說明</title><link>https://blog.wu-boy.com/2009/12/unix-vim-%E5%91%BD%E4%BB%A4%E5%9C%96%E8%A7%A3%E8%AA%AA%E6%98%8E/</link><pubDate>Sat, 12 Dec 2009 11:04:27 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/12/unix-vim-%E5%91%BD%E4%BB%A4%E5%9C%96%E8%A7%A3%E8%AA%AA%E6%98%8E/</guid><description>Vim 是一套在 Windows 或者是 UNIX 系統上面非常強大的編輯器，在 vgod’s blog 看到一篇：『給程式設計師的Vim入門圖解說明』，原作者提供了 pdf 以及 png 檔案讓大家下載阿，相當方便，看到這篇就馬上印出來貼在自己的桌子前面，圖解內容也相當清楚，很適合剛學習 UNIX 系統所需要的一些基本 Vim 指令，如何分割視窗，刪除行…等，另外在 Tsung&amp;rsquo;s Blog 看到 好文: Vim 食譜(CookBook、Recipes)，提供了兩個好用連結：
Vim Recipes - Vim 由淺入深, 每篇都很短, 非常推薦此書~ (可線上看, 也可免費下載) Vim Cookbook - Vim 食譜, 這篇專門紀錄常用、好用的密技. 都可以參考看看喔，對於學習 Vim 會有相當大的幫助，底下兩張是從 vgod’s blog 轉錄過來的。</description></item><item><title>[FreeBSD] freebsd kernel: fxp0: link state changed to DOWN / UP</title><link>https://blog.wu-boy.com/2009/12/freebsd-freebsd-kernel-fxp0-link-state-changed-to-down-up/</link><pubDate>Thu, 10 Dec 2009 03:00:15 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/12/freebsd-freebsd-kernel-fxp0-link-state-changed-to-down-up/</guid><description>這一個禮拜被機器弄的頭昏腦脹，突然網路斷掉，然後不知不覺中又好了，接下來是斷斷續續，時好時壞，所以去檢查看一下 /var/log/message 訊息，log 檔案吐出很多底下的資訊：
Dec 9 21:17:02 freebsd kernel: fxp0: link state changed to DOWN Dec 9 21:17:03 freebsd kernel: fxp0: link state changed to UP Dec 9 21:17:10 freebsd kernel: fxp0: link state changed to DOWN Dec 9 21:17:12 freebsd kernel: fxp0: link state changed to UP 在網路上 FreeBSD mail list 查到一篇：『Interface Status changes to UP and Down』，裡面提到通常是硬體的問題，換過 switch 以及網路線，測試還是有問題，網路會斷斷續續，後來就用主機板上面另外兩個網孔測試，網路就不會時好時壞了，由於時常更改 /etc/rc.conf 裡面的 ip 設定，要重新啟動網路卡介面，這樣會造成遠端 ssh 斷線，解決方式請用下面指令： How do I restart network service over ssh session?</description></item><item><title>[FreeBSD] port committer 快速建立 pkg-plist</title><link>https://blog.wu-boy.com/2009/11/freebsd-port-committer-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-pkg-plist/</link><pubDate>Wed, 18 Nov 2009 08:51:12 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/11/freebsd-port-committer-%E5%BF%AB%E9%80%9F%E5%BB%BA%E7%AB%8B-pkg-plist/</guid><description>在 FreeBSD 系統裡，最常使用就是管理安裝 ports，之前寫過一篇如何 commit update ports :『[FreeBSD] send-pr porter committer 需要注意事項』，根據 FreeBSD Porter&amp;rsquo;s Handbook 裡頭，寫到 pkg-plist 檔案內容是根據 ports 所產生的檔案列表，可以參考 Automated package list creation 這篇來快速產生，而我自己把該篇寫成 shell script 來直接產生，再來利用 diff 的方式來看看有無需要修改或者是增加，底下就是 shell script 內容：
#!/usr/local/bin/bash################################################# Date:	2009.11.18# Author: appleboy ( appleboy.tw AT gmail.com)# Web:	http://blog.wu-boy.com# Ref:	http://www.freebsd.org/doc/en/books/porters-handbook/plist-autoplist.html################################################PATH=/bin:/usr/bin:/sbin:/usr/sbin:/usr/local/binexport PATHif [ "$#" -lt "2" ]; thenecho "please give two argument"echo "</description></item><item><title>[Perl&amp;PHP] time() and Class::Date 日期轉換運算</title><link>https://blog.wu-boy.com/2009/11/perlphp-time-and-classdate-%E6%97%A5%E6%9C%9F%E8%BD%89%E6%8F%9B%E9%81%8B%E7%AE%97/</link><pubDate>Tue, 03 Nov 2009 15:28:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/11/perlphp-time-and-classdate-%E6%97%A5%E6%9C%9F%E8%BD%89%E6%8F%9B%E9%81%8B%E7%AE%97/</guid><description>&lt;p>為了看個 &lt;a href="http://mlb.mlb.com/index.jsp">MLB&lt;/a> 美國職棒，寫了一個網站：&lt;a href="http://mimi.twgg.org/">美國職棒影片收集站&lt;/a>，裡面的內容影片連結，以及連結說明，都是利用 &lt;a href="http://www.perl.org/">Perl&lt;/a> 搭配 &lt;a href="http://www.mysql.com/">MySQL&lt;/a> 資料庫，以及 &lt;a href="http://codeigniter.com/">CodeIgniter PHP Framework&lt;/a> 寫出來的，美國 MLB 開打時間，會比台灣晚一天的時差，所以在 &lt;a href="http://www.php.net">PHP&lt;/a> 跟 Perl 都要針對時間作修改以及轉換運算，那底下會寫 PHP 跟 Perl 如何控制時間，還有資料庫如何設計，會比較適當。&lt;/p>
&lt;h2 id="span-stylecolor-008000php-日期轉換span-mysql-在資料庫時間格式方面最主要常見的兩種儲存方式一種就是-mysql-預設-datetime顯示的格式就會像是">&lt;span style="color: #008000;">PHP 日期轉換&lt;/span> MySQL 在資料庫時間格式方面，最主要常見的兩種儲存方式，一種就是 MySQL 預設 datetime，顯示的格式就會像是&lt;/h2>
&lt;p>&lt;span style="color: #ff0000;">2009-11-03 20:10:43&lt;/span>，另一種就是存成 &lt;a href="http://en.wikipedia.org/wiki/Unix_time">UNIX time&lt;/a> 格式，可以設定為 int(11)，這兩種其實都可以使用，在 &lt;a href="http://www.phpbb.com/">phpBB2&lt;/a> 是採用後者的方式，因為 open source 要支援多種資料庫，但是又要統一程式碼，所以乾脆用 UNIX 的時間標記，這樣比較好轉換時區，如果使用 UNIX 格式，可以利用 &lt;a href="http://php.net/manual/en/function.time.php">time()&lt;/a> 函式來取的。&lt;/p></description></item><item><title>[FreeBSD] 簡易架設 git Server，git 使用教學</title><link>https://blog.wu-boy.com/2009/10/freebsd-%E7%B0%A1%E6%98%93%E6%9E%B6%E8%A8%AD-git-server%EF%BC%8Cgit-%E4%BD%BF%E7%94%A8%E6%95%99%E5%AD%B8/</link><pubDate>Mon, 05 Oct 2009 06:18:51 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/10/freebsd-%E7%B0%A1%E6%98%93%E6%9E%B6%E8%A8%AD-git-server%EF%BC%8Cgit-%E4%BD%BF%E7%94%A8%E6%95%99%E5%AD%B8/</guid><description>&lt;p>&lt;a href="http://git-scm.com/">Git&lt;/a> 是一套免費 open source 的版本控制軟體，另外還有很多套版本控制軟體，如：&lt;a href="http://mercurial.selenic.com/wiki/">Mercurial&lt;/a>, &lt;a href="http://bazaar-vcs.org/">Bazaar&lt;/a>, &lt;a href="http://subversion.tigris.org/">Subversion&lt;/a>, &lt;a href="http://www.nongnu.org/cvs/">CVS&lt;/a>, &lt;a href="http://www.perforce.com/">Perforce&lt;/a>, and &lt;a href="http://msdn.microsoft.com/en-us/vstudio/aa718670.aspx">Visual SourceSafe&lt;/a>，其中 Mercurial 又是 &lt;a href="http://googlecode.blogspot.com/2009/04/mercurial-support-for-project-hosting.html">Google Code Project Hosting 採用的版本控制系統&lt;/a>，當然 google 也支援原本的 &lt;a href="http://subversion.tigris.org/">Subversion&lt;/a>，Git 為現在很紅的一套版本控制 Software，底下紀錄在 &lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a> 如何架設簡易 Git Server。 1. 利用 FreeBSD ports 安裝：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">cd /usr/ports/devel/git; make install clean&lt;/pre> 2. 修改 /etc/rc.conf 
&lt;pre class="brush: bash; title: ; notranslate" title="">git_daemon_enable="YES"
git_daemon_directory="/path/git/repo"
git_daemon_flags="--export-all --syslog --enable=receive-pack --listen=192.168.1.1"&lt;/pre> 注意 git\_daemon\_flags 可以加入 --verbose 參數，以方便 debug 3. 新增使用者 git 
&lt;pre class="brush: bash; title: ; notranslate" title="">pw user add git&lt;/pre> 4. 啟動 git daemon 
&lt;pre class="brush: bash; title: ; notranslate" title="">/usr/local/etc/rc.d/git_daemon start&lt;/pre> 您會發現多出 9418 連接埠，就是成功了</description></item><item><title>[FreeBSD] send-pr porter committer 需要注意事項</title><link>https://blog.wu-boy.com/2009/09/freebsd-send-pr-committer-%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85/</link><pubDate>Tue, 22 Sep 2009 14:03:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/09/freebsd-send-pr-committer-%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85/</guid><description>&lt;p>&lt;a href="https://www.flickr.com/photos/appleboy/3944776064/" title="logo-red (by appleboy46)">&lt;img src="https://i2.wp.com/farm3.static.flickr.com/2495/3944776064_38690ab101.jpg?resize=457%2C75&amp;#038;ssl=1" title="logo-red (by appleboy46)" alt="logo-red (by appleboy46)" data-recalc-dims="1" />&lt;/a> 來紀錄一下最近使用 &lt;a href="http://www.freebsd.org/cgi/man.cgi?query=send-pr&amp;amp;sektion=1">send-pr&lt;/a> 的心得，send-pr 就是提交問題 problem report (PR) 到 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> Support 中心，您也可以透過 send-pr 發送新的 ports 給 FreeBSD 中心，最近 &lt;a href="http://codeIgniter.com">CodeIgniter&lt;/a> V1.7.2 的 Release，所以把 CI 的 patch 送給中心並且 CC 給 maintainer，/usr/bin/send-pr 這支 shell script 在 FreeBSD 用處可多了，不單只是 ports 的問題，也有 www, i386, ia64 的問題，都可以透過它回報給總部喔。 要瞭解 ports 怎麼產生，或者是怎麼製作 patch 都可以參考 &lt;a href="http://www.freebsd.org/doc/en/books/porters-handbook/">FreeBSD Porter&amp;rsquo;s Handbook&lt;/a>，文件是英文的，請大家多多包含，不過還是有&lt;a href="http://www.freebsd.org/doc/zh_TW/books/porters-handbook/">中文的文件&lt;/a>，通常 patch 是還蠻簡單的，底下紀錄我做的步驟，以及如何測試 ports 正確性。其實步驟不難啦。&lt;/p></description></item><item><title>[FreeBSD] 取得 FreeBSD CVSUP 的更新狀態</title><link>https://blog.wu-boy.com/2009/08/freebsd-%E5%8F%96%E5%BE%97-freebsd-cvsup-%E7%9A%84%E6%9B%B4%E6%96%B0%E7%8B%80%E6%85%8B/</link><pubDate>Mon, 31 Aug 2009 06:30:01 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/08/freebsd-%E5%8F%96%E5%BE%97-freebsd-cvsup-%E7%9A%84%E6%9B%B4%E6%96%B0%E7%8B%80%E6%85%8B/</guid><description>&lt;p>&lt;a href="https://www.flickr.com/photos/appleboy/3873839724/" title="FreeBSD CVS Site_1251699923593 (by appleboy46)">&lt;img src="https://i1.wp.com/farm3.static.flickr.com/2548/3873839724_f8dbe78179.jpg?resize=500%2C306&amp;#038;ssl=1" title="FreeBSD CVS Site_1251699923593 (by appleboy46)" alt="FreeBSD CVS Site_1251699923593 (by appleboy46)" data-recalc-dims="1" />&lt;/a> 在 Sayya Joehorn 個人版看到有人實做出偵測台灣 CVSUP Server 更新狀態，以及更新的時間，也有程式碼的釋出，參考這篇：&lt;a href="http://blog.urdada.net/2007/12/24/69/">Script: 取得 FreeBSD CVSUP 的更新狀態&lt;/a>，這篇寫的蠻清楚的，只需要 perl 跟 php 就可以完成，不過在使用過程有些事項必須要注意，在 FreeBSD 6.2 R 之後，已經內建了 &lt;a href="http://www.freshports.org/net/csup/">csup&lt;/a> 指令來更新 ports 或者是核心，所以要在另外安裝上 &lt;a href="http://www.freshports.org/net/cvsup/">cvsup&lt;/a> ports 套件，在 Perl 方面，也先裝 &lt;a href="http://www.freshports.org/net/p5-Net-Rendezvous/">net/p5-Net-Rendezvous&lt;/a> 才可以正確使用。&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title=""># 安裝必備軟體
cd /usr/ports/net/p5-Net-Rendezvous/ &amp;&amp; make install clean
cd /usr/ports/net/cvsup-without-gui &amp;&amp; make install clean&lt;/pre></description></item><item><title>[PHP] FreeBSD Sphinx 繁體中文全文檢索 on PHP</title><link>https://blog.wu-boy.com/2009/06/php-freebsd-sphinx-%E7%B9%81%E9%AB%94%E4%B8%AD%E6%96%87%E5%85%A8%E6%96%87%E6%AA%A2%E7%B4%A2-on-php/</link><pubDate>Sat, 20 Jun 2009 05:10:32 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/06/php-freebsd-sphinx-%E7%B9%81%E9%AB%94%E4%B8%AD%E6%96%87%E5%85%A8%E6%96%87%E6%AA%A2%E7%B4%A2-on-php/</guid><description>&lt;p>&lt;a href="http://sphinxsearch.com/">&lt;img class="alignleft size-full wp-image-1467" title="sphinx" src="https://i0.wp.com/blog.wu-boy.com/wp-content/uploads/2009/06/sphinx.jpg?resize=200%2C51" alt="sphinx" data-recalc-dims="1" />&lt;/a> 最近想說幫之前替代役單位來把全文檢索的中文部份搞定，所以找了一些全文檢索的 open source，挑了這套網路上評價還不錯的 &lt;a href="http://sphinxsearch.com/">Sphinx&lt;/a>，目前 Sphinx 支援的作業系統如下：&lt;/p>
&lt;ul>
&lt;li>Linux 2.4.x, 2.6.x (various distributions)&lt;/li>
&lt;li>Windows 2000, XP&lt;/li>
&lt;li>FreeBSD 4.x, 5.x, 6.x&lt;/li>
&lt;li>NetBSD 1.6, 3.0&lt;/li>
&lt;li>Solaris 9, 11&lt;/li>
&lt;li>Mac OS X 雖然上面寫 FreeBSD 只支援到 6.X，但是我測試是在 FreeBSD 7.1-RELEASE-p6 的環境，所以相當 ok 的，底下是我安裝在 FreeBSD 的心得筆記，PHP 官網上面有支援&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="http://tw.php.net/manual/en/refs.search.php">Search Engine Extensions&lt;/a> 的介紹，包含了 &lt;a href="http://tw.php.net/manual/en/book.mnogosearch.php">mnoGoSearch&lt;/a>、&lt;a href="http://tw.php.net/manual/en/book.sphinx.php">Sphinx&lt;/a> — Sphinx Client、&lt;a href="http://tw.php.net/manual/en/book.swish.php">Swish&lt;/a> — Swish Indexing，可以利用 pecl 來安裝 Sphinx，目前版本：0.9.9-rc1。&lt;/p></description></item><item><title>[網站] 好站連結 (三)</title><link>https://blog.wu-boy.com/2009/06/%E7%B6%B2%E7%AB%99-%E5%A5%BD%E7%AB%99%E9%80%A3%E7%B5%90-%E4%B8%89/</link><pubDate>Thu, 11 Jun 2009 03:01:12 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/06/%E7%B6%B2%E7%AB%99-%E5%A5%BD%E7%AB%99%E9%80%A3%E7%B5%90-%E4%B8%89/</guid><description/></item><item><title>[網站] 好站連結 (二)</title><link>https://blog.wu-boy.com/2009/05/%E7%B6%B2%E7%AB%99-%E5%A5%BD%E7%AB%99%E9%80%A3%E7%B5%90-%E4%BA%8C/</link><pubDate>Thu, 28 May 2009 05:29:35 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/05/%E7%B6%B2%E7%AB%99-%E5%A5%BD%E7%AB%99%E9%80%A3%E7%B5%90-%E4%BA%8C/</guid><description/></item><item><title>[FreeBSD] 小技巧：防止 user 查詢觀看其他 user Processes</title><link>https://blog.wu-boy.com/2009/05/freebsd-%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%9A%E9%98%B2%E6%AD%A2-user-%E6%9F%A5%E8%A9%A2%E8%A7%80%E7%9C%8B%E5%85%B6%E4%BB%96-user-processes/</link><pubDate>Tue, 26 May 2009 07:48:49 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/05/freebsd-%E5%B0%8F%E6%8A%80%E5%B7%A7%EF%BC%9A%E9%98%B2%E6%AD%A2-user-%E6%9F%A5%E8%A9%A2%E8%A7%80%E7%9C%8B%E5%85%B6%E4%BB%96-user-processes/</guid><description>看了這篇：FreeBSD Prevent Users From Seeing Information About Processes Owned by Other Users，裡面寫到如何防止其他使用者登入 ssh 觀看到其他使用者的一些動作，平常一般使用者可以利用 ps aux 指令關看到所有 Processes 的狀況，包含了系統所有使用者，這篇就是介紹如何關閉使用者查看其他不屬於自己的 Processes，作法有兩種，底下分別介紹，效果是一樣的： 1. 寫入 /etc/sysctl.conf
echo 'security.bsd.see_other_uids=0' >> /etc/sysctl.confecho 'security.bsd.see_other_gids=0' >> /etc/sysctl.conf 2. 直接在 command line 執行 sysctl security.bsd.see_other_uids=0sysctl security.bsd.see_other_gids=0 兩種效果是一樣的，當然可以查詢目前的系統狀況 sysctl -a | grep security</description></item><item><title>[Django] Web Framework- Django -初階學習心得</title><link>https://blog.wu-boy.com/2009/04/django-web-framework-django-%E5%88%9D%E9%9A%8E%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97/</link><pubDate>Mon, 27 Apr 2009 02:50:00 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/04/django-web-framework-django-%E5%88%9D%E9%9A%8E%E5%AD%B8%E7%BF%92%E5%BF%83%E5%BE%97/</guid><description>&lt;p>&lt;a href="https://www.flickr.com/photos/appleboy/3475465970/" title="django-logo-negative_1236046419 (by appleboy46)">&lt;img title="django-logo-negative_1236046419 (by appleboy46)" src="https://i1.wp.com/farm4.static.flickr.com/3595/3475465970_7044242629.jpg?resize=198%2C90&amp;#038;ssl=1" alt="django-logo-negative_1236046419 (by appleboy46)" data-recalc-dims="1" />&lt;/a> 首先感謝 &lt;a href="http://phorum.study-area.org/index.php">酷學園團隊&lt;/a>、&lt;a href="http://whoswho.openfoundry.org">Who&amp;rsquo;s Who 工作坊&lt;/a>、&lt;a href="http://www.openfoundry.org" target="_blank">自由軟體鑄造場&lt;/a> 舉辦的一系列南部的 &lt;a href="http://www.python.org/">python&lt;/a>、&lt;a href="http://www.djangoproject.com/" target="_blank">Django&lt;/a> 活動，今天的活動主題是：&lt;a href="http://whoswho.openfoundry.org/workshop/details/21.html">Web Framework- Django -初階 (講者：陳建玎)&lt;/a>，簡介了為什麼需要 MVC 架構寫法，MVC 的重要性，以及 Django 的優點，還蠻豐富的課程，其實重點都是在如何使用 MVC 加速開發 Web 網站，以及在 Team Work 裡的重要性，目前在開發 Web Framework 都是利用 PHP 一套 Frame Work：&lt;a href="http://codeigniter.com/">Codeigniter&lt;/a>，在台灣已經有中文網站：&lt;a href="http://www.codeigniter.com.tw/">CodeIgniter 繁體中文&lt;/a>，自己接手了 CodeIgniter 計畫翻譯中文文件，還有開發 &lt;a href="http://www.codeigniter.com.tw/forums">forum 中文討論區&lt;/a>，還在規劃中，自己也才摸 CodeIgniter 一個多禮拜，底下有一張上課的投影片，介紹三種 Frame Work 的 Model、Views、Controller &lt;a href="https://www.flickr.com/photos/appleboy/3474957475/" title="django (by appleboy46)">&lt;img title="django (by appleboy46)" src="https://i0.wp.com/farm4.static.flickr.com/3343/3474957475_2a379b69ff.jpg?resize=500%2C371&amp;#038;ssl=1" alt="django (by appleboy46)" data-recalc-dims="1" />&lt;/a>&lt;/p></description></item><item><title>利用 freebsd-update 升級 FreeBSD security patch 安全性</title><link>https://blog.wu-boy.com/2009/04/%E5%88%A9%E7%94%A8-freebsd-update-%E5%8D%87%E7%B4%9A-freebsd-security-patch-%E5%AE%89%E5%85%A8%E6%80%A7/</link><pubDate>Thu, 02 Apr 2009 03:13:33 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/04/%E5%88%A9%E7%94%A8-freebsd-update-%E5%8D%87%E7%B4%9A-freebsd-security-patch-%E5%AE%89%E5%85%A8%E6%80%A7/</guid><description>&lt;p>在玩 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> 系統一定會常常需要升級 &lt;a href="http://www.freebsd.org/security/">security&lt;/a> 的 patch，之前寫過一篇手動升級 FreeBSD security patch：&lt;a href="http://blog.wu-boy.com/2008/08/26/338/">FreeBSD 的 security patch 跟 如何 upgrade&lt;/a>，那篇寫的內容也很容易瞭解，那現在又有另一種升級方式，就是利用 FreeBSD 內建指令 &lt;a href="http://www.freshports.org/security/freebsd-update/">freebsd-update&lt;/a>，這是可以 fetch 或者是 install 和 rollback binary 升級系統，不過這指令只能用在 &lt;span style="color: #ff0000;">Release Engineering&lt;/span> 的系統上面，例如 FreeBSD 7.1-RELEASE and FreeBSD 7.1-RC1，&lt;span style="color: #ff0000;">不可以&lt;/span>使用在 FreeBSD 6.2-STABLE 或者是 FreeBSD 7.0-CURRENT 版本上面，那在 &lt;a href="http://blog.gslin.org/">DK大神 blog&lt;/a> 上面有寫一篇可以升級 PRERELEASE 系統：&lt;a href="http://blog.gslin.org/archives/2009/03/24/1980/">用 freebsd-update 將 FreeBSD 7.1-PRERELEASE 升級到 7.1-RELEASE&lt;/a>，這方法可以騙過 freebsd-update 指令，不過我想本身要對 FreeBSD 很熟阿，不然會遇到很多地雷阿。 基本 OPTIONS 如下：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">-b basedir -- 指定系統掛載根目錄 預設值：/
 (default: /)
-d workdir -- 檔案暫存的地方
 (default: /var/db/freebsd-update/)
-f conffile -- 讀取基本設定檔
 (default: /etc/freebsd-update.conf)
-k KEY -- Trust an RSA key with SHA256 hash of KEY
-r release -- 指定 Release 版本 (e.g., 6.2-RELEASE)
-s server -- 指定抓取哪一台伺服器
 (default: update.FreeBSD.org)
-t address -- 搭配 corn 指定 email，當執行完畢，寄信通知使用者
 (default: root)&lt;/pre></description></item><item><title>Linux or FreeBSD screen 指令介紹使用</title><link>https://blog.wu-boy.com/2009/03/linux-or-freebsd-screen-%E6%8C%87%E4%BB%A4%E4%BB%8B%E7%B4%B9%E4%BD%BF%E7%94%A8/</link><pubDate>Tue, 10 Mar 2009 09:47:43 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/03/linux-or-freebsd-screen-%E6%8C%87%E4%BB%A4%E4%BB%8B%E7%B4%B9%E4%BD%BF%E7%94%A8/</guid><description>&lt;p>在管理 Linux 或者是 &lt;a href="http://www7.tw.freebsd.org/">FreeBSD&lt;/a> 系統常常用到的指令：screen，一方面如果 pietty 當掉，那您執行的指令升級系統都會繼續在 background 跑，那有時候可能跑的時間很長，這時候當然就要靠 screen 來達成這個目的，當然您也可以用 nohup 的方式來做到此目的，底下就是一些 screen 我常用的一些指令，還蠻方便的 首先如何開啟新的 screen 呢，當然就直接打指令 screen 就可以了，在 FreeBSD 底下開始沒有支援 screen 指令，利用 &lt;a href="http://www.freshports.org/">FreeBSD ports&lt;/a> 來安裝&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">cd /usr/ports/sysutils/screen; make install clean&lt;/pre></description></item><item><title>mydumper 取代 mysqldump 效能</title><link>https://blog.wu-boy.com/2009/03/mydumper-%E5%8F%96%E4%BB%A3-mysqldump-%E6%95%88%E8%83%BD/</link><pubDate>Mon, 09 Mar 2009 02:36:08 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/03/mydumper-%E5%8F%96%E4%BB%A3-mysqldump-%E6%95%88%E8%83%BD/</guid><description>&lt;p>這是我在 &lt;a href="http://blog.gslin.org">gslin 大神&lt;/a> 那邊看到的一篇文章：&lt;a href="http://blog.gslin.org/archives/2009/03/04/1956/">mydumper (取代 mysqldump 的工具)&lt;/a>，&lt;a href="http://dammit.lt/2009/02/03/mydumper/">mysqldumper&lt;/a> 有平行跟效能方面壓力測試，效果跟時間都壓縮的比 &lt;a href="http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html">mysqldump&lt;/a> 還要快，簡單管理 output 資料，它把 database 每個資料表分別 dump 資料出來寫到檔案，方便觀看檔案資料，不過沒有支援 dump table 的 definitions，所以加速提取 data 寫入到檔案，gslin 大神也把它包進 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> &lt;a href="http://www.freebsd.org/ports/">ports&lt;/a> 裡面，在 &lt;a href="http://www.freshports.org/databases/mydumper/">database/mydumper&lt;/a> 這裡。 我想會把這個機制套用到我之前寫的 shell script 裡面：&lt;a href="http://blog.wu-boy.com/2008/05/23/268/">[Linux&amp;amp;FreeBSD] 備份系統資料，MySQL 資料庫，PgSQL 資料庫的自動化 bash shell script 程式&lt;/a>，那 mydumper 用法也相當簡單，mydumper &amp;ndash;help 就寫的很清楚了，跟 mysqldump 用法差沒多少：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">-h, --host 連接到 hostname 伺服器
-u, --user 使用者名稱
-p, --password 使用者密碼
-P, --port MySQL TCP/IP port 
-B, --database Database 名稱
-t, --threads Number of parallel threads
-o, --outputdir 輸出的檔案要存放在哪, 預設 ./export-*/
-c, --compress gzip 壓縮每個檔案，多花一點時間
-x, --regex Regular expression for 'db.table' matching&lt;/pre></description></item><item><title>Google App Engine SDK：python 基本教學安裝</title><link>https://blog.wu-boy.com/2009/03/google-app-engine-sdk%EF%BC%9Apython-%E5%9F%BA%E6%9C%AC%E6%95%99%E5%AD%B8%E5%AE%89%E8%A3%9D/</link><pubDate>Sat, 07 Mar 2009 04:41:30 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/03/google-app-engine-sdk%EF%BC%9Apython-%E5%9F%BA%E6%9C%AC%E6%95%99%E5%AD%B8%E5%AE%89%E8%A3%9D/</guid><description>&lt;p>&lt;img src="https://i0.wp.com/code.google.com/appengine/images/appengine-silver-120x30.gif?resize=120%2C30" alt="Powered by Google App Engine" data-recalc-dims="1" /> &lt;a href="http://code.google.com/appengine/">Google App Engine&lt;/a> 利用 python 程式語言所組成，可以利用 &lt;a href="http://www.google.com.tw/">Google&lt;/a> 背後的技術來開發您的 Web application，後端就交給 Google 的強大雲端運算能力，前端就可以利用 &lt;a href="http://code.google.com/appengine/downloads.html">SDK&lt;/a> 來開發您的 Web 介面，後端儲存可以用 &lt;a href="http://www.google.com.tw/">Google&lt;/a> &lt;a href="http://labs.google.com/papers/bigtable.html" target="_blank">Bigtable&lt;/a> 及 &lt;a href="http://labs.google.com/papers/gfs.html" target="_blank">GFS&lt;/a> 的儲存方式，那現在就不多說了，花了一點時間把環境建立起來，遇到一些問題，現在來筆記一下，目前我在 &lt;a href="http://www.tw.freebsd.org/">FreeBSD&lt;/a> 7.1 Release 來當作 &lt;a href="http://code.google.com/appengine/">Google App Engine&lt;/a> 開發平台，在安裝方面有遇到一些小問題，底下來看看： 在 FreeBSD 安裝方法還蠻簡單的，首先把 python 環境弄好&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title=""># cd /usr/ports/lang/python25/
# make install clean&lt;/pre> 底下這張圖就是安裝好的結果： 
&lt;p>&lt;a href="https://www.flickr.com/photos/appleboy/3333900131/" title="GAE (by appleboy46)">&lt;img title="GAE (by appleboy46)" src="https://i2.wp.com/farm4.static.flickr.com/3556/3333900131_dd95bd7d35.jpg?resize=500%2C151&amp;#038;ssl=1" alt="GAE (by appleboy46)" data-recalc-dims="1" />&lt;/a>&lt;/p></description></item><item><title>如何在 console 端使用 Tail (View) Multiple Files on UNIX / Linux Console</title><link>https://blog.wu-boy.com/2009/02/%E5%A6%82%E4%BD%95%E5%9C%A8-console-%E7%AB%AF%E4%BD%BF%E7%94%A8-tail-view-multiple-files-on-unix-linux-console/</link><pubDate>Tue, 24 Feb 2009 10:24:28 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/02/%E5%A6%82%E4%BD%95%E5%9C%A8-console-%E7%AB%AF%E4%BD%BF%E7%94%A8-tail-view-multiple-files-on-unix-linux-console/</guid><description>&lt;p>這在管理 &lt;a href="http://en.wikipedia.org/wiki/Unix">UNIX&lt;/a> base 系統方面最重要的地方，不管是維護 &lt;a href="http://zh.wikipedia.org/wiki/Linux">Linux&lt;/a> or &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> 主機，都要學習如何觀看 log 檔案，系統出問題，不管是 apache 不能啟動，或者是 MySQL 發生錯誤，基本上都可以觀察 /var/log 底下的檔案來達到解決問題，平常在使用 Linux 預設可以用 &lt;a href="http://en.wikipedia.org/wiki/Tail_(Unix)">tail&lt;/a> 這個指令，使用方法如下：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">tail -F /var/log/message
tail -f /var/log/message
-f 如果在 message 晚上 rotate 檔案的時候，就會停止
-F 持續偵測是否有新檔案，會繼續維持下去&lt;/pre></description></item><item><title>[FreeBSD] 利用 portmaster 升級 PHP 5.26 -> 5.28</title><link>https://blog.wu-boy.com/2009/02/freebsd-%E5%88%A9%E7%94%A8-portmaster-%E5%8D%87%E7%B4%9A-php-526-528/</link><pubDate>Mon, 23 Feb 2009 12:14:48 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/02/freebsd-%E5%88%A9%E7%94%A8-portmaster-%E5%8D%87%E7%B4%9A-php-526-528/</guid><description>&lt;p>之前在 &lt;a href="http://blog.gslin.org">大神&lt;/a> 那邊看到一篇 升級 &lt;a href="http://blog.gslin.org/archives/2008/12/10/1879/">PHP 5.2.8 的一些小細節&lt;/a>，就來把我的機器升級一下，發現 php 5.2.7 之後已經把 pcre extension 納入在裡面，參考 /usr/ports/UPDATING 裡面的  20081211 這個項目，可以利用 &lt;a href="http://www.freshports.org/ports-mgmt/portupgrade/">portupgrade&lt;/a> 或者是 &lt;a href="http://www.freshports.org/ports-mgmt/portmaster/">portmaster&lt;/a> 來升級，之前都是利用 ruby 寫的 portupgrade 來升級系統或者是更新安全性，現在利用 portmaster 這一套也是不錯用，portmaster 是用 sh 寫出來的，在 gslin 大神這一篇：&lt;a href="http://blog.gslin.org/archives/2007/03/05/1113/">portupgrade、portmaster、portconf&lt;/a> 說到速度方面比 portupgrade 還要好，這我沒有實際測試過，自己在實際用了一下，還蠻方便的。 安裝 &lt;a href="http://www.freshports.org/ports-mgmt/portmaster/">portmaster&lt;/a> 跟 &lt;a href="http://www.freshports.org/ports-mgmt/portconf">portconf&lt;/a> 搭配：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">cd /usr/ports/ports-mgmt/portconf
make install clean
cd /usr/ports/ports-mgmt/portmaster
make install clean&lt;/pre></description></item><item><title>[FreeBSD] Perl 5.8.9 on bsnmpd SNMP 統計流量分析 mrtg</title><link>https://blog.wu-boy.com/2009/02/freebsd-perl-589-on-bsnmpd-snmp-%E7%B5%B1%E8%A8%88%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-mrtg/</link><pubDate>Fri, 06 Feb 2009 09:57:20 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/02/freebsd-perl-589-on-bsnmpd-snmp-%E7%B5%B1%E8%A8%88%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-mrtg/</guid><description>&lt;p>在 &lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a> 7.1 Release 要裝起 SNMP 搭配 MRTG 已經非常容易，請參考之前寫的教學：&lt;a href="http://blog.wu-boy.com/2008/03/20/158/">[FreeBSD] SNMP 統計流量分析 mrtg&lt;/a> ，可是這次因為安裝新系統，使用 Perl 5.8.9 在 MRTG 相依性好像安裝的不是很好，所以造成底下錯誤訊息：&lt;/p>
&lt;blockquote>
&lt;p>Can’t locate SNMP_util.pm in @INC (@INC contains: /usr/local/bin/../lib/mrtg2 / usr/local/bin /usr/local/lib/perl5/5.8. 9/BSDPAN /usr/local/lib/perl5/site_perl /5.8.9/mach /usr/local/lib/perl5/site_p erl/5.8.9 /usr/local/lib/perl5/site_per l /usr/local/lib/perl5/5.8.9/mach /usr/ local/lib/perl5/5.8.9 .) at /usr/local/ bin/cfgmaker line 105&lt;/p>
&lt;/blockquote></description></item><item><title>Linux Find 指令用法教學</title><link>https://blog.wu-boy.com/2009/01/linuxfreebsd-find-%E6%8C%87%E4%BB%A4%E7%94%A8%E6%B3%95%E6%95%99%E5%AD%B8/</link><pubDate>Tue, 13 Jan 2009 06:35:59 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/01/linuxfreebsd-find-%E6%8C%87%E4%BB%A4%E7%94%A8%E6%B3%95%E6%95%99%E5%AD%B8/</guid><description>&lt;p>筆記一下自己常用的 &lt;a href="https://www.geeksforgeeks.org/find-command-in-linux-with-examples/">find&lt;/a> 指令，適用於 &lt;a href="https://www.freebsd.org/">FreeBSD&lt;/a> 或者是 &lt;a href="https://en.wikipedia.org/wiki/Linux">Linux&lt;/a> 各大 distribution，系統管理這個指令就相當重要了，在搭配 grep，sed，awk，perl 可以快速找到自己要的檔案。我自己本身很常用到 grep，find，awk 這些撰寫 shell script。 底下先來介紹一下 find： 1. 找出 . 底下的 php 檔案&lt;/p>
&lt;div class="highlight">&lt;div style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1">&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1">1&lt;/a>
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>find . -name &lt;span style="color:#cd5555">&amp;#34;*.php&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>找出 . 底下非 php 副檔名檔案&lt;/p>
&lt;div class="highlight">&lt;div style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-1">&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-1">1&lt;/a>
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>find . -not -name &lt;span style="color:#cd5555">&amp;#34;*.php&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>[Linux] 利用 awk 或 perl command line 找出 passwd id 大於1000 的帳號</title><link>https://blog.wu-boy.com/2009/01/linux-%E5%88%A9%E7%94%A8-awk-%E6%88%96-perl-command-line-%E6%89%BE%E5%87%BA-passwd-id-%E5%A4%A7%E6%96%BC1000-%E7%9A%84%E5%B8%B3%E8%99%9F/</link><pubDate>Fri, 09 Jan 2009 13:19:53 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/01/linux-%E5%88%A9%E7%94%A8-awk-%E6%88%96-perl-command-line-%E6%89%BE%E5%87%BA-passwd-id-%E5%A4%A7%E6%96%BC1000-%E7%9A%84%E5%B8%B3%E8%99%9F/</guid><description>其實還蠻簡單的，只是想紀錄一下，利用 awk 或者是 perl command line 找出非系統產生的帳號 perl:
## perl 寫法#perl -an -F: -e 'if ($F[2] >= 1000) { print $F[0],"\n"; }' passwd awk: ## awk 寫法#awk -F ":" '($3 >= 1000) { printf $1 "\n"}' /etc/passwd</description></item><item><title>[FreeBSD]快速利用 cvsup-mirror 架設 CVSup Server (mirror site)</title><link>https://blog.wu-boy.com/2009/01/freebsd%E5%BF%AB%E9%80%9F%E5%88%A9%E7%94%A8-cvsup-mirror-%E6%9E%B6%E8%A8%AD-cvsup-server-mirror-site/</link><pubDate>Tue, 06 Jan 2009 13:22:04 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/01/freebsd%E5%BF%AB%E9%80%9F%E5%88%A9%E7%94%A8-cvsup-mirror-%E6%9E%B6%E8%A8%AD-cvsup-server-mirror-site/</guid><description>&lt;p>今天看到一篇：&lt;a href="http://www.backup.idv.tw/viewtopic.php?=&amp;amp;p=1536">[教學]用 cvsup-mirror 架設 CVSup Server (mirror site)&lt;/a>，自己就來架設一下，其實還蠻容易的，因為 FreeBSD Ports 都已經包好，所以安裝起來也不困難，利用 &lt;a href="http://www.freshports.org/net/cvsup-mirror/">cvsup-mirror&lt;/a> 這個軟體就可以架設完成了，那如何在台灣找尋一台最佳連線速度的 mirror 伺服器呢，利用 &lt;a href="http://www.freshports.org/sysutils/fastest_cvsup/">fastest_cvsup&lt;/a> 這個 ports 軟體，就可以了，當 FreeBSD 剛安裝完成，就是要先設定 cvsup mirror 的站台，我自己都是用 cvsup.tw.freebsd.org，這伺服器是交大資工架設，domain 同 freebsd.csie.nctu.edu.tw，我們利用 fastest_cvsup 可以另外找尋更好的伺服器。&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# ports 安裝
#
cd /usr/ports/sysutils/fastest_cvsup
make install clean&lt;/pre> 說明如何使用指令： 
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# 找尋台灣區最佳的伺服器 
#
fastest_cvsup -c tw
#
# 找尋最上層 cvsup 伺服器，如 cvsup.freebsd.org
#
fastest_cvsup -c tld&lt;/pre></description></item><item><title>[FreeBSD筆記] 快速搜尋 ports 軟體 psearch</title><link>https://blog.wu-boy.com/2009/01/freebsd%E7%AD%86%E8%A8%98-%E5%BF%AB%E9%80%9F%E6%90%9C%E5%B0%8B-ports-%E8%BB%9F%E9%AB%94/</link><pubDate>Sun, 04 Jan 2009 13:41:54 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2009/01/freebsd%E7%AD%86%E8%A8%98-%E5%BF%AB%E9%80%9F%E6%90%9C%E5%B0%8B-ports-%E8%BB%9F%E9%AB%94/</guid><description>&lt;p>在 &lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a> 內建的搜尋 &lt;a href="http://www.freebsd.org/ports/">ports&lt;/a> 指令搜尋速度有點慢，加上搜尋出來還蠻難找的，所以推薦一個搜尋 ports 軟體：&lt;a href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/ports-mgmt/psearch/">psearch&lt;/a>，支援 regular expression 安裝方式：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# ports 安裝
#
cd /usr/ports/ports-mgmt/psearch
make install clean
rehash;&lt;/pre> 使用方法： 
&lt;pre class="brush: bash; title: ; notranslate" title="">options:
 -V, --version 顯示版本資訊
 -h, --help 顯示 help 資訊
 -c CATEGORY, --category=CATEGORY
 快速搜尋方式，可以指定資料夾，例如：www，chinese
 -f FILE, --file=FILE 指定 INDEX 的檔案 Default: "/usr/ports/INDEX-7"
 -l, --long 顯示詳細的 ports 資訊介紹
 -m, --maintainer 取代 ports 的簡短訊息，顯示維護者資訊
 也可以搜尋 ports 的維護者所有維護的 ports
 -n, --name 顯示標準的訊息，基本的版本訊息
 -o, --or 搜尋任何符合 PATTERN 的 ports 資訊
 -s, --search_long 顯示 ports 詳細的資訊，速度較慢
 -v INVERSE_PATTERN, --inverse=INVERSE_PATTERN
 反向搜尋 ports 名稱&lt;/pre></description></item><item><title>[MySQL] 實做 MySQL Master-Master Replication 同步</title><link>https://blog.wu-boy.com/2008/12/mysql-%E5%AF%A6%E5%81%9A-mysql-master-master-replication-%E5%90%8C%E6%AD%A5/</link><pubDate>Tue, 30 Dec 2008 14:10:59 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/12/mysql-%E5%AF%A6%E5%81%9A-mysql-master-master-replication-%E5%90%8C%E6%AD%A5/</guid><description>&lt;p>今天無聊實做了 &lt;a href="http://www.mysql.com/">MySQL&lt;/a> 資料庫同步化，那可以先看看 &lt;a href="http://dev.mysql.com/doc/refman/5.0/en/replication.html">MySQL Master Slave Replication&lt;/a>，中文網站可以上 google 查詢或者是看看這一篇：&lt;a href="http://plog.longwin.com.tw/my_note-app-setting/2008/03/11/mysql_replication_master_slave_set_2008">MySQL 設定 Replication (Master – Slave)&lt;/a>，基本上設定還蠻容易的，如果會 Master 同步到 Slave 的話，那 MySQL Master-Master 只是在用相同的方法在做一遍，如果不懂 MMM 的可以先參考這一篇：&lt;a href="http://plog.longwin.com.tw/news-technology/2008/10/21/mysql-master-replication-manager-mmm-intro-2008">MySQL Master-Master Replication Manager(1) – 簡介&lt;/a>，這篇寫的很清楚，今天看了文章，我實做起來，遇到一些問題，其實還蠻奇怪的，所以底下就來紀錄一下步驟，順便也說明一下。 實做兩台 Ubuntu 機器： db1：192.168.1.1 db2：192.168.1.2 先設定 db1： 目前我都是在 Ubuntu 7.10 底下實做的，那基本上只要有支援 MySQL 的 Linux 或者 FreeBSD 機器都可以實做這個方法： &lt;strong>&lt;span style="color: #ff0000;">步驟一：先修改 my.cnf 這個檔案：&lt;/span>&lt;/strong> FreeBSD 的話在：/var/db/mysql/my.cnf Ubuntu：/etc/mysql/my.cnf 有的版本是在 /etc/my.cnf 所以不太一定，請依照自己的作業系統 修改：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# bind-address 請 mark 起來，因為我們必須讓 MySQL Listen 各個不同的 IP Address
#bind-address = 127.0.0.1
#
# server id 請記得每台機器都設定不同喔
#
server-id = 1
log_bin = /var/log/mysql/mysql-bin.log&lt;/pre></description></item><item><title>[FreeBSD]利用 DenyHosts 軟體擋掉暴力破解 ssh 的使用者</title><link>https://blog.wu-boy.com/2008/12/freebsd%E5%88%A9%E7%94%A8-denyhosts-%E8%BB%9F%E9%AB%94%E6%93%8B%E6%8E%89%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3-ssh-%E7%9A%84%E4%BD%BF%E7%94%A8%E8%80%85/</link><pubDate>Fri, 26 Dec 2008 04:48:00 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/12/freebsd%E5%88%A9%E7%94%A8-denyhosts-%E8%BB%9F%E9%AB%94%E6%93%8B%E6%8E%89%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3-ssh-%E7%9A%84%E4%BD%BF%E7%94%A8%E8%80%85/</guid><description>&lt;p>不管是架設好 Linux 跟 &lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a> 通常都會有國外的 hacker 來 try 機器的 SSH 帳號密碼，我想這是很正常的，網路上也提供很多方法來分析 Log 檔，&lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a>：/var/log/auth.log，我可以分析檔案，然後再利用 firewall like ipfw or pf 的方式來達到，或者是利用寫到 /etc/hosts.deny 來達到 Block 的功能，網路上有很多工具可以用，例如 &lt;a href="http://denyhosts.sourceforge.net/">DenyHosts&lt;/a>，&lt;a href="http://sshguard.sourceforge.net/">sshguard&lt;/a> 或者是 &lt;a href="http://anp.ath.cx/sshit/">sshit&lt;/a>，可以參考我之前寫的一篇&lt;a href="http://blog.wu-boy.com/2006/11/04/31/">利用 sshit 來達到阻擋 ssh 使用者&lt;/a>，然而今天來介紹一下 DenyHosts 再 FreeBSD 底下如何設定，還蠻方便的。 首先利用 ports 安裝，&lt;a href="http://denyhosts.sourceforge.net/">DenyHosts&lt;/a> 是利用 &lt;a href="http://www.python.org/">python&lt;/a> 的程式語言寫出來的：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">Port: denyhosts-2.6_2
Path: /usr/ports/security/denyhosts
Info: Script to thwart ssh attacks
Maint: janos.mohacsi@bsd.hu
B-deps: python25-2.5.2_3
R-deps: python25-2.5.2_3
WWW: http://denyhosts.sourceforge.net/

/* 利用 ports 安裝 */
cd /usr/ports/security/denyhosts; make install clean
&lt;/pre></description></item><item><title>[Linux&amp;FreeBSD] 解决 umount時出現的 “Device is busy”</title><link>https://blog.wu-boy.com/2008/11/linuxfreebsd-%E8%A7%A3%E5%86%B3-umount%E6%99%82%E5%87%BA%E7%8F%BE%E7%9A%84-device-is-busy/</link><pubDate>Tue, 25 Nov 2008 08:32:08 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/11/linuxfreebsd-%E8%A7%A3%E5%86%B3-umount%E6%99%82%E5%87%BA%E7%8F%BE%E7%9A%84-device-is-busy/</guid><description>&lt;p>在 Linux 系列 OS 安裝好之後，都會有支援一個 fuser 這一個指令，那有時候在 linux 底下 mount 隨身碟，或者是其他硬體的時候，有時候沒辦法讓您移除，會出現：『Device is busy』，那這個訊息是在保護確保你的資料有儲存到該裝置，有時候如果沒有正確移除，會造成資料遺失，或者是資料不完整，那基本上裝上任何一套 Linux 作業系統，都會有支援了，所以不必在另外安裝，那 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> 那就要在安裝 &lt;a href="http://www.freshports.org/sysutils/fuser">/usr/ports/sysutils/fuser&lt;/a> 這一個 tool 這樣才會有喔 安裝：『FreeBSD』&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">cd /usr/ports/sysutils/fuser
make install clean&lt;/pre> 那使用方法： for FreeBSD 
&lt;pre class="brush: bash; title: ; notranslate" title=""># fuser -m /var/log/maillog
/var/log/maillog: 513wa
# 加上 -u 參數
# fuser -mu /var/log/maillog
/var/log/maillog: 513wa(root)&lt;/pre>
&lt;p>&lt;strong>2008.11.28 update&lt;/strong> 另外解法： 可以使用 fstat -f /home 來觀看有哪些 process access /home&lt;/p></description></item><item><title>[FreeBSD]安裝 apache2 (worker) + PHP5.2.6 + mod_fastcgi + php5-fcgi</title><link>https://blog.wu-boy.com/2008/09/freebsd%E5%AE%89%E8%A3%9D-apache2-worker-php526-mod_fastcgi-php5-fcgi/</link><pubDate>Sat, 13 Sep 2008 12:24:26 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/09/freebsd%E5%AE%89%E8%A3%9D-apache2-worker-php526-mod_fastcgi-php5-fcgi/</guid><description>&lt;p>今天把 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> web 改成了 &lt;a href="http://www.apache.org/">apache&lt;/a> &lt;a href="http://httpd.apache.org/docs/2.0/mod/worker.html">worker&lt;/a> 其實之前就已經這麼做了，只是今天加上 mod_fastcgi 我是參考 &lt;a href="http://blog.gslin.org/archives/2008/08/17/1624/">DarkKiller 大神 apache22 (worker) + mod_fastcgi + php5-fcgi&lt;/a>，之前就把 Server 換成了 php5-fcgi，只不過我是搭配 &lt;a href="http://www.lighttpd.net/">Lighttpd&lt;/a>，效能方面還不錯，可以參考這篇：&lt;a href="http://blog.wu-boy.com/2008/07/10/291/">[FreeBSD] Lighttpd + PHP + mod_proxy + FastCGI&lt;/a>，那因為用 &lt;a href="http://www.lighttpd.net/">lighttpd&lt;/a> 的外掛模組真的太少，不像 apache 支援這麼多 module，重點是還缺少了 .htaccess 這個功能，所以大大降低大家使用 &lt;a href="http://www.lighttpd.net/">lighttpd&lt;/a>，近期內會把全部 server 換成 apache2 搭配 &lt;a href="http://www.fastcgi.com/">mod_fastcgi&lt;/a>，那底下寫一下作法了：&lt;/p></description></item><item><title>[中正大學]碩博士論文系統 Ethesys2.1 系統建置</title><link>https://blog.wu-boy.com/2008/08/%E4%B8%AD%E6%AD%A3%E5%A4%A7%E5%AD%B8%E7%A2%A9%E5%8D%9A%E5%A3%AB%E8%AB%96%E6%96%87%E7%B3%BB%E7%B5%B1-ethesys21-%E7%B3%BB%E7%B5%B1%E5%BB%BA%E7%BD%AE/</link><pubDate>Fri, 29 Aug 2008 12:28:57 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/08/%E4%B8%AD%E6%AD%A3%E5%A4%A7%E5%AD%B8%E7%A2%A9%E5%8D%9A%E5%A3%AB%E8%AB%96%E6%96%87%E7%B3%BB%E7%B5%B1-ethesys21-%E7%B3%BB%E7%B5%B1%E5%BB%BA%E7%BD%AE/</guid><description>&lt;p>之前幫學校轉移校內碩博士論文系統，學校是用 &lt;a href="http://ethesys.lib.nsysu.edu.tw/">Ethesys&lt;/a> 這一套之前是中山大學在負責維護，可是到2006年8月以後，中山大學團隊不再提供eThesys的諮詢服務，改由 &lt;a href="http://www.tbmc.com.tw/">漢珍數位圖書公司&lt;/a> 負責維護eThesys 2.1，仍將提供免費原始碼下載和安裝諮詢，詳細情形請看：&lt;a href="http://ethesys.lib.nsysu.edu.tw/code.shtml">eThesys 2.1 原始碼取得方式&lt;/a>，不過話說漢珍數位圖書公司，我有寄信過去，有沒得到回應，真的有點 XXXX，他也不提供1.x版升級到2.1版的 update 說明，然後在安裝過程，因為用到 MySQL，裡面還有一些問題要自己 debug，所以沒有一些基礎，可能會花比較多時間下去裝，我是用 FreeBSD 系統 7.0 Release 版本，寫了說明書給學校，不過有些比較細節的步驟好像沒有補上，因為忘記了 XD，提供下載連結：&lt;a href="http://blog.wu-boy.com/wp-content/uploads/2008/08/ethesys21-e7b3bbe7b5b1e5bbbae7bdaee8aaaae6988ee69bb8.pdf">Ethesys2.1 系統建置說明書&lt;/a>，大家可以看看。&lt;/p></description></item><item><title>FreeBSD 的 security patch 跟 如何 upgrade</title><link>https://blog.wu-boy.com/2008/08/freebsd-%E7%9A%84-security-patch-%E8%B7%9F-%E5%A6%82%E4%BD%95-upgrade/</link><pubDate>Tue, 26 Aug 2008 09:38:59 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/08/freebsd-%E7%9A%84-security-patch-%E8%B7%9F-%E5%A6%82%E4%BD%95-upgrade/</guid><description>&lt;p>剛剛看到 &lt;a href="http://chinsan2.twbbs.org">chinsan’s Blog&lt;/a> 裡面提到 &lt;a href="http://chinsan2.twbbs.org/wp/2008/08/26/106/">關於 FreeBSD 的 security patch 是怎麼處理的?&lt;/a>，這篇寫的非常不錯，所以順道把手上機器都全部處理了 upgrade 系統了，當然首先是要先習慣閱讀 &lt;a href="http://www.freebsd.org/cgi/cvsweb.cgi/src/UPDATING">/usr/src/UPDATING&lt;/a> 跟 &lt;a href="http://www.freebsd.org/cgi/cvsweb.cgi/ports/UPDATING">/usr/ports/UPDATING&lt;/a>，當然這兩個其中一個是系統的安全性更新，一個是 ports tree 安全性更新。 裡面 chinsan 大大提到的 SA(Security Advisories)&lt;/p>
&lt;blockquote>
&lt;p>&lt;a href="http://www.freebsd.org/security/advisories.html">http://www.freebsd.org/security/advisories.html&lt;/a> 相關反應管道請參考 &lt;a href="http://security.freebsd.org">http://security.freebsd.org&lt;/a> 這裡的 SA 其實也可以在 &lt;a href="http://www.freebsd.org/cgi/cvsweb.cgi/src/UPDATING">/usr/src/UPDATING&lt;/a> 這裡面看到，但是網頁版似乎比較好，我提供解法，做起來也不會很困難。&lt;/p>
&lt;/blockquote></description></item><item><title>[FreeBSD] Lighttpd + PHP + mod_proxy + FastCGI</title><link>https://blog.wu-boy.com/2008/07/freebsd-lighttpd-php-mod_proxy-fastcgi/</link><pubDate>Thu, 10 Jul 2008 01:51:23 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/07/freebsd-lighttpd-php-mod_proxy-fastcgi/</guid><description>&lt;p>最近一直在玩 &lt;a href="http://www.lighttpd.net/">Lighttpd&lt;/a> 這一套 web 的 daemon，我覺得這一套還蠻好用的，不像 Apache 掛載這麼多 module 結果吃還蠻大的資源，加上 Apache 預設跑 MPM prefork 所以如果大型網站大概就會掛掉，線上人數一堆，就會快撐不住了，所以用 &lt;a href="http://httpd.apache.org/docs/2.0/mod/worker.html">MPM worker&lt;/a> 或者是 &lt;a href="http://httpd.apache.org/docs/2.2/mod/event.html">MPM Event&lt;/a>，然後 &lt;a href="http://www.lighttpd.net/">Lighttpd&lt;/a> 本身還支援 &lt;a href="http://trac.lighttpd.net/trac/wiki/Docs%3AModRewrite">mod_rewrite&lt;/a> 的功能，可以參考我之前寫的 &lt;a href="http://blog.wu-boy.com/2008/07/03/287/">[FreeBSD]Lighttpd + php5 + 解決 wordpress Permalinks 問題&lt;/a>，不過最近遇到一個很奇怪問題，那就是 &lt;a href="http://www.lighttpd.net/">Lighttpd&lt;/a> 會自己掛點，但是我看 message 跟 error log 底下是：&lt;/p>
&lt;blockquote>
&lt;p>2008-07-10 09:08:31: (server.c.1258) NOTE: a request for /wp-includes/js/scriptaculous/effects.js?ver=1.8.0 timed out after writing 32991 bytes. We waited 360 seconds. If this a problem increase server.max-write-idle&lt;/p>
&lt;/blockquote></description></item><item><title>[FreeBSD]Apache 噴出 signal Segmentation fault (11)</title><link>https://blog.wu-boy.com/2008/07/freebsdapache-%E5%99%B4%E5%87%BA-signal-segmentation-fault-11/</link><pubDate>Tue, 01 Jul 2008 06:39:04 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/07/freebsdapache-%E5%99%B4%E5%87%BA-signal-segmentation-fault-11/</guid><description>&lt;p>最近在玩 FreeBSD 伺服器的加強效能，其實我自己試了很多套：&lt;a href="http://eaccelerator.net/">eAccelerator&lt;/a>，&lt;a href="http://pecl.php.net/package/APC">Pear APC&lt;/a>，跟 &lt;a href="http://www.zend.com/en/products/guard/optimizer/">Zend Optimizer&lt;/a>，這三套都是可以加速php的速度，當你的 apache 效能遇到瓶頸，就可以選用這三個來改善網頁瀏覽速度，不過應該沒有人三個都用吧，畢竟三個東西，感覺都是cache幫助，所以達成我們所想要的要求，有時候並不是全部安裝就是代表你的伺服器一定會超快，因為我的經驗是三個不能同時裝，只要裝了兩個都會出問題，這是我這幾天測試的結果，只要裝了Pear APC，就不能裝Zend Optimizer跟eAccelerator了，因為我的 httpd 的 log 會噴出底下訊息：&lt;/p>
&lt;blockquote>
&lt;p>signal Segmentation fault (11) 跟 pid 15879 (httpd), uid 80: exited on signal 11&lt;/p>
&lt;/blockquote></description></item><item><title>[FreeBSD &amp; Linux]網站分流：簡易架設 HAProxy 伺服器</title><link>https://blog.wu-boy.com/2008/06/freebsd-linux%E7%B6%B2%E7%AB%99%E5%88%86%E6%B5%81%EF%BC%9A%E7%B0%A1%E6%98%93%E6%9E%B6%E8%A8%AD-haproxy-%E4%BC%BA%E6%9C%8D%E5%99%A8/</link><pubDate>Mon, 23 Jun 2008 14:07:23 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/06/freebsd-linux%E7%B6%B2%E7%AB%99%E5%88%86%E6%B5%81%EF%BC%9A%E7%B0%A1%E6%98%93%E6%9E%B6%E8%A8%AD-haproxy-%E4%BC%BA%E6%9C%8D%E5%99%A8/</guid><description>&lt;p>最近在玩這套 Web 的 Load Balance 軟體，其實這是之前我寫的一篇：&lt;a href="http://blog.wu-boy.com/2008/06/01/274/">[筆記] FreeBSD 一張網卡多重 ip 實現 Round Robin DNS Load Balancing&lt;/a>，有網友留言給我說可以玩看看 &lt;a href="http://haproxy.1wt.eu/">HAProxy&lt;/a>，這樣的確改善了很多效能，而且也是正確達到 load balance 的效果，不然用 DNS Robin DNS Load Balancing 的方式的卻沒辦法做的很好，關於 HAProxy 在 google 了一下，好像國內很少人在寫這方面的教學，我自己來寫一下筆記好了，其實我還不是對設定很熟悉，只是大概知道他的原理罷了，底下我們來看看官網的一張圖 &lt;a href="https://www.flickr.com/photos/appleboy/2603471691/" title="haproxy-pmode by appleboy46, on Flickr">&lt;img src="https://i1.wp.com/farm4.staticflickr.com/3211/2603471691_6d083bbeed.jpg?resize=363%2C290&amp;#038;ssl=1" alt="haproxy-pmode" data-recalc-dims="1" />&lt;/a>&lt;/p></description></item><item><title>[FreeBSD]解決swap不夠的情況：Add Swap Space</title><link>https://blog.wu-boy.com/2008/06/freebsd%E8%A7%A3%E6%B1%BAswap%E4%B8%8D%E5%A4%A0%E7%9A%84%E6%83%85%E6%B3%81%EF%BC%9Aadd-swap-space/</link><pubDate>Sat, 21 Jun 2008 09:43:17 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/06/freebsd%E8%A7%A3%E6%B1%BAswap%E4%B8%8D%E5%A4%A0%E7%9A%84%E6%83%85%E6%B3%81%EF%BC%9Aadd-swap-space/</guid><description>&lt;p>最近在使用 FreeBSD 架站，apache + MySQL + PHP，但是最近常常會吐出來 swap 不夠的情形，然後系統就會吐出下面訊息&lt;/p>
&lt;blockquote>
&lt;p>Jun 19 20:59:57 backup kernel: swap_pager_getswapspace(7): failed Jun 19 20:59:57 backup kernel: swap_pager_getswapspace(16): failed Jun 19 20:59:57 backup kernel: swap_pager_getswapspace(2): failed Jun 19 20:59:57 backup kernel: swap_pager_getswapspace(5): failed 目前上網看到的解決方法，都是增加 swap 的容量，那底下是在 FreeBSD 下面得作法：&lt;/p>
&lt;/blockquote></description></item><item><title>[FreeBSD] 安裝 PHP APC 加速網頁速度</title><link>https://blog.wu-boy.com/2008/06/freebsd-%E5%AE%89%E8%A3%9D-php-apc-%E5%8A%A0%E9%80%9F%E7%B6%B2%E9%A0%81%E9%80%9F%E5%BA%A6/</link><pubDate>Thu, 05 Jun 2008 01:00:23 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/06/freebsd-%E5%AE%89%E8%A3%9D-php-apc-%E5%8A%A0%E9%80%9F%E7%B6%B2%E9%A0%81%E9%80%9F%E5%BA%A6/</guid><description>&lt;p>最近在維護自己的機器，發現網站每秒 request 只要10幾次就會感覺吃很多資源，然後莫名 CPU 飆高到100%，後來只好去找怎麼去 tuning Apache，MySQL，PHP，至於改善 apache 跟 MySQL 我先不講了，我之後會在寫，我先處理了加速 PHP 的部份，我是安裝了 &lt;a href="http://pecl.php.net/package/APC">APC&lt;/a>（Alternative PHP Cache），來改善執行 PHP 的速度，這個程式必須先安裝好 &lt;a href="http://pecl.php.net/">PECL&lt;/a>(PHP Extension Community Library)，再來安裝 APC 就沒問題了。 1. 首先安裝 APC&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# 先切換到該軟體下面
#
cd /usr/ports/www/pecl-APC/; make install clean
&lt;/pre></description></item><item><title>[筆記] FreeBSD 一張網卡多重 ip 實現 Round Robin DNS Load Balancing</title><link>https://blog.wu-boy.com/2008/06/%E7%AD%86%E8%A8%98-freebsd-%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E5%A4%9A%E9%87%8D-ip-%E5%AF%A6%E7%8F%BE-round-robin-dns-load-balancing/</link><pubDate>Sun, 01 Jun 2008 03:34:57 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/06/%E7%AD%86%E8%A8%98-freebsd-%E4%B8%80%E5%BC%B5%E7%B6%B2%E5%8D%A1%E5%A4%9A%E9%87%8D-ip-%E5%AF%A6%E7%8F%BE-round-robin-dns-load-balancing/</guid><description>&lt;p>來紀錄一下好了，其實這兩年前，我自己就試過了，當時在弄 web 系統 Load Balancing，因為找不到更好的方法，所以使用 Round Robin DNS Load Balancing 技術來達到這功能，可是當然這不是很準確的做到 load balance，只是能解決暫時性的問題，真正要做到 Load Balancing 可能要靠硬體的技術了。 我自己是在 FreeBSD 系統上面實做的，當然弄 Load Balancing 一定要在網卡上面綁定多重ip，Linux 作法跟 FreeBSD 不大相同&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# Linux 作法
#
ifconfig eth0:0 inet xxx.xxx.xxx.xx(1~9) netmask 255.255.255.0 broadcast xxx.xxx.xxx.255&lt;/pre>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# FreeBSD 作法
#
# /etc/rc.conf - add a new IP address to the NIC
# 在 rc.conf 加入底下 entry
ifconfig_rl0_alias0="192.168.0.57 netmask 0xffffffff" 
#
# 指令
#
ifconfig rl0 alias 192.168.0.57 netmask 0xffffffff
 &lt;/pre></description></item><item><title>[FreeBSD&amp;Linux] 如何用 mount 取代 ln 去實現連結檔(Symbolic Link)</title><link>https://blog.wu-boy.com/2008/05/freebsdlinux-%E5%A6%82%E4%BD%95%E7%94%A8-mount-%E5%8F%96%E4%BB%A3-ln-%E5%8E%BB%E5%AF%A6%E7%8F%BE%E9%80%A3%E7%B5%90%E6%AA%94symbolic-link/</link><pubDate>Wed, 28 May 2008 14:14:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/05/freebsdlinux-%E5%A6%82%E4%BD%95%E7%94%A8-mount-%E5%8F%96%E4%BB%A3-ln-%E5%8E%BB%E5%AF%A6%E7%8F%BE%E9%80%A3%E7%B5%90%E6%AA%94symbolic-link/</guid><description>我們在 Linux 或者是 FreeBSD 底下如何建立連結檔(Symbolic Link) ，也就是在 Windows 底下的捷徑啦，這個在鳥哥的網站都有寫的很清楚：連結檔的介紹： ln，最重要搞清楚 hard link 跟 soft link 就可以了，簡單來說，hard link 只可以針對檔案，不可以對目錄，但是 soft link 就是可以對目錄了，因為她就像 Windows 底下的捷徑，那在 Linux 底下，大家常常在玩 FTP，一定會碰到需要利用 Link 的方式，但是如果你利用 ln 的方式的話，連接ftp，會沒辦法回到上一層目錄，就是有 chroot 的問題，那底下是我發現可以解決的方法，其實這算是月經題了，只是我想記錄下來。 在 Linux 底下，就是利用 mount 的指令：
## 就是利用 mount --bind#mount --bind olddir newdir 在 FreeBSD 底下，利用 mount_nulls 指令 ## mount_nullfs olddir newdir#mount_nullfs olddir newdir 很簡單吧，大概是這樣，FTP 就不會出現不能回到上一層目錄的問題了</description></item><item><title>[Linux&amp;FreeBSD] 備份系統資料，MySQL 資料庫，PgSQL 資料庫的自動化 bash shell script 程式</title><link>https://blog.wu-boy.com/2008/05/linuxfreebsd-%E5%82%99%E4%BB%BD%E7%B3%BB%E7%B5%B1%E8%B3%87%E6%96%99%EF%BC%8Cmysql-%E8%B3%87%E6%96%99%E5%BA%AB%EF%BC%8Cpgsql-%E8%B3%87%E6%96%99%E5%BA%AB-shell-script/</link><pubDate>Fri, 23 May 2008 03:02:47 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/05/linuxfreebsd-%E5%82%99%E4%BB%BD%E7%B3%BB%E7%B5%B1%E8%B3%87%E6%96%99%EF%BC%8Cmysql-%E8%B3%87%E6%96%99%E5%BA%AB%EF%BC%8Cpgsql-%E8%B3%87%E6%96%99%E5%BA%AB-shell-script/</guid><description>&lt;p>來分享一個自己寫的 bash shell script，本身管理系上一些伺服器，但是要每天備份資料庫，系統檔案，以防系統整個 crash 掉，但是這個 script 可以對單一一台電腦做備份動作，當然裡面還可以加上 rsync 的動作，遠端備份到不同機器上面，我覺得這樣也可以，我在 Sayay BBS 上面的 ghost 大大版上看到 &lt;a href="http://www.zmanda.com/">[Backup] Amanda&lt;/a>，這套看起來不錯，可是一直沒有時間去玩，她網站的架構圖如下： &lt;a href="https://www.flickr.com/photos/appleboy/2513451293/" title="chart-amanda-network (by appleboy46)">&lt;img src="https://i2.wp.com/farm4.static.flickr.com/3155/2513451293_ab18ac6449.jpg?resize=500%2C311&amp;#038;ssl=1" title="chart-amanda-network (by appleboy46)" alt="chart-amanda-network (by appleboy46)" data-recalc-dims="1" />&lt;/a> &lt;a href="http://amanda.zmanda.com/">http://amanda.zmanda.com/&lt;/a> 上面這個我還沒玩過，最近沒啥時間可以玩，不過大家可以去試試看，我目前還是用我自己寫的 script，那下面就是大概會介紹怎麼使用我的 bash script，非常簡單，很適合個人 linux 主機的備份喔。&lt;/p></description></item><item><title>[WordPress] Upgrade 2.2.x to 2.5 無痛升級法 For Linux or FreeBSD</title><link>https://blog.wu-boy.com/2008/04/wordpress-upgrade-22x-to-25-%E7%84%A1%E7%97%9B%E5%8D%87%E7%B4%9A%E6%B3%95-for-linux-or-freebsd/</link><pubDate>Wed, 16 Apr 2008 07:55:22 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/04/wordpress-upgrade-22x-to-25-%E7%84%A1%E7%97%9B%E5%8D%87%E7%B4%9A%E6%B3%95-for-linux-or-freebsd/</guid><description>&lt;p>今天終於決定升級 &lt;a href="http://wordpress.org/">wordpress&lt;/a> 的版本了，之前剛安裝好，都沒有時間去升級，剛剛去升級一下，發現其實步驟不會很複雜，所以一下子都弄好了，除非你的外掛很多，不然升級一定還蠻快的，我最後花的時間幾乎都是在升級 &lt;a href="http://wordpress.org/extend/plugins/">wordpress plugin&lt;/a>，當然我是先去測試我的另一個生活部落格：&lt;a href="http://life.wu-boy.com">life.wu-boy.com&lt;/a>，目前看起來是沒有什麼問題，所以待會會來生及其他的 &lt;a href="http://blog.wu-boy.com/">wordpress blog&lt;/a>，底下來操作一遍吧 步驟一：備份資料庫，可以參考這篇 &lt;a href="http://blog.wu-boy.com/2007/04/08/92/">[Mysql] 資料庫備份[big5]utf8轉換成utf-8&lt;/a>&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# 備份方式
#
mysqldump -u root -p database_name > db_backup_name.sql
&lt;/pre></description></item><item><title>[SSHFS] 好用的 SSH Filesystem fusefs-sshfs in FreeBSD or Linux</title><link>https://blog.wu-boy.com/2008/04/linux-freebsd-%E5%A5%BD%E7%94%A8%E7%9A%84-ssh-filesystem-fusefs-sshfs-in-freebsd-or-linux/</link><pubDate>Tue, 15 Apr 2008 21:02:59 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/04/linux-freebsd-%E5%A5%BD%E7%94%A8%E7%9A%84-ssh-filesystem-fusefs-sshfs-in-freebsd-or-linux/</guid><description>&lt;p>今天在 &lt;a href="http://www.ptt.cc">ptt&lt;/a> &lt;a href="http://www.linux.org/">Linux&lt;/a> 連線版文章看到有人問說，如何傳一檔案到其他的 linux 機器，有人推了一個軟體，我覺得相當不錯，就拿來玩看看了，這軟體就是 &lt;a href="http://fuse.sourceforge.net/sshfs.html">sshfs&lt;/a> 這是一套可以直接掛載遠端機器目錄的軟體，走 ssh 協定，剛剛安裝了一下，發覺還蠻好用的，我在 &lt;a href="http://www.linux.org/">Linux&lt;/a> 跟 &lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a> 上面都安裝好了，來紀錄一下步驟。 首先是安裝步驟 For FreeBSD，直接利用 ports 安裝即可：&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#
# ports 安裝
#
# Port: fusefs-sshfs-1.8
# Path: /usr/ports/sysutils/fusefs-sshfs
# Info: Mount remote directories over ssh
# Maint: amistry@am-productions.biz
# pkg-config-0.22_1
# WWW: http://sourceforge.net/projects/fuse/

cd /usr/ports/sysutils/fusefs-sshfs; make install clean
&lt;/pre></description></item><item><title>[FreeBSD] 利用 perl and shell script 大量建制帳號及 Quota</title><link>https://blog.wu-boy.com/2008/03/freebsd-%E5%88%A9%E7%94%A8-perl-and-shell-script-%E5%A4%A7%E9%87%8F%E5%BB%BA%E5%88%B6%E5%B8%B3%E8%99%9F%E5%8F%8A-quota/</link><pubDate>Fri, 28 Mar 2008 07:39:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/03/freebsd-%E5%88%A9%E7%94%A8-perl-and-shell-script-%E5%A4%A7%E9%87%8F%E5%BB%BA%E5%88%B6%E5%B8%B3%E8%99%9F%E5%8F%8A-quota/</guid><description>&lt;p>最近幫繫上處理 &lt;a href="http://www.freebsd.org/">FreeBSD&lt;/a> 機器，要碰到大量建制帳號跟 quota，所以上網找了一下教學，網路上就很多教學了，只不過要懂一些 &lt;a href="http://cpan.perl.org/">perl&lt;/a> 跟 &lt;a href="http://linux.vbird.org/linux_basic/0340bashshell-scripts.php">shell script&lt;/a> 的基本觀念，在弄起來會比較方便，時間也會縮短許多。 首先開帳號的話，就是利用 &lt;a href="http://www.freebsd.org/cgi/man.cgi?query=pw&amp;amp;apropos=0&amp;amp;sektion=0&amp;amp;manpath=FreeBSD+7.0-RELEASE&amp;amp;format=html">pw&lt;/a> 這個指令了，這個裡指令非常強大，可以新增使用者，或者是修改使用者的特性，如登入的 shell，comment….等等 先產生一個 passwd.txt 裡面內容格式就是 “帳號,密碼”，這樣的格式&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">biomat,"xxxx"
biomed,"xxxx"
surface,"xxxx"
tissue,"xxxx"&lt;/pre> 然後在寫一個 shell 檔去把它讀進來，shell 檔如下：</description></item><item><title>[FreeBSD] SNMP 統計流量分析 mrtg</title><link>https://blog.wu-boy.com/2008/03/freebsd-snmp-%E7%B5%B1%E8%A8%88%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-mrtg/</link><pubDate>Thu, 20 Mar 2008 14:05:08 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/03/freebsd-snmp-%E7%B5%B1%E8%A8%88%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-mrtg/</guid><description>&lt;p>最近處理系上伺服器，安裝的是 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> 7.0 Release 版本，想說來裝個 &lt;a href="http://www.mrtg.com/">mrtg&lt;/a> 來統計流量，因為目前 SNMP 已經納入 FreeBSD base 系統裡面了，所以在安裝 mrtg 就相當方便了，我之前有寫過三篇關於統計流量的教學 &lt;a href="http://blog.wu-boy.com/2006/12/05/51/">MRTG Server performace&lt;/a> &lt;a href="http://blog.wu-boy.com/2006/11/28/47/">[Linux] Mrtg 實做 war3 線上人數統計&lt;/a> &lt;a href="http://blog.wu-boy.com/2006/11/08/32/">[FreeBSD] 安裝基本mrtg主機流量統計圖&lt;/a> &lt;a href="http://blog.wu-boy.com/2006/09/26/19/">[FC4] snmpd + mrtg 安裝教學「注意事項」&lt;/a>&lt;/p></description></item><item><title>[筆記] ssh Tunnel 運用在 Linux and Windows FireFox</title><link>https://blog.wu-boy.com/2008/03/%E7%AD%86%E8%A8%98-ssh-tunnel-%E9%81%8B%E7%94%A8%E5%9C%A8-linux-and-windows/</link><pubDate>Wed, 19 Mar 2008 05:11:34 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/03/%E7%AD%86%E8%A8%98-ssh-tunnel-%E9%81%8B%E7%94%A8%E5%9C%A8-linux-and-windows/</guid><description>&lt;p>今天在看 &lt;a href="http://blog.gslin.org/">gslin&lt;/a> 部落格的一篇文章：&lt;a href="http://blog.gslin.org/archives/2005/08/17/43/">穿越公司的 FireWall&lt;/a>，看完之後我覺得相當不錯，可以解決我想要的 forwarding 的問題，以及繞過防火牆的機制，剛剛自己測試一下，發現還蠻好用的，其實利用這個方式還可以遠端管理很多伺服器，如：&lt;a href="http://www.mysql.com/">Mysql&lt;/a> 伺服器…. SSH Tunnel必須建立於一個SSH連線上，它可以讓我們穿透防火牆，建立一個安全加密的傳輸。 例如：我們現在要透過 A主機去對 smtp 或者是 http 做連接的動作，那我們就必須先建立一個到A主機的SSH連線，然後在透過它建立 Tunnel 我們會使用到的putty和plink都可以在 &lt;a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">這裡下載&lt;/a>， 不過我更喜歡&lt;a href="http://www.csie.ntu.edu.tw/~piaip/pietty/">pietty&lt;/a>，由&lt;a href="http://www.csie.ntu.edu.tw/~piaip/">piaip&lt;/a>長輩製作。&lt;/p></description></item><item><title>[筆記][FreeBSD] 升級系統 upgrade FreeBSD 6.2 release to 7.0 release</title><link>https://blog.wu-boy.com/2008/03/%E7%AD%86%E8%A8%98freebsd-%E5%8D%87%E7%B4%9A%E7%B3%BB%E7%B5%B1-upgrade-freebsd-62-release-to-70-release/</link><pubDate>Fri, 14 Mar 2008 14:14:46 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/03/%E7%AD%86%E8%A8%98freebsd-%E5%8D%87%E7%B4%9A%E7%B3%BB%E7%B5%B1-upgrade-freebsd-62-release-to-70-release/</guid><description>&lt;p>今天在 Sayya BBS 看到 JoeHorn 的個人版，裡面寫到 “[筆記] remote upgrade FreeBSD 6.2 -&amp;gt; 7.0” 這一篇文章，裡面寫的作法，我自己實做到我自己的機器，就成功了，作法如下 首先修改 /usr/share/examples/cvsup/stable-supfile，找到&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title=""># Defaults that apply to all the collections
#
# IMPORTANT: Change the next line to use one of the CVSup mirror sites
# listed at http://www.freebsd.org/doc/handbook/mirrors.html.
*default host=CHANGE_THIS.FreeBSD.org
*default base=/var/db
*default prefix=/usr
# The following line is for 7-stable. If you want 6-stable, 5-stable,
# 4-stable, 3-stable, or 2.2-stable, change to "RELENG_6", "RELENG_5",
# "RELENG_4", "RELENG_3", or "RELENG_2_2" respectively.
*default release=cvs tag=RELENG_6
*default delete use-rel-suffix
&lt;/pre></description></item><item><title>[FreeBSD] ipfw + Nat 無線網卡當內部DHCP Server</title><link>https://blog.wu-boy.com/2007/12/freebsd-ipfw-nat-%E7%84%A1%E7%B7%9A%E7%B6%B2%E5%8D%A1%E7%95%B6%E5%85%A7%E9%83%A8dhcp-server/</link><pubDate>Sat, 01 Dec 2007 07:46:02 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2007/12/freebsd-ipfw-nat-%E7%84%A1%E7%B7%9A%E7%B6%B2%E5%8D%A1%E7%95%B6%E5%85%A7%E9%83%A8dhcp-server/</guid><description>之前在寫 [FreeBSD] 無線網卡架設AP Server DWL-G520 Ralink RT2561 這篇的時候，是利用 pf 當作防火牆，可是我偏好使用 ipfw 來作防火牆的工作，所以今天研究一下 nat 的作法，ipfw Firewall 設定方法。 請先參考設定 IPFW 編譯核心：[FreeBSD] 系統核心支援ipfw 更新kernel
系統：FreeBSD 6.2-RELEASE or STABLE 200709 網卡：一張有線網卡，另一張無線網卡 目前的架構，一張有線網卡對外，然後無線網卡對內，架設dhcp伺服器，提供ap的功能，會加上 802.1X 認證，這我晚一點會寫教學 目前要先修改 /etc/rc.conf # 第一片網卡固有的設定：ifconfig_rl0="inet 140.123.107.XX netmask 255.255.255.0"# 只用一片網卡時，將第一片網卡虛擬出另一個IP(如果使用兩片網卡，就不要設這一行，或者註解起來也可)。ifconfig_rl0_alias0="inet 192.168.1.254 netmask 255.255.255.0"# 如果你有第二片網卡時，將此網卡設定如下(當然啦，這一行的註解就應該取消，第二塊網卡才會有作用)。# ifconfig_ral0="inet 192.168.1.254 netmask 255.255.255.0"# 宣告本主機可做為gateway(通訊閘)gateway_enable="YES"# 宣告防火牆(IP-FIREWALL)firewall_enable="YES"firewall_type="simple"firewall_quiet="YES"tcp_extensions="YES"# 定義 NATD 的網路卡介面，應定義在設定 public IP 的網卡代號上。natd_interface="vr0"natd_enable="YES"然後 /etc/netstart 重新啟動網卡 再來是設定防火牆 ipfw 檔案在 /etc/rc.</description></item><item><title>[FreeBSD] 無線網卡架設AP Server DWL-G520 Ralink RT2561</title><link>https://blog.wu-boy.com/2007/10/freebsd-%E7%84%A1%E7%B7%9A%E7%B6%B2%E5%8D%A1%E6%9E%B6%E8%A8%ADap-server-dwl-g520-ralink-rt2561/</link><pubDate>Mon, 22 Oct 2007 12:22:57 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2007/10/freebsd-%E7%84%A1%E7%B7%9A%E7%B6%B2%E5%8D%A1%E6%9E%B6%E8%A8%ADap-server-dwl-g520-ralink-rt2561/</guid><description>&lt;p>今天終於搞定了這張網卡，同樣的 DWL-G520 有兩種版本，一個是 Atheros 另一個就是大廠 ralink 了，不過話說我自己已經把 Atheros 晶片的無線網卡實做過一個ap server了，其實也不難啦，不過之前在搞 ralink 的晶片的時候，是可以驅動，可是就是弄不起來ap，後來怎麼解覺得呢，那就是換freebsd的版本，我之前是在 FreeBSD 6.2 release 底下弄的，我換到 FreeBSD 6.2-STABLE-200709版本，就馬上抓到，然後就進行ap的架設，後來就成功了，相當爽，畢竟可以繼續惡搞其他東西了。 接下來教大家如何安裝了，系統配備如下&lt;/p>
&lt;ul>
&lt;li>硬體：i386 PC Intel P4 1.6G&lt;/li>
&lt;li>記憶體：256M RAM&lt;/li>
&lt;li>網卡：2 片網卡 ( 一般 100M 網卡 + 一片 D-Link DWL-G520 54G無線網卡 )&lt;/li>
&lt;li>作業系統：FreeBSD 6.2 Stable&lt;/li>
&lt;/ul></description></item><item><title>[FreeBSD] 安裝 memcache for php 多重伺服器共享 Session</title><link>https://blog.wu-boy.com/2007/09/freebsd-%E5%AE%89%E8%A3%9D-memcache-for-php/</link><pubDate>Sat, 22 Sep 2007 13:16:04 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2007/09/freebsd-%E5%AE%89%E8%A3%9D-memcache-for-php/</guid><description>&lt;p>今天來玩看看 memcache 看看，話說 memcache 是個非常好用的東西，可以參考官網作法 &lt;a href="http://tw.php.net/memcache">連結&lt;/a>，其實我在前一個工作，就有老闆問我說，像公司作這麼多網站，有沒有辦法統整成一個，然後底下各種服務，只需要登入過一次就好，而不必重複登入，畢竟會讓使用者覺得很煩，所以就有了 memcache 這東西出來，底下就來介紹 FreeBSD 的安裝方式&lt;/p>
&lt;ul>
&lt;li>安裝方法： 安裝 ports 的套件 memcache 跟 pecl-memcache&lt;/li>
&lt;/ul>
&lt;pre class="brush: bash; title: ; notranslate" title="">cd /usr/ports/databases/memcached; make install clean
cd /usr/ports/databases/pecl-memcache; make install clean
&lt;/pre> 然後他會把 extension=memcache.so 寫到 /usr/local/etc/php/extensions.ini 然後你只需要重新啟動 apache 即可，還有把 memcached 服務打開 所以請下底下指令 
&lt;pre class="brush: bash; title: ; notranslate" title="">echo "memcached_enable=\"YES\"" >> /etc/rc.conf
/usr/local/etc/rc.d/memcached start
/usr/local/etc/rc.d/apache22 restart
&lt;/pre></description></item><item><title>[apache] mod cband 頻寬限制</title><link>https://blog.wu-boy.com/2007/01/apache-mod-cband-%E9%A0%BB%E5%AF%AC%E9%99%90%E5%88%B6/</link><pubDate>Mon, 22 Jan 2007 16:09:27 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2007/01/apache-mod-cband-%E9%A0%BB%E5%AF%AC%E9%99%90%E5%88%B6/</guid><description>這個MODULE相當好用,這個可以用來解決架設APACHE頻寬問題 安裝方式:
For Linux: 先去下載軟體: mod_cband 目前釋出到 0.9.7.5版 下載到 /tmp/ 資料夾裡面 解壓縮: tar -zxvf mod-cband-0.9.7.5.tgz 如果你有安裝 apsx2的話 請用下面安裝 $ cd mod-cband-0.9.7.5 $ ./configure $ make $ make install 如果沒有安裝 apsx2的話 請用下面安裝 重新編譯 configure –add-module=../mod-cband/mod_cband.c –enable-shared=cband –enable-module=so 設定方法: * 修改httpd.conf 加上2行CBandScoreFlushPeriod 1 CBandRandomPulse On mkdir /var/www/scoreboard chown apache:apache /var/www/scoreboard * 設定 VirtualHost &amp;lt;VirtualHost 1.2.3.4&amp;gt; ServerName www.example.com ServerAdmin webmaster@example.com DocumentRoot /var/www CBandSpeed 1024 10 30 CBandRemoteSpeed 20kb/s 3 3 說明:# 100MB virtualhost bandwidth limit CBandLimit 100M # Maximal 1024kbps speed for this virtualhost # Maximal 10 requests per second for this virtualhost # Maximal 30 open connections for this virtualhost限制該網域總頻寬跟連線數目 CBandSpeed 1024 10 30# Maximal 10kB/s speed, 3 requests/s and 2 open connections for any remote client CBandRemoteSpeed 10kb/s 3 2 4個禮拜清除設定一次# a period of time after which the scoreboard will be cleared (4 weeks) CBandPeriod 4W # define ‘class_1′ CBandClassDst 217.</description></item><item><title>[Linux] cwRsync [rsync for windows] SSH 加密異地備份</title><link>https://blog.wu-boy.com/2006/12/linux-cwrsync-rsync-for-windows-ssh-%E5%8A%A0%E5%AF%86%E7%95%B0%E5%9C%B0%E5%82%99%E4%BB%BD/</link><pubDate>Fri, 15 Dec 2006 03:35:47 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/12/linux-cwrsync-rsync-for-windows-ssh-%E5%8A%A0%E5%AF%86%E7%95%B0%E5%9C%B0%E5%82%99%E4%BB%BD/</guid><description>&lt;p>這個我找了好久～因為館內用的系統2003server跟前端系統linux，2個是不同的作業系統 但是我每天都有備份linux資料，我想同步到win的server上面，但是這樣就要在win的機器上面架設rsync伺服器跟rsync client套件 所以我找了很久 終於找到了 cwRsync 有client端 跟server端 跟ssh 加密 open ssh server &lt;a href="http://www.itefix.no/phpws/index.php?module=pagemaster&amp;amp;PAGE_user_op=view_page&amp;amp;PAGE_id=6&amp;amp;MMN_position=23:23">cwRsync – Rsync for Windows&lt;/a> 請點選中間的 Download cwRsync Server &lt;a href="https://www.flickr.com/photos/appleboy/322694644/" title="Photo Sharing">&lt;img src="https://i1.wp.com/static.flickr.com/133/322694644_095d6d4f70_o.jpg?resize=488%2C107" alt="1" data-recalc-dims="1" />&lt;/a> 下載之後解壓縮，裡面會有一個執行檔，在安裝即可 安裝好之後，去程式集打開 cwrsync server -&amp;gt; 05. Start a Unix BASH Shell 會出現底下畫面 &lt;a href="https://www.flickr.com/photos/appleboy/322699548/" title="Photo Sharing">&lt;img src="https://i2.wp.com/static.flickr.com/125/322699548_9b0e6f0dc2.jpg?resize=500%2C322" alt="2" data-recalc-dims="1" />&lt;/a> 執行之後，會出現一個 cmd 視窗但字元卻是 $ 的。&lt;/p></description></item><item><title>[Linux] Mrtg 實做 war3 線上人數統計</title><link>https://blog.wu-boy.com/2006/11/linux-mrtg-%E5%AF%A6%E5%81%9A-war3-%E7%B7%9A%E4%B8%8A%E4%BA%BA%E6%95%B8%E7%B5%B1%E8%A8%88/</link><pubDate>Tue, 28 Nov 2006 09:13:34 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/11/linux-mrtg-%E5%AF%A6%E5%81%9A-war3-%E7%B7%9A%E4%B8%8A%E4%BA%BA%E6%95%B8%E7%B5%B1%E8%A8%88/</guid><description>應大家觀眾要求，來寫一下教學 當然我不想怎麼安裝mrtg了，搜尋一下本站就會找到教學 相信mrtg最主要是他的設定檔 cfg檔，先來看看 這個cfg檔怎麼寫
# Created by# Appleboy 2006/09/25WorkDir: /usr/local/www/data-distLanguage: big5Target[bnet_person]: `/usr/local/etc/mrtg/mrtg.person.sh`MaxBytes[bnet_person]: 10000Options[bnet_person]: gauge, nopercent, growrightYLegend[bnet_person]: Online UsersShortLegend[bnet_person]: 人LegendI[bnet_person]: &amp;nbsp; 線上人數 :LegendO[bnet_person]: &amp;nbsp; 遊戲數目 :Title[bnet_person]: 小熊戰網 上線人數統計表先來解釋 WorkDir: /usr/local/www/data-dist 這個是來存放mrtg統計圖的資料夾，請對應到相關可以放html的資料夾 Target[bnet_person]: `/usr/local/etc/mrtg/mrtg.person.sh` 以下是 mrtg.person.sh 這個檔案 #!/bin/sh# 這個程式主要在計算有多少人以 bnetd 的方式連線進我們的主機！# 1. 計算線上的數目cat /~pvpgn/server.dat | grep "Users" | cut -d "=" -f2# 2. 計算遊戲數目cat /~pvpgn/server.</description></item><item><title>[Linux,FreeBSD] scp 上傳跟下載</title><link>https://blog.wu-boy.com/2006/11/linuxfreebsd-scp-%E4%B8%8A%E5%82%B3%E8%B7%9F%E4%B8%8B%E8%BC%89/</link><pubDate>Sat, 25 Nov 2006 20:43:17 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/11/linuxfreebsd-scp-%E4%B8%8A%E5%82%B3%E8%B7%9F%E4%B8%8B%E8%BC%89/</guid><description>上傳：
scp -r -P 2500 /etc/crontab appleboy@hostname.com:/home/appleboy/ 下載：
scp -r -P 2500 appleboy@hostname.com:/home/appleboy/crazy.sql . -r 遞迴 下載 -P ssh port 後面的點 . 你可以換成你想下載到你的哪個目錄</description></item><item><title>[FreeBSD] 安裝基本mrtg主機流量統計圖</title><link>https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D%E5%9F%BA%E6%9C%ACmrtg%E4%B8%BB%E6%A9%9F%E6%B5%81%E9%87%8F%E7%B5%B1%E8%A8%88%E5%9C%96/</link><pubDate>Wed, 08 Nov 2006 10:17:40 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D%E5%9F%BA%E6%9C%ACmrtg%E4%B8%BB%E6%A9%9F%E6%B5%81%E9%87%8F%E7%B5%B1%E8%A8%88%E5%9C%96/</guid><description>主機資訊 FreeBSD 6.1-RELEASE 安裝步驟 cd /usr/ports/net-mgmt/net-snmp; make install cleancd /usr/ports/net-mgmt/mrtg; make install clean 這2個安裝好，其實基本上就已經可以使用了 在 /etc/rc.conf 加上 snmpd_enable="YES"snmpd_flags="-a -p /var/run/snmpd.pid"snmptrapd_enable="YES"snmptrapd_flags="-a -p /var/run/snmptrapd.pid" 修改 snmpd.conf 檔 目錄在 /usr/local/share/snmp/snmpd.conf com2sec local localhost public com2sec lan 192.168.100.0/24 public group RWGroup v1 local group ROGroup v1 lan view all included .1 80 access RWGroup “” any noauth prefix all all all access ROGroup “” any noauth prefix all none none 紅色部份，盡量不要用 public ，因為這樣別人可以猜到你的mrtg設定 修改好存檔</description></item><item><title>[FreeBSD] 安裝 sshit 設定教學</title><link>https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D-sshit-%E8%A8%AD%E5%AE%9A%E6%95%99%E5%AD%B8/</link><pubDate>Fri, 03 Nov 2006 23:27:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D-sshit-%E8%A8%AD%E5%AE%9A%E6%95%99%E5%AD%B8/</guid><description>系統：FreeBSD 6.0-RELEASE 安裝方式： cd /usr/ports/security/sshit/ make install clean 設定檔 /usr/local/etc/sshit.conf # Sample configuration file of sshit.pl # We use pf as firewall on default 看你喜歡用什麼防火牆，我熟悉ipfw FIREWALL_TYPE = ipfw # Number of failed login attempts within time before we block MAX_COUNT = 3 # Time in seconds in which all failed login attempts must occur WITHIN_TIME = 60 # Time in seconds to block ip in firewall 失敗後禁止登入幾秒鐘 RESET_IP = 300 IPFW_CMD = /sbin/ipfw # Make sure you don&amp;rsquo;t have any important rules here already IPFW_RULE_START = 2100 IPFW_RULE_END = 3100 IPFW2_CMD = /sbin/ipfw IPFW2_TABLE_NO = 0 PFCTL_CMD = /sbin/pfctl PF_TABLE = badhosts vi /etc/syslog.</description></item><item><title>[FreeBSD] 系統核心支援ipfw 更新kernel</title><link>https://blog.wu-boy.com/2006/10/freebsd-%E7%B3%BB%E7%B5%B1%E6%A0%B8%E5%BF%83%E6%94%AF%E6%8F%B4ipfw-%E6%9B%B4%E6%96%B0kernel/</link><pubDate>Sat, 28 Oct 2006 17:52:18 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/10/freebsd-%E7%B3%BB%E7%B5%B1%E6%A0%B8%E5%BF%83%E6%94%AF%E6%8F%B4ipfw-%E6%9B%B4%E6%96%B0kernel/</guid><description>系統預設是不能使用 ipfw 指令，因為系統核心不支援，要使系統支援 ipfw，則需要修改核心
cd /usr/src/sys/i386/conf
vi GENERIC
#在最後面加入
options IPFIREWALL
options IPFIREWALL_DEFAULT_TO_ACCEPT
options IPFIREWALL_VERBOSE
options IPFIREWALL_VERBOSE_LIMIT=10
options IPDIVERT
#然後存檔
config GENERIC
cd ../compile/GENERIC/
make cleandepend; make depend;
make depend all install
編譯好沒有錯誤之後，就可以重新開機 ipfw list 65535 allow ip from any to any 看到上面訊息，就是成功 我在自己的論壇寫過一遍
http://www.forum.wu-boy.com/t=10210
http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/firewalls-ipfw.html
http://freebsd.lab.mlc.edu.tw/natd/</description></item><item><title>[FreeBSD] 安裝Awstats 6.6</title><link>https://blog.wu-boy.com/2006/10/freebsd-%E5%AE%89%E8%A3%9Dawstats-66/</link><pubDate>Thu, 19 Oct 2006 11:02:43 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/10/freebsd-%E5%AE%89%E8%A3%9Dawstats-66/</guid><description>安裝路徑
cd /usr/ports/www/awstats-devel/ 安裝好之後 請在 httpd.conf 最後面加入 # Directives to allow use of AWStats as a CGI # Alias /awstatsclasses “/usr/local/www/awstats/classes/” Alias /awstatscss “/usr/local/www/awstats/css/” Alias /awstatsicons “/usr/local/www/awstats/icons/” ScriptAlias /awstats/ “/usr/local/www/awstats/cgi-bin/” 執行 /usr/local/www/awstats/tools/awstats_configure.pl 會出現錯誤訊息～
Error: Failed to open ‘/usr/local/www/awstats/wwwroot/cgi-bin/awstats.model.conf’ for read. Error: AWStats database directory defined in config file by ‘DirData’ parameter (/var/lib/awstats) does not exist or is not writable. Setup (‘/etc/awstats/awstats.192.168.100.244.conf’ file, web server or permissions) may be wrong. Check config file, permissions and AWStats documentation (in ‘docs’ directory).</description></item><item><title>[FreeBSD] Ports 更新 index 或 更新kernel</title><link>https://blog.wu-boy.com/2006/09/freebsd-ports-%E6%9B%B4%E6%96%B0-index/</link><pubDate>Mon, 25 Sep 2006 21:45:33 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/freebsd-ports-%E6%9B%B4%E6%96%B0-index/</guid><description>1. cd /usr/ports &amp;#038;&amp; make fetchindex2. portsdb -uU3. rm -f /var/db/pkg/pkgdb.db4. pkgdb -Fu5. cd /usr/src ; make buildworld; make kernel; make installworld; reboot &amp;#8212; 這招很好用 上面步驟如果只需要更新ports tree 只需要 cd /usr/ports &amp;&amp; make fetchindex 就可以了</description></item><item><title>[FC4] snmpd + mrtg 安裝教學「注意事項」</title><link>https://blog.wu-boy.com/2006/09/fc4-snmpd-mrtg-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8%E3%80%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85%E3%80%8D/</link><pubDate>Mon, 25 Sep 2006 21:30:50 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/fc4-snmpd-mrtg-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8%E3%80%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85%E3%80%8D/</guid><description>其實安裝方面並不難 FreeBSD 就用ports安裝 fc系列 就用 yum 或者是 apt FreeBSD: /usr/ports/net-mgmt/net-snmp /usr/ports/net-mgmt/mrtg http://phorum.study-area.org/viewtopic.php?t=21142&amp;amp;highlight=public+cfgmaker 我找到的資料 ～ 照上面修改大致上ok</description></item><item><title>[FC4] 限制connection 連線數目「架設war3伺服器」</title><link>https://blog.wu-boy.com/2006/09/fc4-%E9%99%90%E5%88%B6connection-%E9%80%A3%E7%B7%9A%E6%95%B8%E7%9B%AE%E3%80%8C%E6%9E%B6%E8%A8%ADwar3%E4%BC%BA%E6%9C%8D%E5%99%A8%E3%80%8D/</link><pubDate>Sun, 24 Sep 2006 23:58:32 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/fc4-%E9%99%90%E5%88%B6connection-%E9%80%A3%E7%B7%9A%E6%95%B8%E7%9B%AE%E3%80%8C%E6%9E%B6%E8%A8%ADwar3%E4%BC%BA%E6%9C%8D%E5%99%A8%E3%80%8D/</guid><description>fc4作業系統 預設 有連線數目的限制 還有使用者連線的限制 不過解決方法很容易 http://www.ithome.com.tw/plog/index.php?op=ViewArticle&amp;amp;articleId=761&amp;amp;blogId=131 我查到的解決方式 我改完之後如下
core file size (blocks, -c) 0 data seg size (kbytes, -d) unlimited file size (blocks, -f) unlimited pending signals (-i) 16255 max locked memory (kbytes, -l) 32 max memory size (kbytes, -m) unlimited open files (-n) 819200 pipe size (512 bytes, -p) 8 POSIX message queues (bytes, -q) 819200 stack size (kbytes, -s) 10240 cpu time (seconds, -t) unlimited max user processes (-u) 102400 virtual memory (kbytes, -v) unlimited file locks (-x) unlimited ulimit：顯示（或設定）用戶可以使用的資源限制 ulimit -a 顯示用戶可以使用的資源限制 ulimit unlimited 不限制用戶可以使用的資源，但本設定對可打開的最大文件數（max open files） 和可同時執行的最大進程數（max user processes）無效 ulimit -n &amp;lt;可以同時打開的檔案數&amp;gt; 設定用戶可以同時打開的最大檔案數（max open files） 例如：ulimit -n 8192 如果本參數設定過小，對於併發訪問量大的網站，可能會出現too many open files的錯誤 ulimit -u &amp;lt;可以執行的最大併發進程數&amp;gt; 設定用戶可以同時執行的最大進程數（max user processes） 例如：ulimit -u 1024</description></item><item><title>FreeBSD + Lighttpd + php + mysql 安裝過程</title><link>https://blog.wu-boy.com/2006/09/freebsd-lighttpd-php-mysql-%E5%AE%89%E8%A3%9D%E9%81%8E%E7%A8%8B/</link><pubDate>Wed, 20 Sep 2006 01:57:13 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/freebsd-lighttpd-php-mysql-%E5%AE%89%E8%A3%9D%E9%81%8E%E7%A8%8B/</guid><description>系統環境 ：FreeBSD 6.0-RELEASE 安裝過程如下：
mysql-server-5.0.24a php5-5.1.6 lighttpd-1.4.11_1 先安裝 lighttpd
cd /usr/ports/www/lighttpd/ make config [X] OPENSSL Enable SSL support [ ] OPENLDAP Enable LDAP support [X] MYSQL Enable MYSQL support [X] IPV6 Enable IPV6 support [X] CML Enable Cache Meta Language support make install clean 安裝 mysql cd /usr/ports/databases/mysql50-server make install clean WITH_CHARSET=utf8 WITH_LINUXTHREADS=yes 安裝 php cd /usr/ports/lang/php5 cd /usr/ports/lang/php5-extensions/ make config 選擇你想要的 extensions 灌好之後 就可以用了 然後打開 家目錄設定 userdir.path = “public_html” userdir.</description></item><item><title>Linux 大量建制帳號</title><link>https://blog.wu-boy.com/2006/09/linux-%E5%A4%A7%E9%87%8F%E5%BB%BA%E5%88%B6%E5%B8%B3%E8%99%9F/</link><pubDate>Mon, 18 Sep 2006 10:20:48 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/linux-%E5%A4%A7%E9%87%8F%E5%BB%BA%E5%88%B6%E5%B8%B3%E8%99%9F/</guid><description>&amp;lt;td bgcolor=&amp;quot;#fffff1&amp;quot;&amp;gt; &amp;lt;table width=&amp;quot;479&amp;quot; style=&amp;quot;table-layout: fixed; height: 86px&amp;quot;&amp;gt; &amp;lt;tr&amp;gt; &amp;lt;td&amp;gt; &amp;lt;span class=&amp;quot;postbody&amp;quot;&amp;gt;&amp;lt;a title=&amp;quot;http://phorum.study-area.org/viewtopic.php?t=27276&amp;quot; href=&amp;quot;http://phorum.study-area.org/viewtopic.php?t=27276&amp;quot;&amp;gt;http://phorum.study-area.org/viewtopic.php?t=27276&amp;lt;/a&amp;gt; &amp;lt;a title=&amp;quot;http://linux.vbird.org/linux_basic/0410accountmanager.php#manual_amount&amp;quot; href=&amp;quot;http://linux.vbird.org/linux_basic/0410accountmanager.php#manual_amount&amp;quot;&amp;gt; http://linux.vbird.org/linux_basic/0410accountmanager.php#manual_amount&amp;lt;/a&amp;gt;&amp;lt;/span&amp;gt; &amp;lt;/td&amp;gt; &amp;lt;/tr&amp;gt; &amp;lt;/table&amp;gt; &amp;lt;/td&amp;gt; for line in cat account.txt do account=echo $line | cut -d : -f 1 passwd=echo $line | cut -d : -f 2 useradd -m $account echo $account:$passwd | chpasswd done account.txt 格式: account:password</description></item></channel></rss>