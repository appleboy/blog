<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mrtg on 小惡魔 - AppleBOY</title><link>https://blog.wu-boy.com/tags/mrtg/</link><description>Recent content in Mrtg on 小惡魔 - AppleBOY</description><generator>Hugo</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Thu, 20 Mar 2008 14:05:08 +0000</lastBuildDate><atom:link href="https://blog.wu-boy.com/tags/mrtg/feed.xml" rel="self" type="application/rss+xml"/><item><title>[FreeBSD] SNMP 統計流量分析 mrtg</title><link>https://blog.wu-boy.com/2008/03/freebsd-snmp-%E7%B5%B1%E8%A8%88%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-mrtg/</link><pubDate>Thu, 20 Mar 2008 14:05:08 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2008/03/freebsd-snmp-%E7%B5%B1%E8%A8%88%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-mrtg/</guid><description>&lt;p>最近處理系上伺服器，安裝的是 &lt;a href="http://www.freebsd.org">FreeBSD&lt;/a> 7.0 Release 版本，想說來裝個 &lt;a href="http://www.mrtg.com/">mrtg&lt;/a> 來統計流量，因為目前 SNMP 已經納入 FreeBSD base 系統裡面了，所以在安裝 mrtg 就相當方便了，我之前有寫過三篇關於統計流量的教學 &lt;a href="http://blog.wu-boy.com/2006/12/05/51/">MRTG Server performace&lt;/a> &lt;a href="http://blog.wu-boy.com/2006/11/28/47/">[Linux] Mrtg 實做 war3 線上人數統計&lt;/a> &lt;a href="http://blog.wu-boy.com/2006/11/08/32/">[FreeBSD] 安裝基本mrtg主機流量統計圖&lt;/a> &lt;a href="http://blog.wu-boy.com/2006/09/26/19/">[FC4] snmpd + mrtg 安裝教學「注意事項」&lt;/a>&lt;/p></description></item><item><title>[Linux] Mrtg 實做 war3 線上人數統計</title><link>https://blog.wu-boy.com/2006/11/linux-mrtg-%E5%AF%A6%E5%81%9A-war3-%E7%B7%9A%E4%B8%8A%E4%BA%BA%E6%95%B8%E7%B5%B1%E8%A8%88/</link><pubDate>Tue, 28 Nov 2006 09:13:34 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/11/linux-mrtg-%E5%AF%A6%E5%81%9A-war3-%E7%B7%9A%E4%B8%8A%E4%BA%BA%E6%95%B8%E7%B5%B1%E8%A8%88/</guid><description>應大家觀眾要求，來寫一下教學 當然我不想怎麼安裝mrtg了，搜尋一下本站就會找到教學 相信mrtg最主要是他的設定檔 cfg檔，先來看看 這個cfg檔怎麼寫
# Created by# Appleboy 2006/09/25WorkDir: /usr/local/www/data-distLanguage: big5Target[bnet_person]: `/usr/local/etc/mrtg/mrtg.person.sh`MaxBytes[bnet_person]: 10000Options[bnet_person]: gauge, nopercent, growrightYLegend[bnet_person]: Online UsersShortLegend[bnet_person]: 人LegendI[bnet_person]: &amp;nbsp; 線上人數 :LegendO[bnet_person]: &amp;nbsp; 遊戲數目 :Title[bnet_person]: 小熊戰網 上線人數統計表先來解釋 WorkDir: /usr/local/www/data-dist 這個是來存放mrtg統計圖的資料夾，請對應到相關可以放html的資料夾 Target[bnet_person]: `/usr/local/etc/mrtg/mrtg.person.sh` 以下是 mrtg.person.sh 這個檔案 #!/bin/sh# 這個程式主要在計算有多少人以 bnetd 的方式連線進我們的主機！# 1. 計算線上的數目cat /~pvpgn/server.dat | grep "Users" | cut -d "=" -f2# 2. 計算遊戲數目cat /~pvpgn/server.</description></item><item><title>[FreeBSD] 安裝基本mrtg主機流量統計圖</title><link>https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D%E5%9F%BA%E6%9C%ACmrtg%E4%B8%BB%E6%A9%9F%E6%B5%81%E9%87%8F%E7%B5%B1%E8%A8%88%E5%9C%96/</link><pubDate>Wed, 08 Nov 2006 10:17:40 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/11/freebsd-%E5%AE%89%E8%A3%9D%E5%9F%BA%E6%9C%ACmrtg%E4%B8%BB%E6%A9%9F%E6%B5%81%E9%87%8F%E7%B5%B1%E8%A8%88%E5%9C%96/</guid><description>主機資訊 FreeBSD 6.1-RELEASE 安裝步驟 cd /usr/ports/net-mgmt/net-snmp; make install cleancd /usr/ports/net-mgmt/mrtg; make install clean 這2個安裝好，其實基本上就已經可以使用了 在 /etc/rc.conf 加上 snmpd_enable="YES"snmpd_flags="-a -p /var/run/snmpd.pid"snmptrapd_enable="YES"snmptrapd_flags="-a -p /var/run/snmptrapd.pid" 修改 snmpd.conf 檔 目錄在 /usr/local/share/snmp/snmpd.conf com2sec local localhost public com2sec lan 192.168.100.0/24 public group RWGroup v1 local group ROGroup v1 lan view all included .1 80 access RWGroup “” any noauth prefix all all all access ROGroup “” any noauth prefix all none none 紅色部份，盡量不要用 public ，因為這樣別人可以猜到你的mrtg設定 修改好存檔</description></item><item><title>[FC4] snmpd + mrtg 安裝教學「注意事項」</title><link>https://blog.wu-boy.com/2006/09/fc4-snmpd-mrtg-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8%E3%80%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85%E3%80%8D/</link><pubDate>Mon, 25 Sep 2006 21:30:50 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/fc4-snmpd-mrtg-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8%E3%80%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85%E3%80%8D/</guid><description>其實安裝方面並不難 FreeBSD 就用ports安裝 fc系列 就用 yum 或者是 apt FreeBSD: /usr/ports/net-mgmt/net-snmp /usr/ports/net-mgmt/mrtg http://phorum.study-area.org/viewtopic.php?t=21142&amp;amp;highlight=public+cfgmaker 我找到的資料 ～ 照上面修改大致上ok</description></item><item><title>[FC4] 限制connection 連線數目「架設war3伺服器」</title><link>https://blog.wu-boy.com/2006/09/fc4-%E9%99%90%E5%88%B6connection-%E9%80%A3%E7%B7%9A%E6%95%B8%E7%9B%AE%E3%80%8C%E6%9E%B6%E8%A8%ADwar3%E4%BC%BA%E6%9C%8D%E5%99%A8%E3%80%8D/</link><pubDate>Sun, 24 Sep 2006 23:58:32 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2006/09/fc4-%E9%99%90%E5%88%B6connection-%E9%80%A3%E7%B7%9A%E6%95%B8%E7%9B%AE%E3%80%8C%E6%9E%B6%E8%A8%ADwar3%E4%BC%BA%E6%9C%8D%E5%99%A8%E3%80%8D/</guid><description>fc4作業系統 預設 有連線數目的限制 還有使用者連線的限制 不過解決方法很容易 http://www.ithome.com.tw/plog/index.php?op=ViewArticle&amp;amp;articleId=761&amp;amp;blogId=131 我查到的解決方式 我改完之後如下
core file size (blocks, -c) 0 data seg size (kbytes, -d) unlimited file size (blocks, -f) unlimited pending signals (-i) 16255 max locked memory (kbytes, -l) 32 max memory size (kbytes, -m) unlimited open files (-n) 819200 pipe size (512 bytes, -p) 8 POSIX message queues (bytes, -q) 819200 stack size (kbytes, -s) 10240 cpu time (seconds, -t) unlimited max user processes (-u) 102400 virtual memory (kbytes, -v) unlimited file locks (-x) unlimited ulimit：顯示（或設定）用戶可以使用的資源限制 ulimit -a 顯示用戶可以使用的資源限制 ulimit unlimited 不限制用戶可以使用的資源，但本設定對可打開的最大文件數（max open files） 和可同時執行的最大進程數（max user processes）無效 ulimit -n &amp;lt;可以同時打開的檔案數&amp;gt; 設定用戶可以同時打開的最大檔案數（max open files） 例如：ulimit -n 8192 如果本參數設定過小，對於併發訪問量大的網站，可能會出現too many open files的錯誤 ulimit -u &amp;lt;可以執行的最大併發進程數&amp;gt; 設定用戶可以同時執行的最大進程數（max user processes） 例如：ulimit -u 1024</description></item></channel></rss>