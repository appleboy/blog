<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Embedded System on 小惡魔 - AppleBOY</title><link>https://blog.wu-boy.com/tags/embedded-system/</link><description>Recent content in Embedded System on 小惡魔 - AppleBOY</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Thu, 26 May 2011 06:42:49 +0000</lastBuildDate><atom:link href="https://blog.wu-boy.com/tags/embedded-system/feed.xml" rel="self" type="application/rss+xml"/><item><title>busybox iptunnel 噴出錯誤訊息</title><link>https://blog.wu-boy.com/2011/05/busybox-iptunnel-%E5%99%B4%E5%87%BA%E9%8C%AF%E8%AA%A4%E8%A8%8A%E6%81%AF/</link><pubDate>Thu, 26 May 2011 06:42:49 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/05/busybox-iptunnel-%E5%99%B4%E5%87%BA%E9%8C%AF%E8%AA%A4%E8%A8%8A%E6%81%AF/</guid><description>最近在弄新案子，用的是 Atheros solution (被高通買下)，發現 SDK 裡面已經有更新到 Busybox 1.15，由於在建 ipv6 tunnel 時候必須用到 ip 這指令，當然必須支援 iptunnel，當我把 busybox 選項打開就噴出底下錯誤訊息:
busybox-1.01/networking/libiproute/libiproute.a(iptunnel.o):iptunnel.c:(.text+0x574): more undefined references to `__cpu_to_be16' follow 在 Google 大神指示下找到一篇答案 修改 networking/libiproute/iptunnel.c
#include # 後面加上 #include</description></item><item><title>2011 OSDC Day 1 筆記</title><link>https://blog.wu-boy.com/2011/03/2011-osdc-day-1-%E7%AD%86%E8%A8%98/</link><pubDate>Thu, 31 Mar 2011 12:55:56 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/03/2011-osdc-day-1-%E7%AD%86%E8%A8%98/</guid><description>Update: 補上 OSDC 紀錄影片 2011.06.26 今年很高興可以北上參加 OSDC 2011 (Open Source Developers Conference)，由於之前都在南部唸書及工作，沒有機會北上參加聚會，現在人在新竹，終於有機會可以參加了，雖然早上六點就要起床趕電車了，不過到現場聽課感覺就是不同，也可以認識很多新朋友，底下來紀錄上課筆記
微軟與 jQuery 社群的親密接觸 講者: Eric Shangkuan (Microsoft) Slide: 微軟與 jQuery 社群的親密接觸 這是 OSDC 第一場演講，早上九點就開始了，雖然人不多，但是蠻多人還是為了講者而來，首先介紹什麼是 jQuery，以及 jQuery 一些基本用法，像是 CSS selector，如何在 Windows Visual Studio 上面開發 jQuery 及撰寫 plugin 整合進去 ASP.Net，最後介紹三個不錯用的 jQuery Plugin: Templeate, Datalink, Globalzation。
Templeate: 這搭配 Facebook api 可以直接做個人頁面，請參考這裡 Globalzation: 前端多國語系實做 Datalink: 可以快速處理 form，利用 object 跟 jQuery 搭配 如果要研究上述三個 jQuery Plugin 可以參考底下: jQuery Datalink: https://github.com/jquery/jquery-datalink jQuery Templeate: https://github.</description></item><item><title>[Linux] 打造 Ubuntu 10.10 嵌入式系統 Embedded System 開發環境</title><link>https://blog.wu-boy.com/2011/02/linux-%E5%BB%BA%E6%A7%8B-ubuntu-10-10-%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%B5%B1%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/</link><pubDate>Thu, 10 Feb 2011 03:50:39 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/02/linux-%E5%BB%BA%E6%A7%8B-ubuntu-10-10-%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%B5%B1%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/</guid><description>&lt;p>作者於公司內部擔任&lt;a href="http://en.wikipedia.org/wiki/Embedded_system">嵌入式系統&lt;/a>(Embedded System)工程師，由於嵌入式系統開發環境，本 Team 大多是用於 &lt;a href="http://fedoraproject.org/">Fedora&lt;/a> 作業系統，個人覺得 Fedora 太肥了，所以打造了 &lt;a href="http://www.ubuntu-tw.org/">Ubuntu&lt;/a> 的環境，針對於各家不同晶片廠商所提供的 &lt;a href="http://en.wikipedia.org/wiki/Toolchain">ToolChain&lt;/a> 及 Code base 進行編譯，其實也不會很難，修改 Makefile 檔案大致上都可以完成，安裝各種不同版本的 gcc 來搭配各家 &lt;a href="http://en.wikipedia.org/wiki/Vendor">Vendor&lt;/a> 所提供的環境，底下是剛安裝好 Ubuntu 10.10 版本所需要的一些軟體套件，利用 apt-get 指令就可以安裝完成:&lt;/p>
&lt;pre class="brush: bash; title: ; notranslate" title="">#!/bin/sh
apt-get update
apt-get -y install openssh-server
apt-get -y install vim
apt-get -y upgrade
apt-get -y install build-essential
apt-get -y install git
apt-get -y install subversion
apt-get -y install bison
apt-get -y install flex
apt-get -y install gettext
apt-get -y install g++
apt-get -y install libncurses5-dev
apt-get -y install libncursesw5-dev
apt-get -y install exuberant-ctags
apt-get -y install sharutils
apt-get -y install help2man
apt-get -y install zlib1g-dev libssl-dev
# for samba 3.0.2
apt-get -y install gawk
# for Ralink
apt-get -y install libid3tag0-dev
apt-get -y install libgdbm-dev&lt;/pre></description></item><item><title>[Linux] 將 iperf 導入嵌入式系統 Router</title><link>https://blog.wu-boy.com/2011/01/linux-%E5%B0%87-iperf-%E5%B0%8E%E5%85%A5%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%B5%B1-router/</link><pubDate>Thu, 06 Jan 2011 05:51:04 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2011/01/linux-%E5%B0%87-iperf-%E5%B0%8E%E5%85%A5%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%B5%B1-router/</guid><description>iperf 是一套測試網路效能工具，對於網通廠各工程師們不可或缺的啦，分享如何將 iperf 裝到嵌入式板子，其實在 Porting 每一個工具到板子上的方式差不多，步驟大概是利用 configure file 產生 Makefile，修改 gcc tool chain 路徑，將編譯好的程式放到 root file system，基本上就是如此，目前 iperf 到 2.0.5 版，大家快去下載吧。 直接修改 user space 的 Makefile:
cd ./user/apps/iperf-2.0.5; \
./configure --host=mips-linux CC=$(TOOLPREFIX)gcc CXX=$(TOOLPREFIX)g++ --disable-ipv6 \
--prefix=$(shell (pwd -P))/user/apps/iperf-2.0.5/romfs;\
$(MAKE) &amp;&amp; $(MAKE) install ;\ --host, CC, CXX 請換上 Tool Chain 對應路徑，大致上就可以了，更多設定可以參考 ./configure --help 編譯過程如果出現底下錯誤 undefined reference to malloc 就將 config.h.in 這檔案，底下整段 mark 起來，就可以編譯過了 /* Define to rpl_malloc if the replacement function should be used.</description></item><item><title>[Linux] 嵌入式系統不可或缺的工具 – busybox 分析 ifconfig command</title><link>https://blog.wu-boy.com/2010/12/linux-%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%B5%B1%E4%B8%8D%E5%8F%AF%E6%88%96%E7%BC%BA%E7%9A%84%E5%B7%A5%E5%85%B7-busybox-%E5%88%86%E6%9E%90-ifconfig-command/</link><pubDate>Sun, 26 Dec 2010 16:08:07 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2010/12/linux-%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%B5%B1%E4%B8%8D%E5%8F%AF%E6%88%96%E7%BC%BA%E7%9A%84%E5%B7%A5%E5%85%B7-busybox-%E5%88%86%E6%9E%90-ifconfig-command/</guid><description>&lt;p>&lt;img src="https://i1.wp.com/www.busybox.net/images/busybox1.png?w=840" alt="Busybox" data-recalc-dims="1" />&lt;/p>
&lt;p>玩過嵌入式系統的使用者，一定都會知道 &lt;a href="http://zh.wikipedia.org/zh-tw/BusyBox">Busybox&lt;/a>，它提供一些小型 Linux command，方便在 console 端使用，以及一些 C 語言或者是 shell script 裡面，大家都知道 ifconfig 這指令，為了從 Kernel 2.6.15 轉換到 2.6.34.7 版本，原本的 Busybox 版本只有 1.0.1，現在已經到 1.18.1，轉換過程改了 Kernel &lt;a href="http://www.netfilter.org/">netfilter&lt;/a> 部份，以及 user space 部份 &lt;a href="http://netfilter.org/documentation/HOWTO/netfilter-extensions-HOWTO.html">iptables extension&lt;/a>。ifconfig 是 Busybox 其中一個指令用來查看目前有多少網路介面(network interface)，來看看他是如何得到這些 interface 資訊，包含介面名稱、type、IP Adress、IP network mask、HW address 等&amp;hellip;.。&lt;/p>
&lt;p>要讀取 interface 相關資訊可以透過兩種方式，一種是讀取 (IPv6 是 /proc/net/if_inet6)，另一種透過 Socket 連接SOCK_DGRAM，最後用 iotcl 方式讀取 interface 相關資料，busybox 會先偵測檔案 /proc/net/dev 是否存在，如果 Kernel 有支援，就會讀取此檔案，如果不存在，則利用 socket 讀取資料。&lt;/p>
&lt;p>if_readlist_proc 函式裡面:&lt;/p>
&lt;div class="highlight">&lt;div style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2">&lt;code>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="1">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#1">1&lt;/a>
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="2">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#2">2&lt;/a>
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="3">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#3">3&lt;/a>
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="4">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#4">4&lt;/a>
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2">&lt;code class="language-c" data-lang="c">fh = fopen_or_warn(_PATH_PROCNET_DEV, &lt;span style="color:#cd5555">&amp;#34;r&amp;#34;&lt;/span>);
&lt;span style="color:#8b008b;font-weight:bold">if&lt;/span> (!fh) {
&lt;span style="color:#8b008b;font-weight:bold">return&lt;/span> if_readconf();
}
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>看一下 /proc/net/dev 內容&lt;/p>
&lt;div class="highlight">&lt;div style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2">&lt;code>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="1">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#1">1&lt;/a>
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="2">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#2">2&lt;/a>
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="3">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#3">3&lt;/a>
&lt;/span>&lt;span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="4">&lt;a style="outline: none; text-decoration:none; color:inherit" href="#4">4&lt;/a>
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="background-color:#eed;-moz-tab-size:2;-o-tab-size:2;tab-size:2">&lt;code class="language-bash" data-lang="bash">Inter-| Receive | Transmit
face |bytes packets errs drop fifo frame compressed multicast|bytes packets errs drop fifo colls carrier compressed
lo: &lt;span style="color:#b452cd">104&lt;/span> &lt;span style="color:#b452cd">1&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">104&lt;/span> &lt;span style="color:#b452cd">1&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span>
eth0:21798505 &lt;span style="color:#b452cd">51360&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">7693686&lt;/span> &lt;span style="color:#b452cd">46844&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span> &lt;span style="color:#b452cd">0&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item></channel></rss>