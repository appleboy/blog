<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>drone ci on 小惡魔 - AppleBOY</title><link>https://blog.wu-boy.com/tags/drone-ci/</link><description>Recent content in drone ci on 小惡魔 - AppleBOY</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Mon, 26 Oct 2020 03:39:02 +0000</lastBuildDate><atom:link href="https://blog.wu-boy.com/tags/drone-ci/feed.xml" rel="self" type="application/rss+xml"/><item><title>用 GitHub Actions, Drone CI 或 GitLab CI 部署 AWS Lambda</title><link>https://blog.wu-boy.com/2020/10/deploy-lambda-github-actions-drone-ci-gitlab-ci/</link><pubDate>Mon, 26 Oct 2020 03:39:02 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2020/10/deploy-lambda-github-actions-drone-ci-gitlab-ci/</guid><description>&lt;p>&lt;a href="https://www.flickr.com/photos/appleboy/43711539730/in/dateposted-public/" title="Screen Shot 2018-10-24 at 9.37.49 AM">&lt;img src="https://i1.wp.com/farm2.staticflickr.com/1956/43711539730_7bd9f610c3_z.jpg?w=840&amp;#038;ssl=1" alt="Screen Shot 2018-10-24 at 9.37.49 AM" data-recalc-dims="1" />&lt;/a>&lt;/p>
&lt;p>最近剛好把 &lt;a href="https://github.com/appleboy/drone-lambda">drone-lambda&lt;/a> 新增了一些新的功能，也就是可以透過 CI/CD 的方式來更新 &lt;a href="https://aws.amazon.com/tw/lambda/">AWS Lambda&lt;/a> 基本設定，像是 Memory Size, Handler, Timeout, Runtime 或 Role 等 &amp;hellip;，趁這機會寫篇教學紀錄如何透過 &lt;a href="https://github.com/features/actions">GitHub Actions&lt;/a>, &lt;a href="https://cloud.drone.io">Drone CI&lt;/a> 或 &lt;a href="https://docs.gitlab.com/ee/ci/">GitLab CI&lt;/a> 部署 AWS Lambda。這三套部署方式都是透過 &lt;a href="https://github.com/appleboy/drone-lambda">drone-lambda&lt;/a> 包好的 Image 來進行。底下的程式碼都可以在&lt;a href="https://github.com/go-training/drone-lambda-demo">這邊找到&lt;/a>。&lt;/p></description></item><item><title>Docker 推出官方 GitHub Actions 套件</title><link>https://blog.wu-boy.com/2020/03/docker-release-github-actions-plugin/</link><pubDate>Sun, 29 Mar 2020 13:32:28 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2020/03/docker-release-github-actions-plugin/</guid><description>&lt;p>&lt;a href="https://lh3.googleusercontent.com/HM1o-XLKQSuzYOobmH10dENcm8KwZ3eMqHt99LWMLHMw_14CBHJEr8xuktBUvQFInGX1oLetjI97GkoHCTWFzaXLT_-YBVNv0_jsHYS1Fd2mDXk-v68I4itwP54-4eSZiQ3MewsF47U=w1920-h1080" title="cover">&lt;img src="https://lh3.googleusercontent.com/HM1o-XLKQSuzYOobmH10dENcm8KwZ3eMqHt99LWMLHMw_14CBHJEr8xuktBUvQFInGX1oLetjI97GkoHCTWFzaXLT_-YBVNv0_jsHYS1Fd2mDXk-v68I4itwP54-4eSZiQ3MewsF47U=w1920-h1080" alt="cover" title="cover">&lt;/a>&lt;/p>
&lt;p>去年 &lt;a href="https://github.com">GitHub&lt;/a> 推出 &lt;a href="https://github.com/features/actions">Actions&lt;/a>，就有不少開發者相繼把 CI/CD 流程內會使用到的 Plugin 都丟到 &lt;a href="https://github.com/marketplace?type=actions">Marktetplace&lt;/a>，而在這 &lt;a href="https://docker.com">Docker&lt;/a> 容器時代，肯定是需要用自動化上傳容器到 Docker Registry，而官方也在&lt;a href="https://www.docker.com/blog/first-docker-github-action-is-here/">上週正式釋出第一版 GitHub Actions&lt;/a>，雖然在 Marktet 尚有不少開發者已經有實現了此功能，但是官方既然推出了，就採用官方的套件會比較適合。底下我們來看看如何使用 Docker 推出的 GitHub Aciton 來自動化上傳 Docker Image。除了介紹如何使用 GitHub Action 上傳 Image 外，我也會拿 &lt;a href="https://drone.io/">Drone&lt;/a> 的 &lt;a href="http://plugins.drone.io/drone-plugins/drone-docker/">Docker Plugin&lt;/a> 來進行比較。&lt;/p></description></item><item><title>[Drone] 將單一 Job 分配到多台機器，降低部署執行時間</title><link>https://blog.wu-boy.com/2019/08/drone-multiple-machine/</link><pubDate>Mon, 05 Aug 2019 05:40:22 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2019/08/drone-multiple-machine/</guid><description>&lt;p>&lt;a href="https://lh3.googleusercontent.com/q2Z5tLXdw_GINCveZ4860CTUhfnJtrhdSuWt4VItXWggiPnKqc0sI_0lvxz4lfB4v-MoCPNW50H16QwzQUzOwuIfgug6fvwemQme0Km9c9UeEdCYL2cZzHuK7lhZ4lMClDZ07CBVLiM=w1920-h1080" title="drone multiple machine">&lt;img src="https://lh3.googleusercontent.com/q2Z5tLXdw_GINCveZ4860CTUhfnJtrhdSuWt4VItXWggiPnKqc0sI_0lvxz4lfB4v-MoCPNW50H16QwzQUzOwuIfgug6fvwemQme0Km9c9UeEdCYL2cZzHuK7lhZ4lMClDZ07CBVLiM=w1920-h1080" alt="drone multiple machine" title="drone multiple machine">&lt;/a>&lt;/p>
&lt;p>在傳統 CI/CD 流程，都是會在同一台機器上進行，所以當有一個 Job 吃了很大的資源時，其他工作都必須等待該 Job 執行完畢，釋放出資源後，才可以繼續進行。現在 Drone 推出一個新功能，叫做 &lt;a href="https://docs.drone.io/user-guide/pipeline/multi-machine/">Multiple Machine&lt;/a> 機制，現在開發者可以將同一個 Job 內，拆成很多步驟，將不同的步驟丟到不同機器上面去執行，降低部署執行時間，假設現在有兩台機器 A 及 B，你可以將前端的測試丟到 A 機器，後端的測試，丟到 B 機器，來達到平行處理，並且享受兩台機器的資源，在沒有這機制之前，只能在單一機器上面跑平行處理，沒有享受到多台機器的好處。&lt;/p></description></item><item><title>透過 Drone CLI 手動觸發 CI/CD 流程</title><link>https://blog.wu-boy.com/2019/07/trigger-the-drone-job-via-promotion/</link><pubDate>Tue, 30 Jul 2019 15:12:31 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2019/07/trigger-the-drone-job-via-promotion/</guid><description>&lt;p>&lt;a href="https://lh3.googleusercontent.com/72xMoCcL6pClsS5eH08zTP2ksHlV2XaRVhtSDuyYnZ-nDBtXR5dxVyGp6WIE-RJ48WL4ZEwTyAijcmua7ade_GGzJ6yDfcolY2h4ejUGASUjWoDXHQ1okvElcJY7tpf7bxnVc3rrZ7Y=w1920-h1080" title="drone promotion">&lt;img src="https://lh3.googleusercontent.com/72xMoCcL6pClsS5eH08zTP2ksHlV2XaRVhtSDuyYnZ-nDBtXR5dxVyGp6WIE-RJ48WL4ZEwTyAijcmua7ade_GGzJ6yDfcolY2h4ejUGASUjWoDXHQ1okvElcJY7tpf7bxnVc3rrZ7Y=w1920-h1080" alt="drone promotion" title="drone promotion">&lt;/a>&lt;/p>
&lt;p>相信大家對於 &lt;a href="https://cloud.drone.io/">Drone&lt;/a> 並不陌生，這次來介紹 Drone 1.0 的新功能 (更多的 1.0 功能會陸續介紹，也可以參考&lt;a href="https://blog.wu-boy.com/2019/04/cicd-drone-1-0-feature/">之前的文章&lt;/a>)，叫做 promotion，為什麼作者會推出這功能呢？大家在團隊工作時，有些步驟真的無法導入 CI/CD 自動化流程，而是需要人工介入後，再做後續處理？相信一定會遇到此狀況，PM 或老闆看過沒問題後，才需要手動觸發流程，在此功能以前，都會麻煩工程師幫忙做後續自動化流程，但是有了 &lt;a href="https://docs.drone.io/user-guide/pipeline/promotion/">promotion&lt;/a>，現在連 PM 都可以透過 Drone CLI 來自己做部署啦，這邊就是介紹給大家，如何透過 &lt;a href="https://github.com/drone/drone-cli">Drone CLI&lt;/a> 指令來觸發已存在的工作項目。&lt;/p></description></item><item><title>用 Ansible 安裝 Drone CI/CD 開源專案</title><link>https://blog.wu-boy.com/2019/06/install-drone-ci-cd-using-ansible/</link><pubDate>Mon, 17 Jun 2019 07:18:39 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2019/06/install-drone-ci-cd-using-ansible/</guid><description>&lt;p>&lt;a href="https://lh3.googleusercontent.com/HZqWLZjp96azorhAZseeSbSj9Q5-dj99lM8cX4ApJjnDL0grXaMEoIHJl3dQEx-ZyFcI713_CeQlPSFMOLgxD19tBOLMmgdQlwMe_QMhwGKrh2pQDWE2bj4cul4ENt21sWRFOYq6agc=w1920-h1080" title="drone and ansible">&lt;img src="https://lh3.googleusercontent.com/HZqWLZjp96azorhAZseeSbSj9Q5-dj99lM8cX4ApJjnDL0grXaMEoIHJl3dQEx-ZyFcI713_CeQlPSFMOLgxD19tBOLMmgdQlwMe_QMhwGKrh2pQDWE2bj4cul4ENt21sWRFOYq6agc=w1920-h1080" alt="drone and ansible" title="drone and ansible">&lt;/a>&lt;/p>
&lt;p>相信大家對於 &lt;a href="https://github.com/drone/drone">Drone 開源專案&lt;/a>並不陌生，如果對於 Drone 不了解的朋友們，可以直接看之前寫的&lt;a href="https://blog.wu-boy.com/?s=drone">系列文章&lt;/a>，本篇要教大家如何使用 &lt;a href="https://www.ansible.com/">Ansible&lt;/a> 來安裝 Drone CI/CD 開源專案。目前 Drone 可以支援兩種安裝方式: 1. 使用 Docker 2. 使用 binary，如果您是進階開發者，可以使用 binary 方式來安裝，像是在 Debug 就可以透過 build binary 方式來測試。一般來說都是使用 Docker 方式來安裝，在使用 ansible 之前，請先準備一台 Ubuntu 或 Debian 作業系統的 VM 來測試。&lt;/p></description></item></channel></rss>