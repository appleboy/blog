<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>XtraDB on 小惡魔 - AppleBOY</title><link>https://blog.wu-boy.com/tags/xtradb/</link><description>Recent content in XtraDB on 小惡魔 - AppleBOY</description><generator>Hugo</generator><language>en-us</language><managingEditor>appleboy.tw@gmail.com (Appleboy)</managingEditor><webMaster>appleboy.tw@gmail.com (Appleboy)</webMaster><lastBuildDate>Thu, 16 Jan 2014 08:25:42 +0000</lastBuildDate><atom:link href="https://blog.wu-boy.com/tags/xtradb/feed.xml" rel="self" type="application/rss+xml"/><item><title>Percona XtraDB Server 出現 read only issue</title><link>https://blog.wu-boy.com/2014/01/percona-xtradb-server-read-only-issue/</link><pubDate>Thu, 16 Jan 2014 08:25:42 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2014/01/percona-xtradb-server-read-only-issue/</guid><description>&lt;div style="margin:0 auto; text-align:center">
 &lt;a href="https://www.flickr.com/photos/appleboy/8171305355/" title="mysql_logo by appleboy46, on Flickr">&lt;img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?w=300&amp;#038;ssl=1" alt="mysql_logo" data-recalc-dims="1" />&lt;/a>
&lt;/div>
&lt;p>最近在整理 &lt;a href="http://www.percona.com/software/percona-server">Percona XtraDB Server&lt;/a> 將 Read Write 全部拆開，寫入部份只開一台 Node，讀取機器 Replica 則是越多越好，當然如果預計 write 都不會有任何 conflict 的話，那就不用拆開，read write 都可以在同一台即可，拆開的目的要解決 &lt;code>Innodb transaction locking&lt;/code> 問題。今天遇到的是將機器讀寫都放在同一台，然後同時多台 Master 架構，結果跑在 &lt;a href="http://www.codeigniter.org.tw/">CodeIgniter&lt;/a> 上面出現底下錯誤訊息&lt;/p>
&lt;blockquote>
&lt;p>The MySQL server is running with the &amp;ndash;read-only option so it cannot execute this statement&lt;/p>
&lt;/blockquote></description></item><item><title>Sysbench 測試 Percona XtraDB Server 效能</title><link>https://blog.wu-boy.com/2014/01/sysbench-test-percona-xtradb-server-performance/</link><pubDate>Wed, 15 Jan 2014 11:00:15 +0000</pubDate><author>appleboy.tw@gmail.com (Appleboy)</author><guid>https://blog.wu-boy.com/2014/01/sysbench-test-percona-xtradb-server-performance/</guid><description>&lt;div style="margin:0 auto; text-align:center">
 &lt;a href="https://www.flickr.com/photos/appleboy/8171305355/" title="mysql_logo by appleboy46, on Flickr">&lt;img src="https://i1.wp.com/farm9.staticflickr.com/8488/8171305355_7fb578fdc9.jpg?w=300&amp;#038;ssl=1" alt="mysql_logo" data-recalc-dims="1" />&lt;/a>
&lt;/div>
&lt;p>今天拿 &lt;a href="https://launchpad.net/sysbench">MySQL benchmark tool - Sysbench&lt;/a> 來測試看看 &lt;a href="http://www.percona.com/software/percona-server">Percona XtraDB Server&lt;/a> + &lt;a href="http://haproxy.1wt.eu/">Haproxy&lt;/a> 效能如何，實驗主機是執行在 &lt;a href="http://www.centos.org/">CentOS&lt;/a> 6.4 版本，記憶體 128 G，在 CentOS 本身用 Yum 安裝 Sysbench 時，內建的版本為 0.4.12，單機測試 MySQL 效能不會出現任何錯誤，但是只要是透過 Haproxy，並且有兩台以上的 Server，就會噴出底下錯誤訊息:&lt;/p>
&lt;blockquote>
&lt;p>ALERT: failed to execute mysql_stmt_execute(): Err1317 Query execution was interrupted&lt;/p>
&lt;/blockquote></description></item></channel></rss>